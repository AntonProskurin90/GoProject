/*
 * Copyright (C) 2014-2015  Ilya Kirillov 
 * email: ilya_kirillov@inbox.ru
 *  
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 3.0 of the License, or (at your option) any later version.
 * 
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 * 
 * Version 0.9.51
*/
(function(){var q;function aa(a){this.k=a;this.N=this.c=null;this.ua=0;this.wb=x.wb;this.Bh=this.lf=this.Zd=this.od=this.pd=0;this.ke={};this.Ya=null;this.ef=!1;this.b={O:0,G:0,pj:0,xi:0,bb:0,Hb:0,zi:2,R:null,yi:null,Q:null,Vf:null,nh:[],sj:Array(361),Ce:null,Ye:null,Xg:null,fd:null,hd:null,aj:null,bj:null,Ti:null,Ui:null,Wi:null,Yi:null,Xi:null,Zi:null,Ei:null,jg:null,kg:null,Pi:null,wi:null,ki:null,gi:null};this.Pk=new B(255,0,0,128);this.a={e:null,Q:{e:null},R:{e:null},bd:{e:null},Fe:{e:null},za:{e:null},We:{e:null},ab:{e:null},Ib:{e:null},Event:{e:null},Mg:[]};this.Ab={f:-1,g:-1};this.Ja={};this.wa={};this.sf=-1;this.j={L:0,M:0,S:18,T:18};this.Dc=null;this.hf=!1;var b=this;this.Of=function(a){ba(a);a=b.ye(C.f,C.g);a=ca(b,a.f,a.g);da(b,a.f,a.g,!1)};this.xe=function(a){ba(a);b.hf=!1;ea(b)};this.we=function(a){fa(a);b.hf=!0;b.a.Event.e.a.focus();var d=b.ye(C.f,C.g),d=ca(b,d.f,d.g);b.$h(d.f,d.g,C);a.preventDefault();return!1};this.bi=function(){b.hf=!1};this.dl=function(a){ga(a);var d=!1;16===ha.C&&2===b.ua?(C.s=!0,b.kb(),d=!0):16!==ha.C&&17!==ha.C||10!==b.ua?(d=ia(b,ha),!0===d&&ea(b)):(16===ha.C?C.s=!0:17===ha.C&&(C.r=!0),b.kb(),d=!0);!0===d&&a.preventDefault();return d?!1:!0};this.fl=function(a){ga(a);16===ha.C&&2===b.ua?(C.s=!1,b.kb()):16!==ha.C&&17!==ha.C||10!==b.ua||(16===ha.C?C.s=!1:17===ha.C&&(C.r=!1),b.kb())};this.el=function(){};this.ei=function(){return setTimeout(function(){b.Wh();b.ue();b.Jf();b.If();if(b.b.R){var a=b.Lf(),d=b.Sb(),f=b.b.bb;b.b.fd=ja(b,f,f,.05*f,new B(0,0,0,255));b.b.hd=ja(b,f,f,.05*f,new B(255,255,255,255));b.b.aj=b.va(f,f,.05*f,new B(0,0,0,255));b.b.bj=b.va(f,f,.05*f,new B(255,255,255,255));b.b.Ti=ka(b,f,f,.05*f,new B(0,0,0,255));b.b.Ui=ka(b,f,f,.05*f,new B(255,255,255,255));b.b.Wi=la(b,f,f,!1,new B(0,0,0,255),a?new B(0,0,0,255):d?new B(255,255,255,255):new B(0,0,0,255));b.b.Yi=la(b,f,f,!1,new B(255,255,255,255),a?new B(255,255,255,255):d?new B(255,255,255,255):new B(0,0,0,255));b.b.Xi=la(b,f,f,!0,new B(0,0,0,255),a?new B(0,0,0,255):d?new B(255,255,255,255):new B(0,0,0,255));b.b.Zi=la(b,f,f,!0,new B(255,255,255,255),a?new B(255,255,255,255):d?new B(255,255,255,255):new B(0,0,0,255));b.b.Ei=ma(b,f,f,.05*f,new B(255,0,0,255));b.b.jg=ma(b,f,f,.05*f,new B(0,0,0,255));b.b.kg=ma(b,f,f,.05*f,new B(255,255,255,255));b.b.Pi=ka(b,f,f,.05*f,new B(200,0,0,255));b.b.wi=ka(b,f,f,.05*f,new B(0,128,0,255));b.b.ki=ka(b,f,f,.05*f,new B(0,0,200,255));b.b.gi=ka(b,f,f,.05*f,new B(128,128,128,255))}b.jb();b.b.Xg=na(b,!0)},20)};this.bl=function(a){a.preventDefault();return!1};this.cl=function(a){a.preventDefault();if(0<a.dataTransfer.files.length&&FileReader){a=a.dataTransfer.files[0];var d=a.name.split(".").pop().toLowerCase(),f=new FileReader;f.onload=function(a){b.c.rc(a.target.result,null,null,d)};f.readAsText(a);b.na()}}}q=aa.prototype;q.v=function(a,b){this.k&&this.k.Qi(this);this.c=b;this.N=b.fa;this.c.l=this;this.a.e=E(a);var c=this.a.e.a,d=a+"_BoardCanvas",f=a+"_LinesCanvas",e=a+"_ColorCanvas",g=a+"_ShadowsCanvas",h=a+"_StonesCanvas",l=a+"_VariantsCanvas",k=a+"_MarksCanvas",m=a+"_TargetCanvas",n=a+"_EventDiv";this.Ca(c,d);this.Ca(c,f);this.Ca(c,e);this.Ca(c,g);this.Ca(c,h);this.Ca(c,l);this.Ca(c,k);this.Ca(c,m);var c=this.sa(c,n),u=this.a.e;this.ma(this.a.Q,u,d);this.ma(this.a.R,u,f);this.ma(this.a.Fe,u,e);this.ma(this.a.za,u,g);this.ma(this.a.bd,u,h);this.ma(this.a.We,u,l);this.ma(this.a.ab,u,k);this.ma(this.a.Ib,u,m);this.ma(this.a.Event,u,n);c.onmousemove=this.Of;c.onmouseout=this.xe;c.onmousedown=this.we;c.onmouseup=this.bi;c.onkeydown=this.dl;c.onkeyup=this.fl;c.onkeypress=this.el;c.tabIndex=-1;c.style.Bk=!0;c.style.outline=0;c.ondragover=this.bl;c.ondrop=this.cl;return u};q.ii=function(a){this.a.Mg.push(a)};q.na=function(){this.a.Event.e.a.focus()};q.$g=function(a){if(a!==this.wb){x.$g(a);this.wb=a;a=0;for(var b=this.a.Mg.length;a<b;a++){var c=this.a.Mg[a];c.Ma(c.width,c.height)}oa(this);this.jb(!0)}};function na(a,b){var c=document.createElement("canvas"),d=c.getContext("2d");c.width=a.a.Q.e.a.width;c.height=a.a.Q.e.a.height;d.drawImage(a.a.Q.e.a,0,0);d.drawImage(a.a.R.e.a,0,0);!0===b&&d.drawImage(a.a.Fe.e.a,0,0);d.drawImage(a.a.za.e.a,0,0);d.drawImage(a.a.bd.e.a,0,0);d.drawImage(a.a.ab.e.a,0,0);return c}q.w=function(a){var b=this.a.e.a.clientWidth,c=this.a.e.a.clientHeight,d=pa(this),f=c*d;f<=b?b=f:c=b/d;if(b!==this.b.pj||c!==this.b.xi||!0===a)this.b.pj=b,this.b.xi=c,this.a.e.Ma(b,c),oa(this),this.jb(a)};function qa(a,b,c,d,f){var e=a.N.$(),e=Math.min(e.f,e.g);a.j.L=Math.max(0,Math.min(e-1,b));a.j.M=Math.max(0,Math.min(e-1,c));a.j.S=Math.max(0,Math.min(e-1,d));a.j.T=Math.max(0,Math.min(e-1,f));a.j.S<=a.j.L&&(a.j.L=0,a.j.S=e-1);a.j.T<=a.j.M&&(a.j.M=0,a.j.T=e-1)}function ra(a,b,c,d){if(a.b.R&&d!==a.ke[(c<<8)+b]){var f=a.a.bd.e.a.getContext("2d"),e=a.a.za.e.a.getContext("2d"),g=a.b.bb,h=(g-1)/2,l=a.b.R,k=a.b.Hb,m=a.Kf();if(!0===sa(a,b-1,c-1)){var n=l[b-1].f-h,h=l[c-1].g-h;switch(d){case F:f.putImageData(a.b.Vf,n,h);!0===m&&e.putImageData(a.b.za,n+k,h+k);break;case G:f.putImageData(a.b.nh[a.b.sj[b-1+(c-1)*a.N.$().f]],n,h);!0===m&&e.putImageData(a.b.za,n+k,h+k);break;default:f.clearRect(n,h,g,g),!0===m&&e.clearRect(n+k,h+k,g,g)}}a.ke[(c<<8)+b]=d;b===a.Ab.f&&c===a.Ab.g&&(F===d||G===d?ea(a):a.kb())}}q.rb=function(a,b){var c=(b<<8)+a;delete this.wa[""+c];c===this.sf&&(this.wa[""+c]=new ta(a,b,ua,""))};q.Da=function(a){va(this,a.Sc(),a.Tc(),a)};function wa(a,b){if((a.c.F&xa||9===b)&&a.ua!==b){1===a.ua&&a.c.hg();a.ua=b;a.kb();if(1===b){var c=a.N;c.Jb=[];for(var d=1;d<=c.H;d++)for(var f=1;f<=c.B;f++)c.Jb[ya(c,f,d)]=I;za(c,!1);a.c.Ge()}else if(9===b){c=a.N;for(d=1;d<=c.H;d++)for(f=1;f<=c.B;f++)Aa(c,f,d,c.D(f,d));c=Ba(a.N,a);a.qf&&Ca(a.qf,"B "+c.mi+"("+c.li+") W "+c.rj+"("+c.qj+")")}a.c.wc()}}function pa(a){var b=a.N.$(),b=Math.min(b.f,b.g),c=(a.j.S-a.j.L)*Da+2*Ea,d=(a.j.T-a.j.M)*Da+2*Ea;!0===a.wb&&(c+=Da,d+=Da);0<a.j.L&&(c+=Fa/2);a.j.S<b-1&&(c+=Fa/2);0<a.j.M&&(d+=Fa/2);a.j.T<b-1&&(d+=Fa/2);return c/d}q.Ca=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.sa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.ma=function(a,b,c){a.e=E(c);a=a.e;J(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=K|N|O|P;b.m(a)};q.ye=function(a,b){var c=Ga(this.a.Q.e.a);return{f:a-c.f,g:b-c.g}};function oa(a){var b=a.N.$(),b=Math.min(b.f,b.g);a.j.L=Math.max(0,Math.min(b-1,a.j.L));a.j.M=Math.max(0,Math.min(b-1,a.j.M));a.j.S=Math.max(0,Math.min(b-1,a.j.S));a.j.T=Math.max(0,Math.min(b-1,a.j.T));a.j.S<=a.j.L&&(a.j.L=0,a.j.S=b-1);a.j.T<=a.j.M&&(a.j.M=0,a.j.T=b-1);var c=(a.j.S-a.j.L)*Da+2*Ea,d=(a.j.T-a.j.M)*Da+2*Ea,f=Ea,e=Ea;!0===a.wb&&(c+=Da,d+=Da,f+=Fa,e+=Fa);0<a.j.L&&(c+=Fa/2,f+=Fa/2);a.j.S<b-1&&(c+=Fa/2);0<a.j.M&&(d+=Fa/2,e+=Fa/2);a.j.T<b-1&&(d+=Fa/2);a.lf=Da/d;a.Zd=Da/c;a.od=f/c;a.pd=e/d;a.Bh=4/c}q.jb=function(a){var b=this.a.Q.e.a.width,c=this.a.Q.e.a.height;if(b!=this.b.O||c!=this.b.G||null===this.b.Q||null!==this.Ya||!0===a){if(null!==this.Ya&&clearTimeout(this.Ya),this.Ya=this.ei(),this.ue(),0!==b&&0!==c)if(null!==this.b.Xg)this.a.Q.e.a.getContext("2d").drawImage(this.b.Xg,0,0,b,c);else{a=this.a.Q.e.a.getContext("2d");a.fillStyle=R(this.ve());a.fillRect(0,0,b,c);var d=this.a.R.e.a.getContext("2d");a=this.Zd*b;var f=this.lf*c,e=this.od*b-this.j.L*a,g=this.pd*c-this.j.M*f,h=this.N.$();d.clearRect(0,0,b,c);d.strokeStyle=R(this.Nc());for(var l=e+(h.f-1)*a,k=0;k<h.g;k++){var m=g+k*f;d.beginPath();d.moveTo(e,m);d.lineTo(l,m);d.stroke()}for(var l=g+(h.g-1)*f,n=0;n<h.f;n++)m=e+n*a,d.beginPath(),d.moveTo(m,g),d.lineTo(m,l),d.stroke();if(h.f===h.g&&(9===h.f||13===h.f||19===h.f)){d.fillStyle=R(this.Nc());k=Math.max(2,this.Bh*b/2);n=[];switch(h.f){case 9:n=[[2,2],[2,6],[4,4],[6,2],[6,6]];break;case 13:n=[[3,3],[3,6],[3,9],[6,3],[6,6],[6,9],[9,3],[9,6],[9,9]];break;case 19:n=[[3,3],[3,9],[3,15],[9,3],[9,9],[9,15],[15,3],[15,9],[15,15]]}for(var u=0,p=n.length;u<p;u++)l=e+n[u][0]*a,m=g+n[u][1]*a,d.beginPath(),d.arc(l,m,k,0,2*Math.PI,!1),d.fill()}d=this.a.bd.e.a.getContext("2d");d.clearRect(0,0,b,c);d.strokeStyle=R(this.Nc());d.lineWidth=1;u=R(new B(0,0,0,255));p=R(new B(255,255,255,255));for(k=1;k<=h.g;k++)for(n=1;n<=h.f;n++){l=this.N.D(n,k);if(F===l)d.fillStyle=u;else if(G===l)d.fillStyle=p;else continue;l=e+(n-1)*a;m=g+(k-1)*f;d.beginPath();d.arc(l,m,a/2,0,2*Math.PI,!1);d.fill();d.stroke()}this.a.za.e.a.getContext("2d").clearRect(0,0,b,c);this.a.We.e.a.getContext("2d").clearRect(0,0,b,c);this.a.ab.e.a.getContext("2d").clearRect(0,0,b,c);this.a.Ib.e.a.getContext("2d").clearRect(0,0,b,c)}}else{this.a.Q.e.a.getContext("2d").putImageData(this.b.Q,0,0);if(!0===this.wb&&this.b.R){b=this.a.Q.e.a.getContext("2d");c=this.b.O;g=this.b.G;a=this.N.$();for(h=this.j.L;h<=this.j.S;h++){d=2*this.b.bb/3;f=(d-1)/2;l=this.b.R;e=l[h].f-f;l=this.pd*g/3-f;m=new String;switch(h+1){case 1:m="A";break;case 2:m="B";break;case 3:m="C";break;case 4:m="D";break;case 5:m="E";break;case 6:m="F";break;case 7:m="G";break;case 8:m="H";break;case 9:m="J";break;case 10:m="K";break;case 11:m="L";break;case 12:m="M";break;case 13:m="N";break;case 14:m="O";break;case 15:m="P";break;case 16:m="Q";break;case 17:m="R";break;case 18:m="S";break;case 19:m="T";break;case 20:m="a";break;case 21:m="b";break;case 22:m="c";break;case 23:m="d";break;case 24:m="e";break;case 25:m="f";break;case 26:m="g";break;case 27:m="h";break;case 28:m="j";break;case 29:m="k";break;case 30:m="l";break;case 31:m="m";break;case 32:m="n";break;case 33:m="o";break;case 34:m="p";break;case 35:m="q";break;case 36:m="r";break;case 37:m="s";break;case 38:m="t"}k=2*d/3;n=Ha(m)?"Arial":"Helvetica, Arial, Verdana";n=k+"px "+n;b.fillStyle="rgb(0,0,0)";b.font=n;k=d/2+k/3;d=(d-b.measureText(m).width)/2;b.fillText(m,e+d,l+k);l=g-this.pd*g/3-f;b.fillText(m,e+d,l+k)}for(g=this.j.M;g<=this.j.T;g++)d=2*this.b.bb/3,f=(d-1)/2,l=this.b.R,e=this.od*c/3-f,l=l[g].g-f,m=a.g-g+"",k=2*d/3,n=Ha(m)?"Arial":"Helvetica, Arial, Verdana",n=k+"px "+n,b.fillStyle="rgb(0,0,0)",b.font=n,k=d/2+k/3,d=(d-b.measureText(m).width)/2,b.fillText(m,e+d,l+k),e=c-this.od*c/3-f,b.fillText(m,e+d,l+k)}Ia(this);b=this.b.O;c=this.b.G;this.a.bd.e.a.getContext("2d").clearRect(0,0,b,c);this.a.za.e.a.getContext("2d").clearRect(0,0,b,c);this.ke={};Ja(this);Ka(this);La(this);this.c&&this.c.Qd()}};q.Wh=function(){var a=this.a.Q.e.a.width,b=this.a.Q.e.a.height,c=this.a.Q.e.a.getContext("2d");if(0!==a&&0!==b){for(var c=c.createImageData(a,b),d=.9,f=this.ve(),e=f.o,g=f.q,f=f.p,h=Array(a),l=0;l<a;l++)h[l]=(Math.tan(300*l/a)+1)/2+(Math.tan(100*l/a)+1)/10;for(var k=Array(b),m=0;m<b;m++)k[m]=.02*Math.tan(m/b);var n,u;if(!0===this.Lf())for(m=0;m<b;m++)for(l=0;l<a;l++){d=40*(h[l]+k[m])+.5;d-=Math.floor(d);d=.2>d?1-d/2:.4>d?1-(.4-d)/2:1;if(m==b-1||m==b-2&&l<a-2||l>=a-1||l==a-2&&m<b-1)d/=2;0==m||1==m&&1<l||0==l||1==l&&1<m?(n=128+e*d/2,u=128+g*d/2,d=128+f*d/2):(n=e*d,u=g*d,d*=f);var p=4*(l+m*a);c.data[p+0]=n;c.data[p+1]=u;c.data[p+2]=d;c.data[p+3]=255}else for(m=0;m<b;m++)for(l=0;l<a;l++)0==m||1==m&&1<l||0==l||1==l&&1<m?(n=128+e/2,u=128+g/2,d=128+f/2):(n=e,u=g,d=f),p=4*(l+m*a),c.data[p+0]=n,c.data[p+1]=u,c.data[p+2]=d,c.data[p+3]=255;this.b.Q=c;this.b.O=a;this.b.G=b;this.Ya=null}};q.ue=function(){var a=this.b.O,b=this.b.G;if(0!==a&&0!==b){for(var c=this.od*a,d=this.pd*b,b=this.lf*b,f=this.Zd*a,e=this.N.$(),g=Math.min(e.f,e.g),e=Array(e.f),c=c-f*this.j.L,d=d-b*this.j.M,h,l,k,m,n,u,p,r,w,t,y=0;y<g;y++)h=c+y*f,k=c+y*f+.6*f,n=c+y*f-.6*f,p=c+y*f+.5*f,w=c+y*f-.5*f,l=d+y*b,m=d+y*b+.6*b,u=d+y*b-.6*b,r=d+y*b+.5*b,t=d+y*b-.5*b,e[y]={f:Math.floor(h+.5),xk:Math.floor(k+.5),yk:Math.floor(n+.5),oh:Math.floor(p+.5),gd:Math.floor(w+.5),g:Math.floor(l+.5),zk:Math.floor(m+.5),Ak:Math.floor(u+.5),ph:Math.floor(r+.5),jd:Math.floor(t+.5)};this.b.R=e;a=Math.max(2,Math.ceil(this.Bh*a/2));g=2*a+1;b=this.b;f=g+2;e=g+2;g=this.Nc();e=document.createElement("canvas").getContext("2d").createImageData(f,e);c=e.data;Math.max(f/2,2);d=f/2-.5;h=d-.2;for(l=0;l<f;l++)for(k=0;k<f;k++)m=l-d,n=k-d,m=h-Math.sqrt(m*m+n*n),n=4*(l*f+f-k-1),0<=m?(u=255,.8>=m&&(u=parseInt(255*(1-(.8-m)/.8))),c[n+0]=g.o,c[n+1]=g.q,c[n+2]=g.p,c[n+3]=u):(c[n+0]=0,c[n+1]=0,c[n+2]=0,c[n+3]=0);b.yi=e;this.b.zi=a+1}};function Ia(a,b){if(a.b.R){var c=a.b.O,d=a.b.G,f=a.a.R.e.a.getContext("2d"),e=a.N.$(),g=a.b.R;f.clearRect(0,0,c,d);if(e.f===e.g&&(9===e.f||13===e.f||19===e.f)){var h=a.b.yi,l=a.b.zi,k=[];switch(e.f){case 9:k=[[2,2],[2,6],[4,4],[6,2],[6,6]];break;case 13:k=[[3,3],[3,6],[3,9],[6,3],[6,6],[6,9],[9,3],[9,6],[9,9]];break;case 19:k=[[3,3],[3,9],[3,15],[9,3],[9,9],[9,15],[15,3],[15,9],[15,15]]}for(var m=0,n=k.length;m<n;m++)!0===sa(a,k[m][0],k[m][1])&&f.putImageData(h,g[k[m][0]].f-l,g[k[m][1]].g-l)}for(var n=0===a.j.L?g[a.j.L].f:g[a.j.L].yk,l=e.f-1===a.j.S?g[a.j.S].f:g[a.j.S].xk,k=0===a.j.M?g[a.j.M].g:g[a.j.M].Ak,m=e.f-1===a.j.T?g[a.j.T].g:g[a.j.T].zk,u=f.createImageData(1,d),p=f.createImageData(c,1),r=a.Nc(),w=0;w<d;w++)h=4*w,w>=k&&w<=m&&(u.data[h+0]=r.o,u.data[h+1]=r.q,u.data[h+2]=r.p,u.data[h+3]=r.Ha);for(w=0;w<c;w++)h=4*w,n<=w&&w<=l&&(p.data[h+0]=r.o,p.data[h+1]=r.q,p.data[h+2]=r.p,p.data[h+3]=r.Ha);for(w=0;w<e.f;w++)!0===(w>=a.j.L&&w<=a.j.S?!0:!1)&&f.putImageData(u,g[w].f,0),!0===(w>=a.j.M&&w<=a.j.T?!0:!1)&&f.putImageData(p,0,g[w].g);if(void 0!==b)for(c=g[1].f-g[0].f+2,d=g[1].g-g[0].g+2,h=0,n=b.length;h<n;h++)e=b[h].f,l=b[h].g,!0===sa(a,e-1,l-1)&&I===a.N.D(e,l)&&f.clearRect(g[e-1].gd,g[l-1].jd,c,d)}}q.Jf=function(a){if(this.b.R){var b=this.a.Q.e.a.width,c=this.a.bd.e.a.getContext("2d");a=2*Math.floor((a?a:Math.floor(this.Zd*b))/2)+1;this.b.bb=a;this.b.Vf=c.createImageData(a,a);this.b.wk=c.createImageData(a,a);this.b.Ce=c.createImageData(a,a);this.b.Ye=c.createImageData(a,a);var d=this.b.Vf.data,b=this.b.wk.data,f=this.b.Ce.data,e=this.b.Ye.data,g=this.Zh(),h=this.Xh(),l=this.Sb();if(!0===this.Yh())for(var k=a/2-.5,m=k-.2,g=Math.sqrt(3),n=0;n<a;n++)for(var u=0;u<a;u++){var p=n-k,r=u-k,w=m-Math.sqrt(p*p+r*r),t=4*(n*a+a-u-1);if(0<=w){var y=m*m-p*p-r*r,y=0<y?Math.sqrt(y)*g:0,l=p,H=r,h=Math.sqrt(6*(l*l+H*H+y*y)),h=(2*y-l+H)/h,l=0;.9<h&&(l=10*(h-.9));y=255;.8>=w&&(w=(.8-w)/.8,y=.7,p-r<m/3&&(y=1),y=parseInt(255*(1-w*y)));p=parseInt(10+10*h+140*l);d[t+0]=p;d[t+1]=p;d[t+2]=p;d[t+3]=y;f[t+0]=p;f[t+1]=p;f[t+2]=p;f[t+3]=parseInt(y/2);p=parseInt(200+10*h+45*l);b[t+0]=p;b[t+1]=p;b[t+2]=p;b[t+3]=y;e[t+0]=p;e[t+1]=p;e[t+2]=p;e[t+3]=parseInt(y/2)}else d[t+0]=0,d[t+1]=0,d[t+2]=0,d[t+3]=0,f[t+0]=0,f[t+1]=0,f[t+2]=0,f[t+3]=0,b[t+0]=0,b[t+1]=0,b[t+2]=0,b[t+3]=0,e[t+0]=0,e[t+1]=0,e[t+2]=0,e[t+3]=0}else for(k=a/2-.5,m=k-.2,n=0;n<a;n++)for(u=0;u<a;u++)if(p=n-k,r=u-k,w=m-Math.sqrt(p*p+r*r),t=4*(n*a+a-u-1),0<=w){y=255;if(.8>=w){var M=(.8-w)/.8,y=.7;p-r<m/3&&(y=1);y=parseInt(255*(1-M*y))}else 1.6>=w&&.8<=w&&!0===l&&(M=(1.6-w)/.8,y=.7,p-r<m/3&&(y=1),y=parseInt(M*y*255));H=!1;1.6>=w&&(H=!0);!1===H||!1===l?(d[t+0]=h.o,d[t+1]=h.q,d[t+2]=h.p,d[t+3]=y,f[t+0]=h.o,f[t+1]=h.q,f[t+2]=h.p,f[t+3]=parseInt(y/2)):(d[t+0]=g.o,d[t+1]=g.q,d[t+2]=g.p,d[t+3]=y,f[t+0]=g.o,f[t+1]=g.q,f[t+2]=g.p,f[t+3]=y);y=255;.8>=w?(M=(.8-w)/.8,y=.7,p-r<m/3&&(y=1),y=parseInt(255*(1-M*y))):1.6>=w&&.8<=w&&!1===l&&(M=(1.6-w)/.8,y=.7,p-r<m/3&&(y=1),y=parseInt(M*y*255));!1===H||!0===l?(b[t+0]=g.o,b[t+1]=g.q,b[t+2]=g.p,b[t+3]=y,e[t+0]=g.o,e[t+1]=g.q,e[t+2]=g.p,e[t+3]=parseInt(y/2)):(b[t+0]=h.o,b[t+1]=h.q,b[t+2]=h.p,b[t+3]=y,e[t+0]=h.o,e[t+1]=h.q,e[t+2]=h.p,e[t+3]=y)}else d[t+0]=0,d[t+1]=0,d[t+2]=0,d[t+3]=0,f[t+0]=0,f[t+1]=0,f[t+2]=0,f[t+3]=0,b[t+0]=0,b[t+1]=0,b[t+2]=0,b[t+3]=0,e[t+0]=0,e[t+1]=0,e[t+2]=0,e[t+3]=0;d=[];f=[];for(t=0;28>t;t++)for(d[t]=c.createImageData(a,a),f[t]=d[t].data,n=0;n<a;n++)for(u=0;u<a;u++)k=4*(n*a+u),f[t][k+0]=b[k+0],f[t][k+1]=b[k+1],f[t][k+2]=b[k+2],f[t][k+3]=b[k+3];f.push(e);f.push(b);if(!0===x.W.Ze){c=a/51*978|0;b=.9;t=Array(c);for(e=0;e<c;e++)t[e]=(Math.sin(18*e/c)+1)/20+(Math.sin(3*e/c)+1)/10;k=Array(c);for(n=0;n<c;n++)k[n]=.2*Math.cos(5*n/c)+.1*Math.sin(11*n/c);u=Array(c*c);for(n=0;n<c;n++)for(e=0;e<c;e++)b=90*(t[e]+k[n])+.5,b-=Math.floor(b),b=.2>b?1-b/2:.4>b?1-(.4-b)/2:1,u[e+n*c]=b;t=f.length;for(k=0;k<t;k++){var m=f[k],z,D;switch(k){case 0:z=12*c/978|0;D=163*c/978|0;break;case 1:z=12*c/978|0;D=213*c/978|0;break;case 2:z=12*c/978|0;D=263*c/978|0;break;case 3:z=12*c/978|0;D=313*c/978|0;break;case 4:z=62*c/978|0;D=163*c/978|0;break;case 5:z=62*c/978|0;D=213*c/978|0;break;case 6:z=62*c/978|0;D=263*c/978|0;break;case 7:z=62*c/978|0;D=313*c/978|0;break;case 8:z=113*c/978|0;D=163*c/978|0;break;case 9:z=113*c/978|0;D=213*c/978|0;break;case 10:z=113*c/978|0;D=263*c/978|0;break;case 11:z=113*c/978|0;D=313*c/978|0;break;case 12:z=163*c/978|0;D=163*c/978|0;break;case 13:z=163*c/978|0;D=213*c/978|0;break;case 14:z=163*c/978|0;D=263*c/978|0;break;case 15:z=163*c/978|0;D=313*c/978|0;break;case 16:z=213*c/978|0;D=163*c/978|0;break;case 17:z=213*c/978|0;D=213*c/978|0;break;case 18:z=213*c/978|0;D=263*c/978|0;break;case 19:z=213*c/978|0;D=313*c/978|0;break;case 20:z=263*c/978|0;D=163*c/978|0;break;case 21:z=263*c/978|0;D=213*c/978|0;break;case 22:z=263*c/978|0;D=263*c/978|0;break;case 23:z=263*c/978|0;D=313*c/978|0;break;case 24:z=313*c/978|0;D=163*c/978|0;break;case 25:z=313*c/978|0;D=213*c/978|0;break;case 26:z=313*c/978|0;D=263*c/978|0;break;case 27:z=313*c/978|0;D=313*c/978|0;break;case 28:z=12*c/978|0;D=12*c/978|0;break;case 29:z=12*c/978|0,D=12*c/978|0}for(n=0;n<a;n++)for(e=0;e<a;e++)b=u[z+e+(D+n)*c],p=4*(e+n*a),m[p+0]*=Math.pow(b,.8),m[p+1]*=Math.pow(b,.8),m[p+2]*=Math.pow(b,.8)}}this.b.nh=d;z=this.N.$();for(D=0;D<z.g;D++)for(a=0;a<z.f;a++)this.b.sj[a+D*z.f]=Math.floor(Math.random()*(this.b.nh.length-1))}};function Ja(a){for(var b=a.N.$(),c=1;c<=b.g;c++)for(var d=1;d<=b.f;d++)ra(a,d,c,a.N.D(d,c))}q.If=function(){if(this.b.R){var a=this.a.za.e.a.getContext("2d"),b=this.b.bb;this.b.za=a.createImageData(b,b);a=this.b.za.data;this.b.Hb=Math.max(parseInt(.15*b),3);for(var c=(b-5)/2+1,d=0;d<b;d++)for(var f=0;f<b;f++){var e=Math.abs(d-c),g=Math.abs(f-c),e=Math.sqrt(g*g+e*e)/c,e=1>e?.15+.75*(1-e):0,g=4*(b*d+f);a[g+0]=0;a[g+1]=0;a[g+2]=0;a[g+3]=parseInt(255*e)}}};q.kb=function(){da(this,this.Ab.f,this.Ab.g,!0)};function da(a,b,c,d){var f=C;if(-1===b||-1===c||0===b||0===c)ea(a);else if(null===a.Ya&&null!==a.b.R&&(void 0===d&&(d=!1),b!==a.Ab.f||c!==a.Ab.g||!0===d)){a.Ab.f=b;a.Ab.g=c;10===a.ua&&a.hf&&!d&&Ma(a,b,c,f);var e=a.b.O,g=a.b.G;d=a.a.Ib.e.a.getContext("2d");d.clearRect(0,0,e,g);if(!0===sa(a,b-1,c-1)){var g=(a.b.bb-1)/2,h=a.b.R,e=h[b-1].f-g,g=h[c-1].g-g,h=a.N.D(b,c);switch(a.ua){case 0:I===h&&(F===a.c.yb?d.putImageData(a.b.Ce,e,g):d.putImageData(a.b.Ye,e,g));break;case 1:F===h?d.putImageData(a.b.hd,e,g):G===h&&d.putImageData(a.b.fd,e,g);break;case 2:F===h?d.putImageData(a.b.hd,e,g):G===h?d.putImageData(a.b.fd,e,g):f.s?d.putImageData(a.b.Ye,e,g):d.putImageData(a.b.Ce,e,g);break;case 9:b=Na(a.N,b,c);F===b?d.putImageData(a.b.hd,e,g):G===b&&d.putImageData(a.b.fd,e,g);break;case 10:C.r&&!C.s?d.putImageData(a.b.Pi,e,g):!C.r&&C.s?d.putImageData(a.b.wi,e,g):C.r&&C.s?d.putImageData(a.b.gi,e,g):d.putImageData(a.b.ki,e,g);break;default:F===h||I===h&&!0===a.Sb()?d.putImageData(a.b.hd,e,g):d.putImageData(a.b.fd,e,g)}}}}function ea(a){var b=a.b.O,c=a.b.G;a.a.Ib.e.a.getContext("2d").clearRect(0,0,b,c);a.Ab.f=-1;a.Ab.g=-1}function ca(a,b,c){for(var d=a.b.O,f=a.b.G,e=a.lf*f,g=a.Zd*d,d=a.od*d-e*a.j.L,h=a.pd*f-g*a.j.M,f=0,l=a.N.$(),f=0;f<l.g-1&&c>h+e*f+e/2;f++);for(c=c=0;c<l.f-1&&b>d+g*c+g/2;c++);c=Math.max(a.j.L,Math.min(a.j.S,c));f=Math.max(a.j.M,Math.min(a.j.T,f));return{f:c+1,g:f+1}}function ja(a,b,c,d,f){a=a.a.ab.e.a.getContext("2d");a.clearRect(0,0,b,c);a.strokeStyle=R(f);a.fillStyle=R(f);a.lineWidth=d;a.beginPath();a.moveTo(1*b/4,1*c/4);a.lineTo(3*b/4,3*c/4);a.moveTo(3*b/4,1*c/4);a.lineTo(1*b/4,3*c/4);a.stroke();return a.getImageData(0,0,b,c)}q.va=function(a,b,c,d,f){void 0===f&&(f=1);var e=this.a.ab.e.a.getContext("2d");e.clearRect(0,0,a,b);e.globalAlpha=f;e.strokeStyle=R(d);e.fillStyle=R(d);e.lineWidth=c;var g=a/2;c=3*b/4;d=.1*a;f=Math.sqrt(g*g-(c-g)*(c-g))+g;g=-Math.sqrt(g*g-(c-g)*(c-g))+g;e.beginPath();e.moveTo(a/2,d);e.lineTo(f-d,c);e.lineTo(g+d,c);e.closePath();e.stroke();return e.getImageData(0,0,a,b)};function ka(a,b,c,d,f){var e=a.a.ab.e.a.getContext("2d");e.clearRect(0,0,b,c);e.strokeStyle=R(f);e.fillStyle=R(f);e.lineWidth=Math.floor(d+.5);var g=b/2,h=-c/2*Math.sqrt(2)/2+c/2;a=Math.floor(-Math.sqrt(g*g-(h-g)*(h-g))+g);var g=Math.ceil(+Math.sqrt(g*g-(h-g)*(h-g))+g),h=Math.ceil(h),l=Math.floor(c/2*Math.sqrt(2)/2+c/2);d=Math.floor(d);for(var e=e.createImageData(b,c),k=0;k<c;k++)for(var m=0;m<b;m++){var n=4*(k*b+m);(a<=m&&m<=a+d||g-d<=m&&m<=g)&&h<=k&&k<=l||(h<=k&&k<=h+d||l-d<=k&&k<=l)&&a<=m&&m<=g?(e.data[n+0]=f.o,e.data[n+1]=f.q,e.data[n+2]=f.p,e.data[n+3]=255):(e.data[n+0]=0,e.data[n+1]=0,e.data[n+2]=0,e.data[n+3]=0)}return e}function la(a,b,c,d,f,e){a=a.a.ab.e.a.getContext("2d").createImageData(b,c);var g=d?c/4|0:c/3|0,h=d?3*c/4|0:2*c/3|0,l=d?b/4|0:b/3|0;d=d?3*b/4|0:2*b/3|0;for(var k=0;k<c;k++)for(var m=0;m<b;m++){var n=4*(k*b+m);(k===g||k===h)&&m>=l&&m<=d||(m===l||m===d)&&k>=g&&k<=h?(a.data[n+0]=e.o,a.data[n+1]=e.q,a.data[n+2]=e.p,a.data[n+3]=255):k>g&&k<h&&m>l&&m<d?(a.data[n+0]=f.o,a.data[n+1]=f.q,a.data[n+2]=f.p,a.data[n+3]=255):a.data[n+3]=0}return a}function ma(a,b,c,d,f){a=a.a.ab.e.a.getContext("2d");a.clearRect(0,0,b,c);var e=b/2,g=4*d;a.strokeStyle=R(f);a.fillStyle=R(f);a.lineWidth=d;a.beginPath();a.arc(b/2,c/2,e-g,0,2*Math.PI,!1);a.stroke();return a.getImageData(0,0,b,c)}function Oa(a,b,c){a=a.wa[""+((c<<8)+b)];return void 0!==a?a:null}function va(a,b,c,d){ua===d.I?Pa(a,b,c):a.wa[""+((c<<8)+b)]=d}function Pa(a,b,c){if(0>=b||0>=c)a.sf=0;else{var d=(c<<8)+b;void 0===a.wa[""+d]&&(a.wa[""+d]=new ta(b,c,ua,""));a.sf=d}}function La(a){a.a.ab.e.a.getContext("2d").clearRect(0,0,a.b.O,a.b.G);var b=[],c;for(c in a.wa){var d=a.wa[c];Qa(a,d);Ra===d.I&&b.push({f:d.Sc(),g:d.Tc()})}Ia(a,b)}function Qa(a,b){if(a.b.R){var c=b.Sc(),d=b.Tc(),f=b.I,e=a.a.ab.e.a.getContext("2d"),g=a.Sb();if(!0===sa(a,c-1,d-1)){var h=a.b.bb,l=(h-1)/2,k=a.b.R,m=k[c-1].f-l,l=k[d-1].g-l,c=a.N.D(c,d);switch(f){case Sa:e.putImageData(a.b.Wi,m,l);break;case Ta:e.putImageData(a.b.Yi,m,l);break;case Ua:e.putImageData(a.b.Xi,m,l);break;case Va:e.putImageData(a.b.Zi,m,l);break;case ua:!0===a.ef?F===c?e.putImageData(a.b.kg,m,l):e.putImageData(a.b.jg,m,l):e.putImageData(a.b.Ei,m,l);break;case Wa:e.putImageData(c===F||c==I&&1==g?a.b.kg:a.b.jg,m,l);break;case Xa:e.putImageData(c===F||c==I&&1==g?a.b.Ui:a.b.Ti,m,l);break;case Ya:e.putImageData(c===F||c==I&&1==g?a.b.bj:a.b.aj,m,l);break;case Za:e.putImageData(c===F||c==I&&1==g?a.b.hd:a.b.fd,m,l);break;case Ra:f=b.Cf,d=2>=f.length?2*h/3:h/2,k=d+"px "+(Ha(f)?"Arial":"Helvetica, Arial, Verdana"),e.fillStyle=c===F||c==I&&1==g?"rgb(255,255,255)":"rgb(0,0,0)",e.font=k,e.fillText(f,m+(h-e.measureText(f).width)/2,l+(h/2+d/3))}}}}function Ka(a){for(var b in a.Ja){var c=S(b);$a(a,c.f,c.g)}}function ab(a){for(var b in a.Ja){var c=S(b);bb(a,c.f,c.g)}a.Ja={}}function Ma(a,b,c,d){var f=(c<<8)+b;if(cb===d.fg)void 0!==a.Ja[f]&&(delete a.Ja[f],bb(a,b,c),a.c.Wg(b,c));else{d=d.r&&!d.s?new B(200,0,0,50):d.s&&!d.r?new B(0,100,0,50):d.s&&d.r?new B(80,80,80,50):new B(0,0,200,50);if(void 0!==a.Ja[f]){var e=a.Ja[f];d.o===e.o&&d.q===e.q&&d.p===e.p?(d=e.Ha,a.Ja[f].Ha=50>d?50:100>d?100:150>d?150:200):a.Ja[f]=d}else a.Ja[f]=d;$a(a,b,c);a.c.Qf(b,c,a.Ja[f])}}function $a(a,b,c){bb(a,b,c);var d=a.a.Fe.e.a.getContext("2d"),f=a.b.R,e=b-1,g=c-1;d.fillStyle=R(a.Ja[(c<<8)+b]);d.beginPath();d.moveTo(f[e].gd,f[g].jd);d.lineTo(f[e].oh,f[g].jd);d.lineTo(f[e].oh,f[g].ph);d.lineTo(f[e].gd,f[g].ph);d.closePath();d.fill()}function bb(a,b,c){var d=a.a.Fe.e.a.getContext("2d");a=a.b.R;b=b-1;c=c-1;d.clearRect(a[b].gd,a[c].jd,a[b].oh-a[b].gd,a[c].ph-a[c].jd)}q.$h=function(a,b,c){switch(this.ua){case 0:if(cb==c.fg)1<=this.c.be&&(db(this.c,1),eb(this,a,b));else if(c.s&&c.r)this.c.Pd(F===this.c.yb?G:F),this.kb();else if(!0===c.r){var d=new String;switch(a){case 1:d="A";break;case 2:d="B";break;case 3:d="C";break;case 4:d="D";break;case 5:d="E";break;case 6:d="F";break;case 7:d="G";break;case 8:d="H";break;case 9:d="J";break;case 10:d="K";break;case 11:d="L";break;case 12:d="M";break;case 13:d="N";break;case 14:d="O";break;case 15:d="P";break;case 16:d="Q";break;case 17:d="R";break;case 18:d="S";break;case 19:d="T"}this.c.ze(d+b)}else if(c.s){d=this.c;d.Ba&&(d.Ba.nd=!1);var f=d.i;fb(d);for(c=0;1E3>c&&I===d.fa.D(a,b);)gb(d,1),c++;I===d.fa.D(a,b)&&hb(d,f);d.Ba&&(d.Ba.nd=!0)}else eb(this,a,b),null!==this.Dc&&ib(this.c.i)>=jb(this.Dc)&&kb(this.Dc);break;case 1:if(!0===c.r)wa(this,0);else{d=this.N;f=d.D(a,b);if(I!==f)if(d.of.xa(),c=d.Jb[ya(d,a,b)],F!==c&&G!==c){d.ja.xa();lb(d,a,b,f);for(var e in d.of.cb)c=S(e|0),d.ja.xa(),mb(d,c.f,c.g,3-f),nb(d.ja,d,3);za(d,!0);d.ja.xa();lb(d,a,b,f);nb(d.ja,d,3-f)}else d.ja.xa(),lb(d,a,b,f),nb(d.ja,d,3),za(d,!0);this.c.Ge()}break;case 2:!0===this.c.i.Xc()&&!0===ob(this.c,!0,!0)&&pb(this.c);d=F;I!==this.N.D(a,b)?d=I:c.s&&(d=G);ra(this,a,b,d);this.N.Set(a,b,d,-1);this.c.Oc(d,[(b<<8)+a]);break;case 3:qb(this,Ya,a,b);break;case 4:qb(this,Xa,a,b);break;case 5:qb(this,Wa,a,b);break;case 6:qb(this,Za,a,b);break;case 7:a:{f=Oa(this,a,b);if(null!==f&&Ra===f.I)this.c.rb([(b<<8)+a]),this.rb(a,b);else{f="";c.s&&(f=prompt("Enter the label that you want to add to board here. For best results, keep your label to one or two letters.",""));if(void 0==f||""===f||null===f){f=[];c=-1;for(d in this.wa)if(e=this.wa[d],Ra==e.I){e=e.Cf;var g=e.charCodeAt(0);1==e.length&&65<=g&&90>=g&&(f[g]=1)}for(d=65;90>=d;d++)if(void 0===f[d]||""==f[d]){c=d;break}f=-1==c?null:String.fromCharCode(c);if(null===f){alert("Sorry, all the standard labels are used up! To add more labels, you will have to shift click on the board and make up ur own labels to add.");break a}}d=new ta(a,b,Ra,f);this.c.Bd(f,(b<<8)+a);va(this,a,b,d)}La(this)}break;case 8:a:{d=Oa(this,a,b);if(null!==d&&Ra===d.I)this.c.rb([(b<<8)+a]),this.rb(a,b);else{d="";if(c.s){d=this.N.vg(a,b);if(-1==d){alert("Sorry, no move has been made at that location, so you can't mark it with the move number!");break a}d=""+d}if(void 0===d||""===d||null===d){d=[];c=0;for(f in this.wa)e=this.wa[f],Ra===e.I&&Ha(e.Cf)&&(d[c]=parseInt(e.Cf),c++);if(0>=c)d="1";else{d.sort(rb);e=f=0;for(var g=!1,h=0;h<c;h++){if(d[h]>f+1){e=f+1;g=!0;break}f=d[h]}g||(e=f+1);d=""+e}}f=new ta(a,b,Ra,d);this.c.Bd(d,(b<<8)+a);va(this,a,b,f)}La(this)}break;case 9:d=this.N;c=d.D(a,b);if(I!==c){e=new sb;tb(d,a,b,e);f=[];for(g in e.wf)f.push(g);a=Na(d,a,b)!==c?c:F===c?G:F;b=0;for(c=f.length;b<c;b++)e=S(f[b]),Aa(d,e.f,e.g,a)}a=Ba(this.N,this);this.qf&&Ca(this.qf,"B "+a.mi+"("+a.li+") W "+a.rj+"("+a.qj+")");La(this);this.kb();break;case 10:Ma(this,a,b,c)}};function qb(a,b,c,d){var f=Oa(a,c,d);if(null!==f&&b===f.I){if(a.c.rb([(d<<8)+c]),a.rb(c,d),a.b.R&&!0===sa(a,c-1,d-1)){b=(a.b.bb-1)/2;var e=a.b.R,f=e[c-1].f-b,e=e[d-1].g-b;a.a.ab.e.a.getContext("2d").clearRect(f,e,2*b,2*b);b=S(a.sf);c===b.f&&d===b.g&&(Pa(a,c,d),Qa(a,Oa(a,c,d)))}}else f=new ta(c,d,b,""),a.c.Da(b,[(d<<8)+c]),va(a,c,d,f),Qa(a,f)}function eb(a,b,c){if(I===a.N.D(b,c)){var d=F===a.c.yb?F:G,f=!1,e=a.N.Qb.Qc();a.N.Set(b,c,d,-1);f=null!==ub(a.N,b,c,d,!0)?!0:null!==vb(a.N,b,c,d)?!1:!0;a.N.Set(b,c,I,-1);a.N.Qb.Fd(e);1==f&&!0===wb(a.c,b,c,d)&&pb(a.c)}}function ia(a,b){if(9!==a.ua){var c=b.C,d=!1;8===c||46===c?(xb(a.c),d=!0):36===c?!0===b.r&&!0===b.s&&(yb(a.c),d=!0):37===c?(b.r&&b.s?fb(a.c):b.r?db(a.c,5):db(a.c,1),d=!0):38===c?(b.r?a.c.xg():zb(a.c),d=!0):39===c?(b.r&&b.s?Ab(a.c):b.r?gb(a.c,5):gb(a.c,1),d=!0):40===c?(Bb(a.c),d=!0):67===c&&!0===b.r&&10===a.ua?(a.c.ig(),d=!0):69===c&&!0===b.r?(Cb(a.a.e.a.id,Db,{Fa:a.c,Ea:a.k}),d=!0):72===c&&!0===b.r?(!0===b.s?Eb(a.c):Fb(a.c),d=!0):73===c&&!0===b.r?(!0===b.s?Gb(a.c):Hb(a.c),d=!0):77===c&&!0===b.r&&!0===b.s?(a.c.Pg(),d=!0):79===c&&!0===b.r?(10===a.ua?Cb(a.a.e.a.id,Ib,{fk:a,Ea:a.k}):!0===b.s?(c=prompt("Enter here code of ur sgf file",""),a.c.rc(c)):(c=document.getElementsByTagName("body"),0<c.length&&(c=c[0],d=document.createElement("input"),c.appendChild(d),d.type="file",d.multiple=!1,d.accept=".sgf,.gib,.ngf",d.style.display="none",d.addEventListener("change",function(c){c=c.target.files;if(0<c.length){c=c[0];var b=c.name.split(".").pop().toLowerCase(),d=new FileReader;d.onload=function(c){a.c.rc(c.target.result,null,null,b);a.na()};d.readAsText(c);a.na()}},!1),Jb(d),c.removeChild(d))),d=!0):82===c&&!0===b.r?(10===a.ua?(a.c.Vg(),ab(a)):a.$g(!0===a.wb?!1:!0),d=!0):83===c&&!0===b.r?(c=a.c.Re(),FileReader&&Blob&&(d=a.c.jc,""===d&&(d=a.c.Hc+" vs. "+a.c.Fc),""===d&&(d="download"),Kb(new Blob([c],{type:"text/plain;charset=utf-8"}),d+".sgf","application/x-go-sgf")),d=!0):86===c&&!0===b.r?(c=a.c.rd,c++,c>Lb&&(c=Mb),Nb(a.c,c),d=!0):112===c?(wa(a,0),d=!0):113===c?(wa(a,1),d=!0):114===c?(wa(a,2),d=!0):115===c?(wa(a,3),d=!0):116===c?(wa(a,4),d=!0):117===c?(wa(a,5),d=!0):118===c?(wa(a,6),d=!0):119===c?(wa(a,7),d=!0):120===c?(wa(a,8),d=!0):121===c&&(wa(a,10),d=!0);return d}}function sa(a,b,c){return b>=a.j.L&&b<=a.j.S&&c>=a.j.M&&c<=a.j.T?!0:!1}q.Lf=function(){return x.W.bc};q.Yh=function(){return x.W.zc};q.Kf=function(){return x.W.yc};q.Zh=function(){return x.W.Mc};q.Xh=function(){return x.W.Kc};q.ve=function(){return x.W.mc};q.Nc=function(){return x.W.Lc};q.Sb=function(){return x.W.xc};function Ob(a){this.k=a;this.c=null;this.ra=this.I=0;this.ge=16;this.yh=!1;this.b={vi:null,Ji:null,Di:null,hi:null,Ri:null};this.a={e:null,Ee:{e:null}};this.Lh=new B(217,217,217,255);this.vf=new B(0,0,0,255);this.rf=new B(54,101,179,255);this.le=new B(255,255,255,255);this.Hh=new B(54,101,179,255);this.nf=new B(255,255,255,255);this.Jh=new B(217,217,217,255);this.Kh=new B(140,140,140,255);this.H=this.B=0;var b=this;this.we=function(a){4!==b.ra&&(fa(a),b.ra=1,Pb(b),a.stopImmediatePropagation())};this.bi=function(a){if(4!==b.ra){if(C.ya!==a.target)return;b.ra=2;Pb(b);b.$h();a.stopImmediatePropagation()}b.Nf()};this.ml=function(){4!==b.ra&&(1!==b.ra&&(b.ra=2),Pb(b))};this.xe=function(){4!==b.ra&&(b.ra=b.yh?8:0,Pb(b))};this.Nf=function(){b.c&&20!==b.I&&b.c.na()};this.ai=function(a){a.dataTransfer.effectAllowed="all";a.dataTransfer.setData("text/sgf","(;SZ[19];)")}}q=Ob.prototype;q.v=function(a,b,c){this.c=b;this.I=c;if(this.k)switch(this.I){case 1:this.k.A.Tf.push(this);break;case 2:this.k.A.Uf.push(this);break;case 3:this.k.A.Ub.push(this);break;case 4:this.k.A.Wb.push(this);break;case 5:this.k.A.sg.push(this);break;case 6:this.k.A.rg.push(this);break;case 7:this.k.A.sc.push(this);break;case 8:this.k.A.tc.push(this);break;case 9:this.k.A.Yf.push(this);break;case 10:this.k.A.$f.push(this);break;case 11:this.k.A.Xf.push(this);break;case 12:this.k.A.cg.push(this);break;case 13:this.k.A.ag.push(this);break;case 14:this.k.A.Wf.push(this);break;case 15:this.k.A.dg.push(this);break;case 16:this.k.A.bg.push(this);break;case 17:this.k.A.Zf.push(this);break;case 18:this.k.ie=this}this.a.e=E(a);b=this.a.e.a;b.setAttribute("title",Qb(this));c=document.createElement("canvas");c.setAttribute("id",a+"_canvas");c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.style["-webkit-transition"]="background 2s";c.style.transition="background 2s";b.appendChild(c);this.a.Ee.e=E(a+"_canvas");a=this.a.Ee.e;J(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=K|N|O|P;this.a.e.m(a);b.onmousedown=this.we;b.onmouseup=this.bi;b.onmouseover=this.ml;b.onmouseout=this.xe;b.onfocus=this.Nf;b.tabIndex=-1;b.style.outline="none";b.draggable="true";b.Al=this.ai;this.w()};q.w=function(){var a=this.a.e.a.clientWidth,b=this.a.e.a.clientHeight;if(a!==this.B||b!==this.H)this.B=a,this.H=b,this.a.e.Ma(this.B,this.H),this.jb()};function Rb(a,b){!0===b&&4===a.ra?(a.ra=0,Pb(a)):!1===b&&4!==a.ra&&(a.ra=4,Pb(a))}function Sb(a,b){a.ge!==b&&(a.ge=b,a.jb(),a.a.e.a.setAttribute("title",Qb(a)))}function Tb(a,b){a.yh!==b&&(a.yh=b,!0===b&&0===a.ra?(a.ra=8,Pb(a)):!1===b&&8===a.ra&&(a.ra=0,Pb(a)))}q.jb=function(){var a=this.H,b=this.B;if(0!==b&&0!==a){this.b.hi=Ub(this,this.Hh,this.nf,b,a);this.b.Di=Ub(this,this.rf,this.le,b,a);this.b.Ji=Ub(this,this.Lh,this.vf,b,a);this.b.vi=Ub(this,this.Jh,this.Kh,b,a);this.b.Ri=Ub(this,this.rf,this.le,b,a);var a=document.getElementsByTagName("head")[0],b=document.createElement("style"),c=document.createTextNode("a#my_link:hover{color:#ff0000 !important;}");b.type="text/css";b.styleSheet?b.styleSheet.cssText=c.nodeValue:b.appendChild(c);a.appendChild(b);Pb(this)}};function Ub(a,b,c,d,f){var e=a.a.Ee.e.a.getContext("2d");e.fillStyle=R(b);e.fillStyle=R(b);e.fillRect(0,0,d,f);e.fillStyle=R(c);e.strokeStyle=R(c);var g=Math.min(d,f),h=(d-g)/2,l=(f-g)/2;switch(a.I){case 1:a.va(g,h,l,e,-1);var k=Math.ceil(h+g/10+.5),h=Math.ceil(l+g/5+.5);b=Math.floor(g/10+.5);a=Math.floor(3*g/5+.5);e.fillRect(k,h,b,a);break;case 2:a.va(g,h-g/10,l,e,-1);k=Math.ceil(h+8*g/10+.5);h=Math.ceil(l+g/5+.5);b=Math.floor(g/10+.5);a=Math.floor(3*g/5+.5);e.fillRect(k,h,b,a);break;case 3:a.va(g,h-g/10,l,e,-1);break;case 4:a.va(g,h-g/10,l,e,1);break;case 5:a.va(g,h+g/10,l,e,1);k=Math.ceil(h+g/10+.5);h=Math.ceil(l+g/5+.5);b=Math.floor(g/10+.5);a=Math.floor(3*g/5+.5);e.fillRect(k,h,b,a);break;case 6:a.va(g,h,l,e,1);k=Math.ceil(h+8*g/10+.5);h=Math.ceil(l+g/5+.5);b=Math.floor(g/10+.5);a=Math.floor(3*g/5+.5);e.fillRect(k,h,b,a);break;case 7:b=Math.ceil(h+.2*g+.5);a=Math.ceil(h+.35*g+.5);var k=Math.ceil(h+.57*g+.5),h=Math.ceil(h+.92*g+.5),m=Math.ceil(l+.2*g+.5),n=Math.ceil(l+.38*g+.5);c=Math.ceil(l+.52*g+.5);var u=Math.ceil(l+.6*g+.5),p=Math.ceil(l+.68*g+.5),l=Math.ceil(l+.84*g+.5);e.beginPath();e.moveTo(b,m);e.lineTo(a,m);e.lineTo(a,c);e.lineTo(k,c);e.lineTo(k,n);e.lineTo(h,u);e.lineTo(k,l);e.lineTo(k,p);e.lineTo(b,p);e.closePath();e.fill();break;case 8:b=Math.ceil(h+.2*g+.5);a=Math.ceil(h+.35*g+.5);k=Math.ceil(h+.57*g+.5);h=Math.ceil(h+.92*g+.5);m=Math.ceil(l+.8*g+.5);n=Math.ceil(l+.62*g+.5);c=Math.ceil(l+.48*g+.5);u=Math.ceil(l+.4*g+.5);p=Math.ceil(l+(1-.68)*g+.5);l=Math.ceil(l+(1-.84)*g+.5);e.beginPath();e.moveTo(b,m);e.lineTo(a,m);e.lineTo(a,c);e.lineTo(k,c);e.lineTo(k,n);e.lineTo(h,u);e.lineTo(k,l);e.lineTo(k,p);e.lineTo(b,p);e.closePath();e.fill();break;case 9:k=Math.ceil(h+.5*g-g/10+.5);n=Math.ceil(l+.5*g-g/10+.5);b=Math.ceil(.25*g+.5);e.fillStyle=R(new B(255,255,255));e.strokeStyle=R(new B(0,0,0));e.beginPath();e.arc(k,n,b,0,2*Math.PI,!1);e.fill();e.stroke();e.fillStyle=R(new B(0,0,0));k=Math.ceil(h+.5*g+g/10+.5);n=Math.ceil(l+.5*g+g/10+.5);b=Math.ceil(.25*g+.5);e.beginPath();e.arc(k,n,b,0,2*Math.PI,!1);e.fill();break;case 10:m=e.createImageData(g,g);k=g/5|0;n=4*g/5|0;for(c=0;c<g;c++)for(u=0;u<g;u++)a=4*(c*g+u),c>=k&&c<=n&&u>=k&&u<=n?g-c>=u||c===k||c===n||u===k||u===n?(m.data[a+0]=0,m.data[a+1]=0,m.data[a+2]=0):(m.data[a+0]=255,m.data[a+1]=255,m.data[a+2]=255):(m.data[a+0]=b.o,m.data[a+1]=b.q,m.data[a+2]=b.p),m.data[a+3]=255;e.putImageData(m,h,l);break;case 11:k=Math.ceil(h+.75*g+.5);n=Math.ceil(l+.125*g+.5);b=Math.ceil(.25*g+.5);a=Math.ceil(.02*g+.5);e.fillRect(k,n,b,a);k=Math.ceil(h+.875*g+.5);n=Math.ceil(l+.5);b=Math.ceil(.02*g+.5);a=Math.ceil(.25*g+.5);e.fillRect(k,n,b,a);k=Math.ceil(h+.5);n=Math.ceil(l+.875*g+.5);b=Math.ceil(.25*g+.5);a=Math.ceil(.02*g+.5);e.fillRect(k,n,b,a);k=Math.ceil(h+.5*g-g/10+.5);n=Math.ceil(l+.5*g-g/10+.5);b=Math.ceil(.25*g+.5);e.fillStyle=R(new B(255,255,255));e.strokeStyle=R(new B(0,0,0));e.beginPath();e.arc(k,n,b,0,2*Math.PI,!1);e.fill();e.stroke();e.fillStyle=R(new B(0,0,0));k=Math.ceil(h+.5*g+g/10+.5);n=Math.ceil(l+.5*g+g/10+.5);b=Math.ceil(.25*g+.5);e.beginPath();e.arc(k,n,b,0,2*Math.PI,!1);e.fill();break;case 12:b=g/2;k=3*g/4;a=.1*g;n=Math.sqrt(b*b-(k-b)*(k-b))+b;c=-Math.sqrt(b*b-(k-b)*(k-b))+b;e.lineWidth=Math.ceil(.05*g+.5);e.beginPath();e.moveTo(h+g/2,l+2*a);e.lineTo(h+n-a,l+k+a);e.lineTo(h+c+a,l+k+a);e.closePath();e.stroke();break;case 13:b=g/2;a=.05*g;m=-g/2*Math.sqrt(2)/2+g/2;k=g/2*Math.sqrt(2)/2+g/2;n=Math.sqrt(b*b-(m-b)*(m-b))+b;c=-Math.sqrt(b*b-(m-b)*(m-b))+b;b=Math.floor(h+n-a);h=Math.ceil(h+c+a);m=Math.ceil(l+m+a);l=Math.floor(l+k-a);e.lineWidth=Math.ceil(.05*g+.5);e.beginPath();e.moveTo(b,m);e.lineTo(h,m);e.lineTo(h,l);e.lineTo(b,l);e.closePath();e.stroke();break;case 14:m=.05*g;b=g/2;a=4*m;e.lineWidth=Math.ceil(m+.5);e.beginPath();e.arc(h+g/2,l+g/2,b-a,0,2*Math.PI,!1);e.stroke();break;case 15:b=h+.25*g;a=h+.75*g;m=l+.25*g;n=l+.75*g;e.lineWidth=Math.ceil(.05*g+.5);e.beginPath();e.moveTo(b,m);e.lineTo(a,n);e.moveTo(a,m);e.lineTo(b,n);e.stroke();break;case 16:b="A";a=.8*g;e.font=a+"px Arial";k=h+(g-e.measureText(b).width)/2;e.fillText(b,k,l+g/2+a/3);break;case 17:b="1";a=.8*g;e.font=a+"px Helvetica, Arial, Verdana";k=h+(g-e.measureText(b).width)/2;e.fillText(b,k,l+g/2+a/3);break;case 18:16===a.ge?a.va(g,h,l,e,1):(b=Math.floor(h+g/5+g/20+.5),a=Math.ceil(h+4*g/5-g/20+.5),h=Math.ceil(l+g/5+.5),l=Math.ceil(l+4*g/5+.5),k=Math.ceil(b+g/5),g=Math.floor(a-g/5),e.beginPath(),e.moveTo(b,h),e.lineTo(k,h),e.lineTo(k,l),e.lineTo(b,l),e.closePath(),e.fill(),e.beginPath(),e.moveTo(a,h),e.lineTo(g,h),e.lineTo(g,l),e.lineTo(a,l),e.closePath(),e.fill());break;case 19:m=e.createImageData(d,f);e=m.data;h=(d-8)/2|0;l=(f-8)/2|0;for(n=0;n<f;n++)for(k=0;k<d;k++){a=4*(k+n*d);b=c.o;var g=c.q,u=c.p,p=n-l,r=k-h;if(0===p&&(0===r||1===r||6===r||7===r)||1===p&&(1===r||2===r||5===r||6===r)||2===p&&(2===r||3===r||4===r||5===r)||3===p&&(3===r||4===r)||4===p&&(3===r||4===r)||5===p&&(2===r||3===r||4===r||5===r)||6===p&&(1===r||2===r||5===r||6===r)||7===p&&(0===r||1===r||6===r||7===r))u=g=b=255;e[a+0]=b;e[a+1]=g;e[a+2]=u;e[a+3]=255}return m;case 20:m=.02*g;b=g/2;a=4*m;e.lineWidth=Math.ceil(m+.5);e.beginPath();e.arc(h+g/2,l+g/2,b-a,0,2*Math.PI,!1);e.stroke();b="i";a=.9*g;e.font=a+"px Times New Roman, Sans serif";k=h+(g-e.measureText(b).width)/2;e.fillText(b,k,l+g/2+a/3);break;case 21:e.lineWidth=1;e.moveTo(0,0);e.lineTo(0,f);e.lineTo(d,f);e.lineTo(d,0);e.lineTo(0,0);e.stroke();b="OK";a=.6*g;e.fillStyle=R(new B(0,0,0,255));e.font=a+"px Tahoma, Sans serif";k=h+(g-e.measureText(b).width)/2;e.fillText(b,k,l+g/2+a/3);break;case 22:e.lineWidth=1;e.moveTo(0,0);e.lineTo(0,f);e.lineTo(d,f);e.lineTo(d,0);e.lineTo(0,0);e.stroke();b="Cancel";a=.6*g;e.fillStyle=R(new B(0,0,0,255));e.font=a+"px Tahoma, Sans serif";k=h+(g-e.measureText(b).width)/2;e.fillText(b,k,l+g/2+a/3);break;case 23:m=.02*g;k=g/2-g/30;b=g/4;e.lineWidth=Math.ceil(7*m+.5);e.beginPath();e.arc(h+g/2,l+g/2,b,0,2*Math.PI,!1);e.stroke();e.lineWidth=Math.ceil(5*m+.5);for(a=0;9>a;a++)e.beginPath(),m=40*a*Math.PI/180,e.lineTo(h+b*Math.cos(m)+g/2,l-b*Math.sin(m)+g/2),e.lineTo(h+k*Math.cos(m)+g/2,l-k*Math.sin(m)+g/2),e.stroke();break;case 24:b="Pass";a=.9*g;e.font=a+"px Times New Roman, Sans serif";k=h+(g-e.measureText(b).width)/2;e.fillText(b,k,l+g/2+a/3);break;case 25:m=.02*g,b=g/2,a=4*m,e.lineWidth=Math.ceil(m+.5),e.beginPath(),e.arc(h+g/2,l+g/2,b-a,0,2*Math.PI,!1),e.stroke(),b="?",a=.9*g,e.font=a+"px Times New Roman, Sans serif",k=h+(g-e.measureText(b).width)/2,e.fillText(b,k,l+g/2+a/3)}return e.getImageData(0,0,d,f)}q.va=function(a,b,c,d,f){var e=Math.ceil(b+a/5+.5);b=Math.ceil(b+4*a/5+.5);var g=Math.ceil(c+a/5+.5),h=Math.ceil(c+a/2+.5);a=Math.ceil(c+4*a/5+.5);0>f?(d.beginPath(),d.moveTo(e,h),d.lineTo(b,g),d.lineTo(b,a)):(d.beginPath(),d.moveTo(e,g),d.lineTo(b,h),d.lineTo(e,a));d.closePath();d.fill()};function Pb(a){var b=a.a.Ee.e.a.getContext("2d"),c=null;switch(a.ra){case 2:c=a.b.Di;break;case 1:c=a.b.hi;break;case 4:c=a.b.vi;break;case 8:c=a.b.Ri;break;default:case 0:c=a.b.Ji}c&&b.putImageData(c,0,0)}q.$h=function(){if(this.c)switch(this.I){case 1:fb(this.c);break;case 2:db(this.c,5);break;case 3:db(this.c,1);break;case 4:gb(this.c,1);break;case 5:gb(this.c,5);break;case 6:Ab(this.c);break;case 7:Bb(this.c);break;case 8:zb(this.c);break;case 9:wa(this.c.l,0);break;case 10:wa(this.c.l,1);break;case 11:wa(this.c.l,2);break;case 12:wa(this.c.l,3);break;case 13:wa(this.c.l,4);break;case 14:wa(this.c.l,5);break;case 15:wa(this.c.l,6);break;case 16:wa(this.c.l,7);break;case 17:wa(this.c.l,8);break;case 18:16===this.ge?this.c.Rd():this.c.cd();break;case 19:this.c.Db();break;case 20:Cb(this.a.e.a.id,Vb,{Fa:this.c,Ea:this.k});break;case 21:this.c&&this.c.yg();break;case 22:this.c&&this.c.Ai();break;case 23:Cb(this.a.e.a.id,Wb,{Fa:this.c,Ea:this.k});break;case 24:this.c.Li();break;case 25:Cb(this.a.e.a.id,Xb,{Fa:this.c,Ea:this.k})}};function Qb(a){switch(a.I){case 1:return"Back to the start (Ctrl+Shift+Left)";case 2:return"Back 5 moves (Ctrl+Left)";case 3:return"Back (Left)";case 4:return"Forward (Right)";case 5:return"Forward 5 moves (Ctrl+Right)";case 6:return"Go to the end (Ctrl+Shift+Right)";case 7:return"Next variant (Down)";case 8:return"Previous variant (Up)";case 9:return"Moves (F1)";case 10:return"Count Scores (F2)";case 11:return"Editor (F3)";case 12:return"Triangles (F4)";case 13:return"Squares (F5)";case 14:return"Circles (F6)";case 15:return"X marks (F7)";case 16:return"Text labels (F8)";case 17:return"Numeric labels (F9)";case 18:return 16===a.ge?"Autoplay start":"Autoplay stop";case 19:return"Close";case 20:return"Game info";case 22:return"Cancel";case 21:return"OK";case 23:return"Settings";case 24:return"Pass";case 25:return"About"}};function Yb(a){this.k=a;this.c=null;this.a={e:null,Ve:{e:null}};var b=this;this.Wj=function(){b.c.Te(b.a.Ve.e.a.value)}}Yb.prototype.v=function(a,b){this.c=b;this.a.e=E(a);var c=this.a.e.a;c.style.background=R(new B(217,217,217,255));var d=a+"_TextArea",f=document.createElement("textarea");f.setAttribute("id",d);f.setAttribute("style","position:absolute;padding:0;margin:0;resize:none;outline: none;-moz-appearance: none;padding:2px;");c.appendChild(f);f.onchange=this.Wj;f.onblur=this.Wj;f.style.outline="none";f.style.margin="0px";f.style.border="1px solid rgb(172,172,172)";c=this.a.e;this.a.Ve.e=E(d);d=this.a.Ve.e;J(d.h,6,0,12,6,!0,!0,!0,!0,-1,-1);d.n=K|N|O|P;c.m(d);this.k&&this.k.sh.push(this);this.w()};Yb.prototype.vc=function(a){this.a.Ve.e.a.value=a};Yb.prototype.w=function(){this.a.e.Ma(this.a.e.a.clientWidth,this.a.e.a.clientHeight)};function Zb(a){this.k=a;this.Fj=I;this.c=null;this.a={e:null,Zb:null,Se:null,Image:null};this.Bf=this.Af="";this.Ch=0;this.xh=!1}Zb.prototype.v=function(a,b,c){this.Fj=c;this.c=b;this.a.e=E(a);b=this.a.e.a;b.style.backgroundColor=R(new B(217,217,217,255));this.a.Zb=document.createElement("div");this.a.Se=document.createElement("div");this.a.Image=document.createElement("canvas");var d=this.a.Image,f=this.a.Zb,e=this.a.Se;b.appendChild(d);b.appendChild(f);b.appendChild(e);f.style.paddingLeft="25px";e.style.paddingLeft="25px";f.style.fontSize="14pt";e.style.paddingLeft="10pt";d.setAttribute("id",a+"_Image");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.left="0px";d.style.top="0px";d.style.width="25px";d.style.height="25px";d.width=25;d.height=25;a=d.getContext("2d");a.clearRect(0,0,25,25);b=Math.ceil(13);d=Math.ceil(13);f=Math.ceil(6.75);G===c?(a.fillStyle=R(new B(255,255,255)),a.strokeStyle=R(new B(0,0,0))):F===c&&(a.fillStyle=R(new B(0,0,0)),a.strokeStyle=R(new B(0,0,0)));a.beginPath();a.arc(b,d,f,0,2*Math.PI,!1);a.fill();a.stroke();this.k&&(F===c?this.k.Ob=this:G===c&&(this.k.Rb=this));$b(this)};Zb.prototype.w=function(){$b(this);var a=this.Ek,b=this.a.e.a.clientWidth-25,c=0,c=b<a?0:(b-a)/2;this.a.Image.style.left=c+"px";c+=25;this.a.Zb.style.paddingLeft=c+"px";this.a.Se.style.paddingLeft=c+"px";this.a.Zb.style.overflow="hidden";this.a.Zb.style.textOverflow="ellipsis";this.a.Zb.style["-o-text-overflow"]="ellipsis";this.a.Zb.style.height="25px"};Zb.prototype.Sd=function(a){this.xh=!1;this.Ch=a;$b(this)};Zb.prototype.Td=function(a){this.xh=!0;this.Ch=a;$b(this)};function $b(a){var b=a.a.Se,c=(""===a.Af?F===a.Fj?"Black ":"White ":a.Af)+(""===a.Bf?"":"["+a.Bf+"]"),d=(!0===a.xh?"Scores ":"Captured ")+a.Ch;ac(a.a.Zb,c);ac(b,d);b=document.createElement("canvas").getContext("2d");b.font="14pt Times New Roman";a.Ek=b.measureText(c).width};function bc(){this.lb=this.qb=this.sb=this.pb=0;this.$e=this.bf=this.cf=this.af=!1;this.Ad=this.nc=-1}function J(a,b,c,d,f,e,g,h,l,k,m){a.pb=b;a.sb=c;a.qb=d;a.lb=f;a.af=e;a.cf=g;a.bf=h;a.$e=l;a.nc=k;a.Ad=m}var N=1,K=2,P=4,O=8;function cc(){this.h=new bc;this.n=N|K;this.a=this.Pe=this.Me=null;this.Tb=new bc;this.ka=[];this.dd=this.height=this.width=0;this.Gd=null;this.$c=400}cc.prototype.Gb=function(a,b,c){this.dd=a;(this.Gd=b)&&b.ii&&b.ii(this);c&&c.$c&&(this.$c=c.$c)};cc.prototype.m=function(a){a.Pe=this;this.ka[this.ka.length]=a};cc.prototype.Ma=function(a,b){this.width=a;this.height=b;if(null==this.Pe)this.Tb.pb=0,this.Tb.sb=0,this.Tb.qb=a,this.Tb.lb=b,null!==this.a&&dc(this,a,b);else{var c=0,d=0,f=0,e=0,g=this.n&5,h=this.n&10;N==g?(this.h.af?c=this.h.pb:c=this.h.pb*a/1E3,-1!=this.h.nc?f=c+this.h.nc:f=this.h.bf?a-this.h.qb:this.h.qb*a/1E3):P==g?(f=this.h.bf?a-this.h.qb:this.h.qb*a/1E3,-1!=this.h.nc?c=f-this.h.nc:this.h.af?c=this.h.pb:c=this.h.pb*a/1E3):(N|P)==g?(this.h.af?c=this.h.pb:c=this.h.pb*a/1E3,f=this.h.bf?a-this.h.qb:this.h.qb*a/1E3):(c=this.h.pb,f=this.h.qb);K==h?(this.h.cf?d=this.h.sb:d=this.h.sb*b/1E3,-1!=this.h.Ad?e=d+this.h.Ad:e=this.h.$e?b-this.h.lb:this.h.lb*b/1E3):O==h?(e=this.h.$e?b-this.h.lb:this.h.lb*b/1E3,-1!=this.h.Ad?d=e-this.h.Ad:this.h.cf?d=this.h.sb:d=this.h.sb*b/1E3):(K|O)==h?(this.h.cf?d=this.h.sb:d=this.h.sb*b/1E3,e=this.h.$e?b-this.h.lb:this.h.lb*b/1E3):(d=this.h.sb,e=this.h.lb);f<c&&(f=c);e<d&&(e=d);-2===this.h.nc?f=c+(e-d)*g_dKoef_Board_W_to_H:-3===this.h.nc&&(c=(e-d)*g_dKoef_Board_W_to_H);this.Tb.pb=c;this.Tb.sb=d;this.Tb.qb=f;this.Tb.lb=e;this.a.style.left=(c+.5|0)+"px";this.a.style.top=(d+.5|0)+"px";this.a.style.width=(f-c+.5|0)+"px";this.a.style.height=(e-d+.5|0)+"px";this.a.width=f-c+.5|0;this.a.height=e-d+.5|0;dc(this,f-c,e-d)}};function dc(a,b,c){var d=a.ka.length;if(1===a.dd&&2===d){var f=a.Gd?pa(a.Gd):1,e=a.ka[0],g=a.ka[1],h;h=b-a.$c;var l=c*f,f=h/f,k;l<=h?(f=c,h=k=0):(l=h,h=0,k=(c-f)/2);J(e.h,h,k,1E3,1E3,!0,!0,!1,!1,l,f);e.n=N|K;J(g.h,l,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.n=P|O|K}else 2===a.dd&&1===d&&(a.Gd?(f=pa(a.Gd),e=a.ka[0],l=c*f,f=b/f,l<=b?(f=c,k=0,h=(b-l)/2):(l=b,h=0,k=(c-f)/2),J(e.h,h,k,1E3,1E3,!0,!0,!1,!1,l,f),e.n=N|K):(e=a.ka[0],g=Math.min(b,c),J(e.h,(b-g)/2,(c-g)/2,1E3,1E3,!0,!0,!0,!1,g,g),e.n=N|O|K));for(e=0;e<d;e++)a.ka[e].Ma(b,c)}function E(a){var b=new cc;b.Me=a;b.a=document.getElementById(a);return b}function ec(){this.a=this.Pe=null;this.G=0;this.ka=[]}ec.prototype.Set=function(a){this.G=a};ec.prototype.m=function(a){a.Pe=this;this.ka[this.ka.length]=a};ec.prototype.Ma=function(a,b){var c=b-this.G,d=a;d!==c&&(c=d=Math.min(d,c));var f=(b-this.G-c)/2;this.a.style.left=parseInt((a-d)/2+.5)+"px";this.a.style.top=parseInt(f+.5)+"px";this.a.style.width=parseInt(d+.5)+"px";this.a.style.height=parseInt(c+this.G+.5)+"px";this.a.width=parseInt(d+.5);this.a.height=parseInt(c+this.G+.5);for(var f=this.ka.length,e=0;e<f;e++)this.ka[e].Ma(d,c+this.G)};function fc(){this.zh=!0;this.W={bc:!0,zc:!0,mc:new B(231,188,95,255),Ze:!0,yc:!0,Mc:new B(255,255,255,255),Kc:new B(0,0,0,255),Lc:new B(0,0,0,255),xc:!1};this.da={bc:!0,zc:!0,mc:new B(231,188,95,255),yc:!0,Mc:new B(255,255,255,255),Kc:new B(0,0,0,255),Lc:new B(0,0,0,255),xc:!1};this.wb=this.vh=!1}function gc(){var a=x;a.zh="0"===hc("Sound")?!1:!0;var b=1,c=hc("ColorScheme");"BookStyle"===c?b=2:"SimpleColor"===c?b=3:"Dark"===c&&(b=4);ic(a,b);a.vh="1"===hc("LoadUnfinishedFilesOnLastNode")?!0:!1;a.wb="1"===hc("Rulers")?!0:!1}q=fc.prototype;q.ad=function(a){this.zh=a;jc("Sound",!0===a?"1":"0")};q.Ke=function(){return this.zh};q.$g=function(a){this.wb=a;jc("Rulers",!0===a?"1":"0")};q.Zg=function(a){this.vh=a;jc("LoadUnfinishedFilesOnLastNode",!0===a?"1":"0")};q.Je=function(){return this.vh};function ic(a,b){var c=!0,d=!0,f=null,e=!0,g=!0,h=new B(255,255,255,255),l=new B(0,0,0,255),k=new B(0,0,0,255),m=!1;switch(b){case 1:g=e=d=c=!0;f=new B(231,188,95,255);k=new B(0,0,0,255);jc("ColorScheme","TrueColor");break;case 2:g=e=d=c=!1;f=new B(255,255,255,255);k=new B(0,0,0,255);jc("ColorScheme","BookStyle");break;case 3:g=e=d=c=!1;f=new B(231,188,95,255);k=new B(0,0,0,255);jc("ColorScheme","SimpleColor");break;case 4:g=e=d=c=!1,m=!0,f=new B(30,30,30,255),h=new B(220,220,220,220),k=new B(255,255,255,255),jc("ColorScheme","Dark")}var n=!1,u=!1;if(a.W.bc!==c||a.W.zc!==d||!0!==kc(a.W.mc,f)||a.W.Ze!==e||a.W.yc!==g||!0!==kc(a.W.Mc,h)||!0!==kc(a.W.Kc,l)||!0!==kc(a.W.Lc,k)||a.W.xc!==m)a.W.bc=c,a.W.zc=d,a.W.mc=f,a.W.Ze=e,a.W.yc=g,a.W.Mc=h,a.W.Kc=l,a.W.Lc=k,a.W.xc=m,n=!0;if(a.da.bc!==c||a.da.zc!==d||!0!==kc(a.da.mc,f)||a.da.yc!==g||!0!==kc(a.da.Mc,h)||!0!==kc(a.da.Kc,l)||!0!==kc(a.da.Lc,k)||a.da.xc!==m)a.da.bc=c,a.da.zc=d,a.da.mc=f,a.da.yc=g,a.da.Mc=h,a.da.Kc=l,a.da.Lc=k,a.da.xc=m,u=!0;return{Q:n,Navigator:u}}var x=new fc;function lc(a){if(this.c=a)a.k=this;this.Qa=this.pf=this.hb=null;this.ga=[];this.A={Tf:[],Uf:[],Ub:[],Wb:[],sg:[],rg:[],sc:[],tc:[],Li:null,Yf:[],$f:[],Xf:[],cg:[],ag:[],Wf:[],dg:[],bg:[],Zf:[]};this.Rb=this.Ob=this.je=this.ie=this.Mh=this.tf=this.fa=null;this.sh=[];var b=this;this.wh=!0;this.Vj=function(){mc(b.Vj);var a;if(a=b.tf)a=b.tf,a=a.jf||a.kf?!0:!1;if(a){a=b.tf;if(a.jf&&a.c){var d=a.b.O,f=a.b.G;if(!(0>=d||0>=f)){var e=a.c.i.Ra,g=10+a.P.f+24*e.f,e=10+a.P.g+24*e.g,h=a.a.oc.e.a.getContext("2d");h.clearRect(0,0,d,f);-24<=g&&g<=d+24&&-24<=e&&e<=f+24&&h.putImageData(a.b.oc,g,e);a.jf=!1}}if(a.kf&&(d=a.b.O,f=a.b.G,0!==d&&0!==f)){if(!(a.Za.O===d&&a.Za.G===f&&1>Math.abs(a.P.f-a.Za.f)&&1>Math.abs(a.P.g-a.Za.g))){a.Za.O=d;a.Za.G=f;a.Za.f=a.P.f;a.Za.g=a.P.g;var g=a.a.R.e.a.getContext("2d"),e=a.a.bh.e.a.getContext("2d"),h=a.a.Sg.e.a.getContext("2d"),l=a.a.Selection.e.a.getContext("2d");h.clearRect(0,0,d,f);e.clearRect(0,0,d,f);g.clearRect(0,0,d,f);l.clearRect(0,0,d,f);for(var l=10+a.P.f,k=10+a.P.g,m=a.U.Ta(),n=a.Kf(),u=0;u<=m-1;u++){var p=k+24*u;if(-24<=p&&p<=f+24)for(var r=a.U.U[u].length-1,w=0;w<=r;w++){var t=l+24*w;if(-24<=t&&t<=d+24){var y=a.U.D(w,u);if(!1===y.Kd()){var H=y.Yc();switch(y.I){case nc:H.ac?g.putImageData(a.b.gh,t,p):g.putImageData(a.b.mh,t,p);break;case oc:H.ac?1===H.Vi?g.putImageData(a.b.hh,t,p):g.putImageData(a.b.ih,t,p):g.putImageData(a.b.jh,t,p);break;case pc:H.ac?g.putImageData(a.b.kh,t,p):g.putImageData(a.b.lh,t,p)}}else{var H=y.Yc(),M=y.Bb.I,z=""+y.Ra.Tg,D=h.measureText(z).width,D=y.Ka;if(F===M)if(H&&!0===n&&e.putImageData(a.b.za,t+2+a.b.Hb,p+2+a.b.Hb),h.putImageData(H?a.b.Pc:a.b.Be,t+2,p+2),""===D){var V=0;2>=z.length?(h.font="bold 10px sans-serif",D=h.measureText(z).width):(h.font="bold 9px sans-serif",D=h.measureText(z).width,V=-1);h.fillStyle=H?"#CCC":"rgb(192, 192, 192)";h.fillText(z,t+12-D/2+V,p+12+3)}else h.putImageData(H?a.b.ej:a.b.fj,t+2,p+2);else G===M?(H&&!0===n&&e.putImageData(a.b.za,t+2+a.b.Hb,p+2+a.b.Hb),h.putImageData(H?a.b.ed:a.b.Xe,t+2,p+2),""===D?(V=0,2>=z.length?(h.font="bold 10px sans-serif",D=h.measureText(z).width):(h.font="bold 9px sans-serif",D=h.measureText(z).width,V=-1),h.fillStyle=H?"#000":"rgb(56, 56, 56)",h.fillText(z,t+12-D/2+V,p+12+3)):h.putImageData(H?a.b.hj:a.b.ij,t+2,p+2)):h.putImageData(H?a.b.dj:a.b.gj,t+2,p+2);z=T(y);y=y.ca;0===w?0!==z&&(1===z?H?g.putImageData(a.b.Fg,t,p):g.putImageData(a.b.Jg,t,p):H?0==y?g.putImageData(a.b.Gg,t,p):g.putImageData(a.b.Hg,t,p):g.putImageData(a.b.Ig,t,p)):0===z?H?g.putImageData(a.b.Dg,t,p):g.putImageData(a.b.Eg,t,p):1===z?H?g.putImageData(a.b.zg,t,p):g.putImageData(a.b.Kg,t,p):H?0===y?g.putImageData(a.b.Ag,t,p):g.putImageData(a.b.Bg,t,p):g.putImageData(a.b.Cg,t,p);F!==M&&G!==M||g.clearRect(t+3,p+3,18,18)}}}}}a.kf=!1}}b.wh&&qc(b,!1)};this.Vj()}q=lc.prototype;q.Eb=function(){return this.hb?parseInt(this.hb.clientWidth):0};q.Ta=function(){return this.hb?parseInt(this.hb.clientHeight):0};q.og=function(a){this.hb=document.getElementById(a);var b=new aa(this);b.v(a,this.c);b.na();this.ga.push(b);this.w()};q.mg=function(a){gc();this.hb=document.getElementById(a);var b=this.c,c=E(a);this.X(c.a,a+"div");var d=a+"div",f=new ec;f.Me=d;f.a=document.getElementById(d);f.Set(25);var e=f.a;c.m(f);d=a+"_Board";a=a+"_Toolbar";this.X(e,d);this.X(e,a);e=E(d);J(e.h,0,0,1E3,25,!1,!1,!1,!0,-1,-1);e.n=K|N|P;f.m(e);e=new aa(this);e.v(d,b);e.na();d=E(a);J(d.h,0,0,1E3,0,!1,!1,!1,!0,-1,25);d.n=N|O|P;f.m(d);f=new rc(this);f.v(a,b,{ka:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,25]});this.Qa=c;this.ga.push(e);this.ga.push(f);this.w()};q.lg=function(a){gc();var b=this.c,c=new aa(this),d=E(a),f=a+"GoBoard";this.X(d.a,f);var e=E(f);J(e.h,0,0,1,1,!1,!1,!0,!0,-1,-1);e.n=K|N|P|O;d.m(e);e.Gb(1,c,{$c:400});var g=a+"_Board",h=a+"_Panel";this.X(e.a,g);this.X(e.a,h);var l=E(g);a=E(h);e.m(l);e.m(a);c.v(g,b);c.na();e=h+"_CaT";g=h+"_Navigator";this.X(a.a,e);this.X(a.a,g);h=E(e);J(h.h,0,0,1E3,500,!1,!1,!1,!1,-1,-1);h.n=K|N|P|O;a.m(h);l=E(g);J(l.h,0,500,1E3,1E3,!1,!1,!1,!1,-1,-1);l.n=K|N|P|O;a.m(l);a=new sc(this);a.v(g,b);var k=e+"_Info",m=e+"_Comments",n=e+"_Toolbar",l=e+"_ToolbarSecond",u=e+"_ToolbarAutoPlay",p=e+"_ToolbarTimeLine";this.X(h.a,k);this.X(h.a,m);this.X(h.a,n);this.X(h.a,l);var r=this.X(h.a,u);this.X(h.a,p);e=u+"_Slider";g=u+"_Button";this.X(r,g);this.X(r,e);r=E(k);J(r.h,0,0,1E3,0,!1,!1,!1,!1,-1,50);r.n=K|N|P;h.m(r);var w=k+"_White",k=k+"_Black";this.X(r.a,w);this.X(r.a,k);var t=E(w);J(t.h,0,0,500,1E3,!1,!1,!1,!1,-1,-1);t.n=K|N|P|O;r.m(t);t=E(k);J(t.h,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);t.n=K|N|P|O;r.m(t);r=new Zb(this);r.v(w,b,G);w=new Zb(this);w.v(k,b,F);k=E(m);J(k.h,0,50,1E3,100,!1,!0,!1,!0,-1,25);k.n=K|N|P|O;h.m(k);k=E(n);J(k.h,0,0,1E3,75,!1,!1,!1,!0,-1,25);k.n=N|P|O;h.m(k);k=E(l);J(k.h,0,0,1E3,50,!1,!1,!1,!0,-1,25);k.n=N|P|O;h.m(k);k=E(u);J(k.h,0,0,1E3,25,!1,!1,!1,!0,-1,25);k.n=N|P|O;h.m(k);u=E(g);J(u.h,0,0,1E3,1E3,!1,!1,!1,!1,25,-1);u.n=N|K|O;k.m(u);u=E(e);J(u.h,25,0,1E3,1E3,!0,!1,!1,!1,-1,25);u.n=K|P|O;k.m(u);k=E(p);J(k.h,0,0,1E3,0,!1,!1,!1,!0,-1,25);k.n=N|P|O;h.m(k);h=new Yb(this);h.v(m,b);m=new rc(this);m.v(n,b,{ka:[1,2,3,4,5,6,24,7,8]});n=new rc(this);n.v(l,b,{ka:[9,10,11,12,13,14,15,16,17,20,23,25]});l=new tc(this);l.v(p,b,uc,0);p=new Ob(this);p.v(g,b,18);g=new tc(this);g.v(e,b,vc,0);this.ga.push(c);this.ga.push(a);this.ga.push(h);this.ga.push(m);this.ga.push(n);this.ga.push(l);this.ga.push(p);this.ga.push(g);this.ga.push(w);this.ga.push(r);this.Qa=d;this.w();wc(b);this.hb=document.getElementById(f)};q.ng=function(a){var b=this.c,c=new aa(this);x.W.Ze=!1;var d=E(a),f=a+"GoBoard";this.X(d.a,f);var e=E(f);J(e.h,0,0,1,1,!1,!1,!0,!0,-1,-1);e.n=K|N|P|O;d.m(e);e.Gb(1,c,{$c:100});var g=a+"_Board",h=a+"_Panel";this.X(e.a,g);this.X(e.a,h);var l=E(g);a=E(h);e.m(l);e.m(a);c.v(g,b);c.na();e=h+"_Toolbar";g=h+"_Comments";this.X(a.a,g);this.X(a.a,e);h=E(g);J(h.h,0,25,1E3,1E3,!1,!0,!1,!1,-1,-1);h.n=K|N|P|O;a.m(h);h=E(e);J(h.h,0,0,1E3,1E3,!0,!0,!1,!0,-1,25);h.n=N|P|K;a.m(h);a=new Yb(this);a.v(g,b);g=new rc(this);g.v(e,b,{ka:[1]});this.ga.push(c);this.ga.push(a);this.ga.push(g);this.Qa=d;this.w();wc(b);this.hb=document.getElementById(f)};q.w=function(a){a?qc(this,!0):this.wh=!0};function qc(a,b){a.wh=!1;a.Qa&&a.Qa.Ma(a.Qa.a.clientWidth,a.Qa.a.clientHeight);for(var c=0,d=a.ga.length;c<d;c++)a.ga[c].w(b)}q.X=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.Qi=function(a){this.fa=a};q.Ki=function(){this.ie&&Sb(this.ie,0)};q.Ug=function(){this.ie&&Sb(this.ie,16)};q.jj=function(a){if(this.Ob){var b=this.Ob;b.Af=a;$b(b)}};q.kj=function(a){if(this.Ob){var b=this.Ob;b.Bf=a;$b(b)}};q.lj=function(a){if(this.Rb){var b=this.Rb;b.Af=a;$b(b)}};q.mj=function(a){if(this.Rb){var b=this.Rb;b.Bf=a;$b(b)}};q.Sd=function(a,b){this.Ob&&this.Ob.Sd(a);this.Rb&&this.Rb.Sd(b)};q.Td=function(a,b){this.Ob&&this.Ob.Td(a);this.Rb&&this.Rb.Td(b)};q.wc=function(a){for(var b=0,c=this.A.Tf.length;b<c;b++)Rb(this.A.Tf[b],a.Ub);b=0;for(c=this.A.Uf.length;b<c;b++)Rb(this.A.Uf[b],a.Ub);b=0;for(c=this.A.Ub.length;b<c;b++)Rb(this.A.Ub[b],a.Ub);b=0;for(c=this.A.Wb.length;b<c;b++)Rb(this.A.Wb[b],a.Wb);b=0;for(c=this.A.sg.length;b<c;b++)Rb(this.A.sg[b],a.Wb);b=0;for(c=this.A.rg.length;b<c;b++)Rb(this.A.rg[b],a.Wb);b=0;for(c=this.A.sc.length;b<c;b++)Rb(this.A.sc[b],a.sc);b=0;for(c=this.A.tc.length;b<c;b++)Rb(this.A.tc[b],a.tc);b=0;for(c=this.A.Yf.length;b<c;b++)Tb(this.A.Yf[b],0===a.mb);b=0;for(c=this.A.$f.length;b<c;b++)Tb(this.A.$f[b],1===a.mb);b=0;for(c=this.A.Xf.length;b<c;b++)Tb(this.A.Xf[b],2===a.mb);b=0;for(c=this.A.cg.length;b<c;b++)Tb(this.A.cg[b],3===a.mb);b=0;for(c=this.A.ag.length;b<c;b++)Tb(this.A.ag[b],4===a.mb);b=0;for(c=this.A.Wf.length;b<c;b++)Tb(this.A.Wf[b],5===a.mb);b=0;for(c=this.A.dg.length;b<c;b++)Tb(this.A.dg[b],6===a.mb);b=0;for(c=this.A.bg.length;b<c;b++)Tb(this.A.bg[b],7===a.mb);b=0;for(c=this.A.Zf.length;b<c;b++)Tb(this.A.Zf[b],8===a.mb);this.Mh&&(b=this.Mh,!0!==b.Xd&&xc(b,a.$i,!0))};q.vc=function(a){for(var b=0,c=this.sh.length;b<c;b++)this.sh[b].vc(a)};var yc=0,zc=1,cb=2,C=new function(){this.fg=this.g=this.f=0;this.dd=zc;this.s=this.r=this.Ae=!1;this.ya=null;this.Ld=-1;this.Gi=this.Fi=this.Ed=0;this.Lg=this.Ie=!1},ha=new function(){this.s=this.r=this.Ae=!1;this.ya=null;this.C=this.bk=0};function ga(a){ha.Ae=a.altKey;ha.r=void 0!==a.metaKey?a.ctrlKey||a.metaKey:a.ctrlKey;ha.s=a.shiftKey;ha.ya=a.srcElement?a.srcElement:a.target;ha.bk=a.charCode;ha.C=a.keyCode;ha.wl=a.which}function ba(a){if(!a.Ie||a.Lg){if(a.pageX||a.pageY)C.f=a.pageX,C.g=a.pageY;else if(a.clientX||a.clientY)C.f=a.clientX,C.g=a.clientY;C.Ae=a.altKey;C.s=a.shiftKey;C.r=a.ctrlKey||a.metaKey;C.dd=zc;C.Ie||(C.ya=a.srcElement?a.srcElement:a.target);if(3<Math.abs(C.f-C.Fi)||3<Math.abs(C.g-C.Gi))C.Ld=-1,C.Ed=0}}function fa(a){if(a.pageX||a.pageY)C.f=a.pageX,C.g=a.pageY;else if(a.clientX||a.clientY)C.f=a.clientX,C.g=a.clientY;C.Fi=C.f;C.Gi=C.g;C.Ae=a.altKey;C.s=a.shiftKey;C.r=a.ctrlKey||a.metaKey;C.dd=yc;C.fg=a.button;C.ya=a.srcElement?a.srcElement:a.target;a=(new Date).getTime();0==C.Ed?(C.Ed=1,C.Ld=a):500>a-C.Ld?(C.Ld=a,C.Ed++):(C.Ed=1,C.Ld=a);window.qh=!1}window.onmousemove=function(a){C.Ie&&void 0!=C.ya&&null!=C.ya&&void 0!=C.ya.onmousemove&&null!=C.ya.onmousemove&&(C.Lg=!0,C.ya.onmousemove(a),C.Lg=!1)};window.onmouseup=function(a){if(!1===window.qh){window.qh=!0;if(C.Ie&&C.ya&&void 0!=C.ya.onmouseup&&null!=C.ya.onmouseup)C.ya.onmouseup(a,!0);C.ya=null}};function Ac(){this.tc=this.sc=this.Wb=this.Ub=!0;this.$i=this.mb=0};var ua=-1,Ya=0,Xa=1,Wa=2,Ra=3,Za=4,Sa=5,Ta=6,Ua=7,Va=8;function ta(a,b,c,d){this.Jj={f:void 0===a?0:a,g:void 0==b?0:b};this.I=void 0===c?Ya:c;this.Cf=void 0===d?"":d}ta.prototype.Sc=function(){return this.Jj.f};ta.prototype.Tc=function(){return this.Jj.g};ta.prototype.Gb=function(a){this.I=a};function sc(a){this.k=a;this.c=null;this.U=new Bc;this.kf=this.jf=!0;this.a={e:null,Q:{e:null},Selection:{e:null},oc:{e:null},R:{e:null},bh:{e:null},Sg:{e:null},gk:{e:null},oa:null,pa:null,Ua:null,Wa:null,Od:0,Nd:0};this.Ya=null;this.b={O:0,G:0,Q:null,Pc:null,ed:null,Be:null,Xe:null,Fg:null,Ci:null,zg:null,Bi:null,Dg:null,gh:null,oj:null,kh:null,Jg:null,Gg:null,Hg:null,Ig:null,Kg:null,Ag:null,Bg:null,Cg:null,Eg:null,mh:null,hh:null,ih:null,jh:null,lh:null,dj:null,gj:null,ej:null,hj:null,fj:null,ij:null,Ib:null,oc:null,za:null,Hb:0};this.P={f:0,g:0};this.md=!1;this.Dk=!0;this.Za={O:0,G:0,f:0,g:0};this.xd=this.ud=null;var b=this;this.ei=function(){return setTimeout(function(){b.Wh()},20)};this.we=function(a){b.md||(b.c&&b.c.na(),fa(a),a=b.ye(C.f,C.g),a=b.U.D(a.f,a.g),a.Kd()&&b.c&&hb(b.c,a))};this.Of=function(a){b.md||(ba(a),a=b.ye(C.f,C.g),b.kb(a.f,a.g))};this.xe=function(){b.md||b.kb(-1,-1)};this.Uj=function(a){if(b.md)return!1;var d=0,d=void 0!=a.wheelDelta?0<a.wheelDelta?-45:45:0<a.detail?45:-45;a.preventDefault&&a.preventDefault();var f=20+24*(b.U.Ta()+1)-b.a.Q.e.a.height;b.P.g-=d;b.P.g=Math.min(0,Math.max(b.P.g,-f));Cc(b);b.Of(a);Dc(b);return!1};this.Nf=function(){b.c&&b.c.na()};this.Th=function(){null!==b.ud&&(clearTimeout(b.ud),b.ud=null)};this.gl=function(a){function d(a){var c=-b.P.f;c!==h?(c=c<h?Math.min(h,c+200):Math.max(h,c-200),b.P.f=-c,Cc(b),Dc(b),c!==h?b.ud=setTimeout(d,!0===a?300:30):b.ud=null):b.ud=null}b.Th();fa(a);a=C.f-Ga(b.a.Ua).f;var f=b.U.Eb()+1,e=b.a.Od,g=b.b.O-4;a=Math.max(0,Math.min(g-e,a-e/2));var h=a/(g-e)*(20+24*f-g);d(!0)};this.rl=function(){b.Th()};this.ol=function(){b.a.Ua.style.opacity=.3};this.jl=function(){b.Th();b.a.Ua.style.opacity=0};this.Uh=function(){null!==b.xd&&(clearTimeout(b.xd),b.xd=null)};this.hl=function(a){function d(a){var c=-b.P.g;c!==h?(c=c<h?Math.min(h,c+48):Math.max(h,c-48),b.P.g=-c,Cc(b),Dc(b),c!==h?b.xd=setTimeout(d,!0===a?300:30):b.xd=null):b.xd=null}b.Uh();fa(a);a=C.g-Ga(b.a.Wa).g;var f=b.U.Ta()+1,e=b.a.Nd,g=b.b.G-4;a=Math.max(0,Math.min(g-e,a-e/2));var h=a/(g-e)*(20+24*f-g);d(!0)};this.sl=function(){b.Uh()};this.ql=function(){b.a.Wa.style.opacity=.3};this.ll=function(){b.Uh();b.a.Wa.style.opacity=0};this.nl=function(){b.a.oa.style.opacity=.7;b.a.Ua.style.opacity=.3};this.il=function(){b.a.oa.style.opacity=.5;b.a.Ua.style.opacity=0};this.pl=function(){b.a.pa.style.opacity=.7;b.a.Wa.style.opacity=.3};this.kl=function(){b.a.pa.style.opacity=.5;b.a.Wa.style.opacity=0};this.Tj=function(){b.md=!0};this.Sj=function(){b.md=!1};this.Tk=function(a){var d=b.b.O;b.P.f=-((a-2)/(d-4-b.a.Od)*(20+24*(b.U.Eb()+1)-d));Cc(b)};this.al=function(a,d){var f=b.b.G;b.P.g=-((d-2)/(f-4-b.a.Nd)*(20+24*(b.U.Ta()+1)-f));Cc(b)}}q=sc.prototype;q.v=function(a,b){this.k&&(this.k.tf=this);this.c=b;this.c.K=this;this.U.c=b;this.a.e=E(a);var c=this.a.e.a,d=this.a.e,f=a+"_Board",e=a+"_Selection",g=a+"_Current",h=a+"_Lines",l=a+"_Shadows",k=a+"_Nodes",m=a+"_Events";this.Ca(c,f);this.Ca(c,e);this.Ca(c,g);this.Ca(c,h);this.Ca(c,l);this.Ca(c,k);var n=this.sa(c,m);this.a.Ua=this.sa(c,a+"HorScroll_BG");this.a.oa=this.sa(c,a+"HorScroll");this.a.Wa=this.sa(c,a+"VerScroll_BG");this.a.pa=this.sa(c,a+"VerScroll");this.a.Ua.style.background="rgb(0,0,0)";this.a.Ua.style.opacity="0";this.a.Wa.style.background="rgb(0,0,0)";this.a.Wa.style.opacity="0";this.a.Ua.onmousedown=this.gl;this.a.Ua.onmouseup=this.rl;this.a.Ua.onmouseover=this.ol;this.a.Ua.onmouseout=this.jl;this.a.Wa.onmousedown=this.hl;this.a.Wa.onmouseup=this.sl;this.a.Wa.onmouseover=this.ql;this.a.Wa.onmouseout=this.ll;this.a.oa.onmouseover=this.nl;this.a.oa.onmouseout=this.il;this.a.pa.onmouseover=this.pl;this.a.pa.onmouseout=this.kl;c=E(a+"HorScroll_BG");J(c.h,2,0,2,4,!0,!1,!0,!0,-1,8);c.n=N|O|P;d.m(c);c=E(a+"VerScroll_BG");J(c.h,0,2,4,2,!1,!0,!0,!0,8,-1);c.n=K|O|P;d.m(c);this.ma(this.a.Q,d,f);this.ma(this.a.Selection,d,e);this.ma(this.a.oc,d,g);this.ma(this.a.R,d,h);this.ma(this.a.bh,d,l);this.ma(this.a.Sg,d,k);this.ma(this.a.gk,d,m);n.onmousedown=this.we;n.onmousemove=this.Of;n.onmouseout=this.xe;n.onmousewheel=this.Uj;n.addEventListener&&n.addEventListener("DOMMouseScroll",this.Uj,!1);n.onfocus=this.Nf;n.tabIndex=-1;n.style.Bk=!0;n.style.outline=0;this.Jf();this.ue();Ec(this);this.If()};q.w=function(a){var b=this.a.e.a.clientWidth,c=this.a.e.a.clientHeight;this.a.e.Ma(b,c);this.jb(b,c,a)};function Fc(a){if(!(0>=a.b.O||0>=a.b.G)){var b=a.b.O,c=a.b.G,d=20+24*(a.U.Eb()+1),f=20+24*(a.U.Ta()+1);d>b?(a.a.Od=Math.max(50,b*b/d),a.a.oa.style.width=Math.max(50,b*b/d)+"px",a.a.oa.style.display="block",a.a.oa.style.position="absolute",a.a.oa.style.top=c-12+"px",a.a.oa.style.height="8px",a.a.oa.style.background=a.Sb()?"rgb(220, 220, 220)":"rgb(0,0,0)",a.a.oa.style.opacity=.5,Gc(a.a.oa,2,b-a.a.Od-2,c-12,c-12),a.a.oa.Sa=a.Tk,a.a.oa.Hf=a.Tj,a.a.oa.Gf=a.Sj):a.a.oa.style.display="none";f>c?(a.a.Nd=Math.max(50,c*c/f),a.a.pa.style.height=Math.max(50,c*c/f)+"px",a.a.pa.style.display="block",a.a.pa.style.position="absolute",a.a.pa.style.left=b-12+"px",a.a.pa.style.width="8px",a.a.pa.style.background=a.Sb()?"rgb(220, 220, 220)":"rgb(0,0,0)",a.a.pa.style.opacity=.5,Gc(a.a.pa,b-12,b-12,2,c-a.a.Nd-2),a.a.pa.Sa=a.al,a.a.pa.Hf=a.Tj,a.a.pa.Gf=a.Sj):a.a.pa.style.display="none";a.Za.G=-1;a.Za.O=-1;Cc(a);Dc(a)}}q.nb=function(){this.U.nb();this.Za.G=-1;this.Za.O=-1};function Hc(a,b){a.jf=!0;var c=a.b.O,d=a.b.G;if(!(0>=c||0>=d)){var f=a.c.i.Ra,e=f.f,f=f.g,g=10+a.P.f+24*e,h=10+a.P.g+24*f;if(0!=b&&!0===a.Dk&&(10>=g||g>=c-10||10>=h||h>=d-10)){var l=20+24*(a.U.Ta()+1)-d,k=20+24*(a.U.Eb()+1)-c;10>=g?a.P.f=24*-e:g>=c-10&&(a.P.f=c-24-10-10-24*e);10>=h?a.P.g=24*-f:h>=d-10&&(a.P.g=d-24-10-10-24*f);a.P.f=Math.min(0,Math.max(a.P.f,-k));a.P.g=Math.min(0,Math.max(a.P.g,-l));Dc(a);Cc(a)}}}q.Ca=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.sa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.ma=function(a,b,c){a.e=E(c);a=a.e;J(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.n=K|N|O|P;b.m(a)};q.jb=function(a,b,c){var d=this.a.Q.e.a.getContext("2d");a!==this.b.O||b!==this.b.G||null===this.b.Q||null!==this.Ya||!0===c?(this.b.O=a,this.b.G=b,d.fillStyle=R(this.ve()),d.fillRect(0,0,a,b),null!==this.Ya&&clearTimeout(this.Ya),this.Ya=this.ei()):d.putImageData(this.b.Q,0,0);Fc(this)};q.Wh=function(){this.Ya=null;var a=this.b.O,b=this.b.G,c=this.a.Q.e.a.getContext("2d");if(0!==a&&0!==b){for(var d=c.createImageData(a,b),f=this.ve(),e=f.o,g=f.q,f=f.p,h=Array(a),l=0;l<a;l++)h[l]=(Math.tan(300*l/a)+1)/2+(Math.tan(100*l/a)+1)/10;for(var k=Array(b),m=0;m<b;m++)k[m]=.02*Math.tan(m/b);var n,u,p,l=this.Nc();if(!0===this.Lf())for(p=.9,m=0;m<b;m++)for(l=0;l<a;l++){p=40*(h[l]+k[m])+.5;p-=Math.floor(p);p=.2>p?1-p/2:.4>p?1-(.4-p)/2:1;if(m==b-1||m==b-2&&l<a-2||l>=a-1||l==a-2&&m<b-1)p/=2;0==m||1==m&&1<l||0==l||1==l&&1<m?(n=128+e*p/2,u=128+g*p/2,p=128+f*p/2):(n=e*p,u=g*p,p*=f);var r=4*(l+m*a);d.data[r+0]=n;d.data[r+1]=u;d.data[r+2]=p;d.data[r+3]=255}else for(h=0;h<b;h++)for(k=0;k<a;k++)0==h||0==k||h===b-1||k===a-1?(n=l.o,u=l.q,p=l.p):(n=e,u=g,p=f),r=4*(k+h*a),d.data[r+0]=n,d.data[r+1]=u,d.data[r+2]=p,d.data[r+3]=255;this.b.Q=d;c.putImageData(this.b.Q,0,0)}};q.Jf=function(){var a=this.a.Sg.e.a.getContext("2d");this.b.Pc=a.createImageData(20,20);this.b.ed=a.createImageData(20,20);this.b.Be=a.createImageData(20,20);this.b.Xe=a.createImageData(20,20);var a=this.b.Pc.data,b=this.b.ed.data,c=this.b.Be.data,d=this.b.Xe.data,f=this.Zh(),e=this.Xh(),g=this.Sb();if(!0===this.Yh())for(var h=9.5,l=h-.2,f=Math.sqrt(3),k=0;20>k;k++)for(var m=0;20>m;m++){var n=k-h,u=m-h,p=l-Math.sqrt(n*n+u*u),r=4*(20*k+20-m-1);if(0<=p){var w=l*l-n*n-u*u,w=0<w?Math.sqrt(w)*f:0,g=n,t=u,e=Math.sqrt(6*(g*g+t*t+w*w)),e=(2*w-g+t)/e,g=0;.9<e&&(g=10*(e-.9));w=255;.8>=p&&(p=(.8-p)/.8,w=.7,n-u<l/3&&(w=1),w=parseInt(255*(1-p*w)));n=parseInt(10+10*e+140*g);a[r+0]=n;a[r+1]=n;a[r+2]=n;a[r+3]=w;c[r+0]=n;c[r+1]=n;c[r+2]=n;c[r+3]=parseInt(.5*w);n=parseInt(200+10*e+45*g);b[r+0]=n;b[r+1]=n;b[r+2]=n;b[r+3]=w;d[r+0]=n;d[r+1]=n;d[r+2]=n;d[r+3]=parseInt(.7*w)}else a[r+0]=0,a[r+1]=0,a[r+2]=0,a[r+3]=0,d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0}else for(h=9.5,l=h-.2,k=0;20>k;k++)for(m=0;20>m;m++)if(n=k-h,u=m-h,p=l-Math.sqrt(n*n+u*u),r=4*(20*k+20-m-1),0<=p){w=255;if(.8>=p){var y=(.8-p)/.8,w=.7;n-u<l/3&&(w=1);w=parseInt(255*(1-y*w))}else 1.6>=p&&.8<=p&&!0===g&&(y=(1.6-p)/.8,w=.7,n-u<l/3&&(w=1),w=parseInt(y*w*255));t=!1;1.6>=p&&(t=!0);!1===t||!1===g?(a[r+0]=e.o,a[r+1]=e.q,a[r+2]=e.p,a[r+3]=w,c[r+0]=e.o,c[r+1]=e.q,c[r+2]=e.p):(a[r+0]=f.o,a[r+1]=f.q,a[r+2]=f.p,a[r+3]=w,c[r+0]=f.o,c[r+1]=f.q,c[r+2]=f.p);c[r+3]=parseInt(.5*w);w=255;.8>=p?(y=(.8-p)/.8,w=.7,n-u<l/3&&(w=1),w=parseInt(255*(1-y*w))):1.6>=p&&.8<=p&&!1===g&&(y=(1.6-p)/.8,w=.7,n-u<l/3&&(w=1),w=parseInt(y*w*255));!1===t||!0===g?(b[r+0]=f.o,b[r+1]=f.q,b[r+2]=f.p,b[r+3]=w,d[r+0]=f.o,d[r+1]=f.q,d[r+2]=f.p):(b[r+0]=e.o,b[r+1]=e.q,b[r+2]=e.p,b[r+3]=w,d[r+0]=e.o,d[r+1]=e.q,d[r+2]=e.p);d[r+3]=parseInt(w/2)}else a[r+0]=0,a[r+1]=0,a[r+2]=0,a[r+3]=0,c[r+0]=0,c[r+1]=0,c[r+2]=0,c[r+3]=0,b[r+0]=0,b[r+1]=0,b[r+2]=0,b[r+3]=0,d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0};q.ue=function(){var a=this.a.R.e.a.getContext("2d");this.b.Fg=a.createImageData(24,24);this.b.Ci=a.createImageData(24,24);this.b.zg=a.createImageData(24,24);this.b.Bi=a.createImageData(24,24);this.b.Dg=a.createImageData(24,24);this.b.gh=a.createImageData(24,24);this.b.oj=a.createImageData(24,24);this.b.kh=a.createImageData(24,24);this.b.Jg=a.createImageData(24,24);this.b.Gg=a.createImageData(24,24);this.b.Hg=a.createImageData(24,24);this.b.Ig=a.createImageData(24,24);this.b.Kg=a.createImageData(24,24);this.b.Ag=a.createImageData(24,24);this.b.Bg=a.createImageData(24,24);this.b.Cg=a.createImageData(24,24);this.b.Eg=a.createImageData(24,24);this.b.mh=a.createImageData(24,24);this.b.hh=a.createImageData(24,24);this.b.ih=a.createImageData(24,24);this.b.jh=a.createImageData(24,24);this.b.lh=a.createImageData(24,24);for(var a=this.b.Fg.data,b=this.b.Ci.data,c=this.b.zg.data,d=this.b.Bi.data,f=this.b.Dg.data,e=this.b.gh.data,g=this.b.oj.data,h=this.b.kh.data,l=this.b.Jg.data,k=this.b.Gg.data,m=this.b.Hg.data,n=this.b.Ig.data,u=this.b.Kg.data,p=this.b.Ag.data,r=this.b.Bg.data,w=this.b.Cg.data,t=this.b.Eg.data,y=this.b.mh.data,H=this.b.hh.data,M=this.b.ih.data,z=this.b.jh.data,D=this.b.lh.data,V=!0===this.Sb()?200:28,A=new B(V,V,V,255),L=0;24>L;L++)for(var Q=0;24>Q;Q++){var v=4*(24*L+Q);12<=Q&&(11===L||12===L)?(a[v+0]=A.o,a[v+1]=A.p,a[v+2]=A.q,a[v+3]=255,l[v+0]=A.o,l[v+1]=A.p,l[v+2]=A.q,l[v+3]=96):(a[v+3]=0,l[v+3]=0);11<=Q&&(11===L||12===L)||12<=L&&(11===Q||12===Q)?(b[v+0]=A.o,b[v+1]=A.p,b[v+2]=A.q,b[v+3]=255,n[v+0]=A.o,n[v+1]=A.p,n[v+2]=A.q,n[v+3]=96):(b[v+3]=0,n[v+3]=0);11<=Q&&(11===L||12===L)?(k[v+0]=A.o,k[v+1]=A.p,k[v+2]=A.q,k[v+3]=255):12<=L&&(11===Q||12===Q)?(k[v+0]=A.o,k[v+1]=A.p,k[v+2]=A.q,k[v+3]=96):k[v+3]=0;12<=L&&(11===Q||12===Q)?(m[v+0]=A.o,m[v+1]=A.p,m[v+2]=A.q,m[v+3]=255):11<=Q&&(11===L||12===L)?(m[v+0]=A.o,m[v+1]=A.p,m[v+2]=A.q,m[v+3]=96):m[v+3]=0;11===L||12===L?(c[v+0]=A.o,c[v+1]=A.p,c[v+2]=A.q,c[v+3]=255,u[v+0]=A.o,u[v+1]=A.p,u[v+2]=A.q,u[v+3]=96):(c[v+3]=0,u[v+3]=0);11===L||12===L||12<=L&&(11===Q||12===Q)?(d[v+0]=A.o,d[v+1]=A.p,d[v+2]=A.q,d[v+3]=255,w[v+0]=A.o,w[v+1]=A.p,w[v+2]=A.q,w[v+3]=96):(d[v+3]=0,w[v+3]=0);11===L||12===L?(p[v+0]=A.o,p[v+1]=A.p,p[v+2]=A.q,p[v+3]=255):12<=L&&(11===Q||12===Q)?(p[v+0]=A.o,p[v+1]=A.p,p[v+2]=A.q,p[v+3]=96):p[v+3]=0;(11===L||12===L)&&12>=Q||12<=L&&(11===Q||12===Q)?(r[v+0]=A.o,r[v+1]=A.p,r[v+2]=A.q,r[v+3]=255):(11===L||12===L)&&12<Q?(r[v+0]=A.o,r[v+1]=A.p,r[v+2]=A.q,r[v+3]=96):(d[v+3]=0,w[v+3]=0);11>=Q&&(11===L||12===L)?(f[v+0]=A.o,f[v+1]=A.p,f[v+2]=A.q,f[v+3]=255,t[v+0]=A.o,t[v+1]=A.p,t[v+2]=A.q,t[v+3]=96):(f[v+3]=0,t[v+3]=0);11===Q||12===Q?(e[v+0]=A.o,e[v+1]=A.p,e[v+2]=A.q,e[v+3]=255,y[v+0]=A.o,y[v+1]=A.p,y[v+2]=A.q,y[v+3]=96):(e[v+3]=0,y[v+3]=0);11===Q||12===Q||12<=Q&&(11===L||12===L)?(g[v+0]=A.o,g[v+1]=A.p,g[v+2]=A.q,g[v+3]=255,z[v+0]=A.o,z[v+1]=A.p,z[v+2]=A.q,z[v+3]=96):(g[v+3]=0,z[v+3]=0);(11===Q||12===Q)&&12>=L||12<=Q&&(11===L||12===L)?(H[v+0]=A.o,H[v+1]=A.p,H[v+2]=A.q,H[v+3]=255):(11===Q||12===Q)&&12<L?(H[v+0]=A.o,H[v+1]=A.p,H[v+2]=A.q,H[v+3]=96):H[v+3]=0;11===Q||12===Q?(M[v+0]=A.o,M[v+1]=A.p,M[v+2]=A.q,M[v+3]=255):12<Q&&(11===L||12===L)?(M[v+0]=A.o,M[v+1]=A.p,M[v+2]=A.q,M[v+3]=96):M[v+3]=0;11>=L&&(11===Q||12===Q)||11<=Q&&(11===L||12===L)?(h[v+0]=A.o,h[v+1]=A.p,h[v+2]=A.q,h[v+3]=255,D[v+0]=A.o,D[v+1]=A.p,D[v+2]=A.q,D[v+3]=96):(h[v+3]=0,D[v+3]=0)}this.b.dj=this.va(20,20,20*.07,A,1,null);this.b.gj=this.va(20,20,20*.07,new B(V,V,V,96),1,null);this.b.ej=this.va(20,20,1.2,new B(255,255,255,255),1,this.b.Pc);this.b.hj=this.va(20,20,1.2,new B(0,0,0,255),1,this.b.ed);this.b.fj=this.va(20,20,1.2,new B(255,255,255,96),1,this.b.Be);this.b.ij=this.va(20,20,1.2,new B(0,0,0,96),1,this.b.Xe)};function Ec(a){var b=a.a.Selection.e.a.getContext("2d");a.b.Ib=b.createImageData(24,24);a.b.oc=b.createImageData(24,24);for(var c=a.b.Ib.data,d=a.b.oc.data,f=0;24>f;f++)for(var e=0;24>e;e++){var g=4*(e+24*f);c[g+3]=255;d[g+3]=255;0===e&&23===f||23===e&&0===f?(c[g+0]=135,c[g+1]=125,c[g+2]=135,d[g+0]=216):23===e||23===f?(c[g+0]=89,c[g+1]=89,c[g+2]=89,d[g+0]=178):(0===f||0===e?(c[g+0]=182,c[g+1]=182,c[g+2]=182):(c[g+0]=128,c[g+1]=128,c[g+2]=128),d[g+0]=255);d[g+1]=0;d[g+2]=0}b.putImageData(a.b.Ib,0,0);b.putImageData(a.b.oc,0,30)}q.va=function(a,b,c,d,f,e){void 0===f&&(f=1);var g=this.a.R.e.a.getContext("2d");g.clearRect(0,0,a,b);null!==e&&g.putImageData(e,0,0);g.globalAlpha=f;g.strokeStyle=R(d);g.fillStyle=R(d);g.lineWidth=c;f=a/2;d=3*b/4;var h=.1*a;c=Math.sqrt(f*f-(d-f)*(d-f))+f-h;f=-Math.sqrt(f*f-(d-f)*(d-f))+f+h;null!==e&&(c=Math.floor(c-.5),f=Math.ceil(f+.5),h=Math.ceil(h+.5),d=Math.floor(d-.5));g.beginPath();g.moveTo(a/2,h);g.lineTo(c,d);g.lineTo(f,d);g.closePath();g.stroke();a=g.getImageData(0,0,a,b);g.putImageData(a,0,0);return a};q.If=function(){var a=this.a.bh.e.a.getContext("2d");this.b.za=a.createImageData(20,20);a=this.b.za.data;this.b.Hb=Math.max(3,3);for(var b=0;20>b;b++)for(var c=0;20>c;c++){var d=Math.abs(b-8.5),f=Math.abs(c-8.5),d=Math.sqrt(f*f+d*d)/8.5,d=1>d?.15+.75*(1-d):0,f=4*(20*b+c);a[f+0]=0;a[f+1]=0;a[f+2]=0;a[f+3]=parseInt(255*d)}};function Cc(a){a.kf=!0;Hc(a,!1)}q.ye=function(a,b){var c=Ga(this.a.Q.e.a);return{f:(a-c.f-10-this.P.f)/24|0,g:(b-c.g-10-this.P.g)/24|0}};q.kb=function(a,b){var c=this.b.O,d=this.b.G;if(!(0>=c||0>=d)){var f=this.a.Selection.e.a.getContext("2d");f.clearRect(0,0,c,d);0<=a&&0<=b&&(c=10+this.P.f+24*a,d=10+this.P.g+24*b,this.U.D(a,b).Kd()&&f.putImageData(this.b.Ib,c,d))}};function Dc(a){var b=a.b.O,c=a.b.G,c=-a.P.g/(20+24*(a.U.Ta()+1)-c)*(c-4-a.a.Nd)+2;a.a.oa.style.left=-a.P.f/(20+24*(a.U.Eb()+1)-b)*(b-4-a.a.Od)+2+"px";a.a.pa.style.top=c+"px"}q.Lf=function(){return x.da.bc};q.Yh=function(){return x.da.zc};q.Kf=function(){return x.da.yc};q.Zh=function(){return x.da.Mc};q.Xh=function(){return x.da.Kc};q.ve=function(){return x.da.mc};q.Nc=function(){return x.da.Lc};q.Sb=function(){return x.da.xc};var nc=-9,oc=-8,pc=-7;function Ic(a,b,c){this.I=a;this.Y=b;this.uf=c}Ic.prototype.Kd=function(){return!1};Ic.prototype.V=function(){return this.uf};Ic.prototype.Yc=function(){if(-10!==this.I)if(nc===this.I){if(this.Y.Yc()&&0<T(this.Y)&&this.Y.V().Ra.g>=this.uf.Ra.g)return{ac:!0}}else if(oc===this.I){if(!this.Y.Yc())return{ac:!1};var a=this.uf.Ra.g,b=this.Y.V().Ra.g;if(a<b)return{ac:!0,Vi:0};if(a===b)return{ac:!0,Vi:1}}else if(pc===this.I)return{ac:this.uf.Yc()};return{ac:!1}};function Bc(){this.U=[];this.c=null;this.Pa=0}q=Bc.prototype;q.xa=function(){this.U=[];this.Pa=0};q.nb=function(){this.c&&(this.xa(),Jc(this,this.c.Z,0,0))};function Jc(a,b,c,d){var f,e=1;for(f=b;0<T(f);)e++,f=f.V(0);for(f=e;!Kc(a,c,d,f);)d++;var e=c,g=d,h=b;for(a.Set(e,g,b);0<T(h);)e++,h=h.V(0),a.Set(e,g,h);e=Lc(b);c+=f-1;for(f={nj:d};;){for(var g=d,h=a.Pa,l=T(e),k=1;k<l;k++){a.Pa=h;var m=d,n=Jc(a,e.V(k),c+1,d+1);d=n.g;for(m+=1;m<=d;m++)if(m===n.nj)if(l-1===k){a.Set(c,m,new Ic(pc,e,e.V(k)));break}else a.Set(c,m,new Ic(oc,e,e.V(k)));else m<n.nj?a.Set(c,m,new Ic(nc,e,e.V(k))):a.Set(c,m,new Ic(nc,e,e.V(k+1)))}a.Pa=h;if(e===b)break;e.Xc()&&a.Pa--;e=e.Y;c--;d=g}f.g=d;return f}q.D=function(a,b){return void 0===this.U[b]||void 0===this.U[b][a]?new Ic(-10,null,null):this.U[b][a]};q.Set=function(a,b,c){void 0===this.U[b]&&(this.U[b]=[]);if(c.Kd())if(c.Xc()){this.Pa++;var d=this.Pa;c.Ra.f=a;c.Ra.g=b;c.Ra.Tg=d}else c.Ra.f=a,c.Ra.g=b,c.Ra.Tg=-1;this.U[b][a]=c};function Kc(a,b,c,d){for(var f=0;f<d;f++){var e=b+f;if(!1===(void 0===a.U[c]||void 0===a.U[c][e]||-10===a.U[c][e].I?!0:!1))return!1}return!0}q.Ta=function(){return this.U.length};q.Eb=function(){for(var a=0,b=this.Ta(),c=0;c<b;c++){var d=this.U[c].length-1;d>a&&(a=d)}return a};function Mc(a){if(this.c=a)a.k=this;this.Qa=null;this.ga=[];this.a={Rg:null,uc:null,Oi:null,Ii:null,Oe:null,Qe:null,De:null};this.Mb=this.mf=this.fb=0}q=Mc.prototype;q.v=function(a,b){Nc(this,b);var c=this.c,d=E(a),f=a+"_Board",e=a+"_Message",g=a+"_Next";this.X(d.a,f);var h=this.X(d.a,g),l=this.X(d.a,e);l.style.backgroundColor="rgb(255,255,255)";l.style["border-radius"]="6px";l.style["-webkit-border-radius"]="6px";l.style["-moz-border-radius"]="5px";l.style["-khtml-border-radius"]="10px";l.style.borderColor="#e3e3e3";l.style.borderWidth="5px";l.style.borderStyle="ridge";l.style.display="block";var k=E(f);J(k.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);k.n=K|N|P|O;d.m(k);this.X(k.a,f+"_Centred");var m=E(f);k.Gb(2);k.m(m);k=E(e);J(k.h,350,350,650,650,!1,!1,!1,!1,-1,-1);k.n=K|N|P|O;d.m(k);m=new aa(this);m.v(f,c);m.Dc=this;var n=E(g);J(n.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);n.n=K|N|P|O;d.m(n);c=g+"_Centred";this.X(n.a,c);f=E(c);n.Gb(2);n.m(f);n=c+"_Next";g=Oc(f.a,n);g.value="\u0414\u0430\u043b\u0435\u0435";g.style.display="none";var u=c+"_Prev",c=Oc(f.a,u);c.value="\u041d\u0430\u0437\u0430\u0434";c.style.display="none";var p=this;g.addEventListener("click",function(){p.a.Oe.style.display="none";p.a.Qe.style.display="none";Pc(p)},!1);c.addEventListener("click",function(){p.a.Oe.style.display="none";p.a.Qe.style.display="none";Qc(p)},!1);n=E(n);J(n.h,501,0,2,2,!1,!1,!0,!0,-1,25);n.n=N|P|O;f.m(n);n=E(u);J(n.h,2,0,499,2,!0,!1,!1,!0,-1,25);n.n=N|P|O;f.m(n);var r=e+"_Text",u=e+"_Next",w=e+"_Prev",e=this.X(l,r);e.style.fontFamily="verdana";e.style.textAlign="justify";e.style.xl="center";e.style.overflowY="scroll";f=Oc(l,u);n=Oc(l,w);n.addEventListener("click",function(){Qc(p)},!1);f.addEventListener("click",function(){Pc(p)},!1);r=E(r);J(r.h,0,0,1E3,35,!1,!1,!1,!0,-1,-1);r.n=K|N|O|P;k.m(r);u=E(u);J(u.h,0,0,5,5,!1,!1,!0,!0,100,25);u.n=O|P;k.m(u);u=E(w);J(u.h,5,0,0,5,!0,!1,!1,!0,100,25);u.n=O|N;k.m(u);this.a.Rg=l;this.a.uc=e;this.a.Oi=n;this.a.Ii=f;this.a.Oe=g;this.a.Qe=c;this.a.De=h;this.ga.push(m);this.Qa=d;this.w();Rc(this,0,0)};q.w=function(a){this.Qa&&this.Qa.Ma(this.Qa.a.clientWidth,this.Qa.a.clientHeight);for(var b=0,c=this.ga.length;b<c;b++)this.ga[b].w(a)};function jb(a){return null===a.aa[a.fb].Ga||void 0===a.aa[a.fb].Ga.ui?0:a.aa[a.fb].Ga.ui}function kb(a){null!==a.aa[a.fb].Ga&&!0===a.aa[a.fb].Ga.tk?(a.a.De.style.display="block",a.a.Oe.style.display="block",a.a.Qe.style.display="block"):a.Bl(a.fb,2)}q.Qi=function(){};q.vc=function(){};q.wc=function(){};q.jj=function(){};q.lj=function(){};q.kj=function(){};q.mj=function(){};q.Td=function(){};q.Sd=function(){};q.Ug=function(){};q.Ki=function(){};function Nc(a,b){var c=b.length;a.mf=c;a.aa=[];for(var d=0;d<c;d++)a.aa[d]={},a.aa[d].ah=b[d].Sgf,a.aa[d].ul=b[d].Before,a.aa[d].tl=b[d].After,a.aa[d].Qg=b[d].Message,null===b[d].SgfPr?a.aa[d].Ga=null:(a.aa[d].Ga={},a.aa[d].Ga.ui=b[d].SgfPr.Count,a.aa[d].Ga.tk=b[d].SgfPr.WaitOnEnd,a.aa[d].Ga.Hd={},b[d].SgfPr.Flags&&(a.aa[d].Ga.Hd.Ne=b[d].SgfPr.Flags.NewNode,a.aa[d].Ga.Hd.Le=b[d].SgfPr.Flags.Move,a.aa[d].Ga.Hd.gg=b[d].SgfPr.Flags.ChangeBoardMode,a.aa[d].Ga.Hd.Og=b[d].SgfPr.Flags.LoadFile))}function Pc(a){var b=a.fb;0===a.Mb?null!==a.aa[b].ah?Rc(a,b,1):(a.Mb=1,Pc(a)):1!==a.Mb||b>=a.mf-1||(null!==a.aa[b+1].Qg?Rc(a,b+1,0):(a.fb++,a.Mb=0,Pc(a)))}function Qc(a){var b=a.fb;0===a.Mb?0>=b||(null!==a.aa[b-1].ah?Rc(a,b-1,1):(a.fb--,a.Mb=1,Qc(a))):1===a.Mb&&(null!==a.aa[b].Qg?Rc(a,b,0):(a.Mb=0,Qc(a)))}function Rc(a,b,c){if(!(0>b||b>=a.mf)){a.fb=b;a.Mb=c;var d=a.aa[b].ah,f=a.aa[b].Ga,e=a.aa[b].Qg;if(0===c)if(a.a.De.style.display="block",null!==e){c=0===b?null:"\u041d\u0430\u0437\u0430\u0434";b=b===a.mf-1&&null===d?null:"\u0414\u0430\u043b\u0435\u0435";d=a.a.Oi;f=a.a.Ii;for(a.a.Rg.style.display="block";a.a.uc.firstChild;)a.a.uc.removeChild(a.a.uc.firstChild);ac(a.a.uc,"");"string"===typeof e?ac(a.a.uc,e):a.a.uc.appendChild(e);null===c?d.style.display="none":(d.style.display="block",d.value=c);null===b?f.style.display="none":(f.style.display="block",f.value=b)}else Pc(a);else 1===c&&(a.a.De.style.display="none",null!==d?(a.a.Rg.style.display="none",a.c.F=4294967295,a.c.rc(d),Sc(a.c,f.Hd),a.c.na()):Pc(a))}}q.X=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function Oc(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("type","button");a.appendChild(c);return c};var Tc=0,vc=0,uc=1;function tc(a){this.k=a;this.c=null;this.I=Tc;this.a={e:null,Md:null,Yg:null,eh:null};this.Ih=new B(217,217,217,255);this.Lk=new B(54,101,179,255);this.Nk=new B(140,140,140,255);this.Ok=new B(0,0,0,255);this.Ia=this.qd=this.B=0;this.fc=7;this.zb=10;this.Xd=!1;var b=this;this.Qk=function(a){var d=b.B-b.Ia;0!==d&&(xc(b,(a-b.zb)/d,!1),Uc(b,!1))};this.ai=function(){b.Xd=!0;Uc(b,!1)};this.Sk=function(a){b.Xd=!1;var d=b.B-b.Ia;0!==d&&(xc(b,(a-b.zb)/d,!1),Uc(b,!0))}}tc.prototype.v=function(a,b,c,d){this.c=b;this.I=c;switch(c){case vc:this.k.je=this;break;case uc:this.k.Mh=this}this.a.e=E(a);c=this.a.e.a;c.style.backgroundColor=R(this.Ih);c.style.Cl=R(new B(255,255,255,255));var f=a+"_Left";b=a+"_Right";a=a+"_Slider";this.a.Md=this.sa(c,f);this.a.Yg=this.sa(c,b);this.a.eh=this.sa(c,a);a=E(f);J(a.h,this.zb,this.fc,500,this.fc,!0,!0,!1,!0,-1,-1);a.n=K|N|O|P;this.a.e.m(a);a.a.style.background=R(this.Lk);a=E(b);J(a.h,500,this.fc,this.zb,this.fc,!1,!0,!0,!0,-1,-1);a.n=K|N|O|P;this.a.e.m(a);a.a.style.background=R(this.Nk);this.w();xc(this,d)};tc.prototype.w=function(){var a=this.a.e.a.clientWidth,b=this.a.e.a.clientHeight;this.B=a-2*this.zb;this.a.e.Ma(a,b);this.jb(a,b);xc(this,this.qd,!0)};tc.prototype.jb=function(a,b){var c=b-2*this.fc;this.Ia=c;var d=this.a.eh;d.style.width=c+"px";d.style.height=c+"px";d.style.display="block";d.style.position="absolute";d.style.backgroundColor=R(this.Ok);d.style.top=this.fc+"px";d.style.left=this.zb+"px";Gc(d,this.zb,a-this.zb-c,this.fc,this.fc);d.Sa=this.Qk;d.Hf=this.ai;d.Gf=this.Sk;d=this.a.Md;d.style.fontSize=c+"px";d.style.color="rgb(255,255,255)";d.style.textOverflow="clip";d.style.overflow="hidden"};tc.prototype.sa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function xc(a,b,c){a.qd=Math.min(1,Math.max(b,0));b=a.qd*a.B;a.a.Md.style.width=b+"px";a.a.Yg.style.left=b+a.zb+"px";a.a.Yg.style.width=a.B-b+"px";!1!==c&&(a.a.eh.style.left=a.qd*(a.B-a.Ia)+a.zb+"px")}function Uc(a,b){if(a.c)switch(a.I){case vc:var c=a.c,d=a.qd;c.Yd=d;if(c.k){var f=c.k;f.je&&(f=f.je,!0!==f.Xd&&xc(f,d,!0))}null!==c.Lb&&c.Rd();b?ac(a.a.Md,""):ac(a.a.Md,((100+6900*(1-a.c.Yd))/1E3*1E3|0)/1E3+" seconds for move");break;case uc:c=a.c;d=c.Z;for(f=1;0<T(d);)f++,d=d.V();d=a.qd*(f-1);for(f=c.Z;0<T(f)&&0<d;)d--,f=f.V();hb(c,f)}};function Vc(){this.ri=this.qi=this.pi=this.oi=this.Mi=null;this.vj=!1;this.nd=!0}Vc.prototype.v=function(a){var b=document.getElementsByTagName("body");if(!(0>=b.length)){this.nd=!0;var c="",d=navigator.userAgent;-1!=d.indexOf("Opera")?c="Opera":-1!=d.indexOf("Chrome")?c="Chrome":-1!=d.indexOf("MSIE")?c="IE":-1!=d.indexOf("Safari")?c="Safari":-1!=d.indexOf("Mozilla")&&(c="Mozilla");"IE"===c&&(this.vj=!0);b=b[0];this.Mi=Wc(b,"GoBoardApiSoundPlaceStone",a+"/Stone.mp3");this.oi=Wc(b,"GoBoardApiSoundCapture1",a+"/Capture1.mp3");this.pi=Wc(b,"GoBoardApiSoundCapture3",a+"/Capture3.mp3");this.qi=Wc(b,"GoBoardApiSoundCapture5",a+"/Capture5.mp3");this.ri=Wc(b,"GoBoardApiSoundCaptureN",a+"/CaptureN.mp3")}};function Xc(a,b){1>=b?Yc(a,a.oi):3>=b?Yc(a,a.pi):5>=b?Yc(a,a.qi):Yc(a,a.ri)}function Wc(a,b,c){var d=document.getElementById(b);d||(d=document.createElement("audio"),d.id=b,d.qh="preload",d.src=c,a.appendChild(d));return d}function Yc(a,b){if(b&&a.nd&&x.Ke())try{a.vj?(b.setActive(),b.click(),b.autoplay="",b.autoplay="autoplay"):b.play()}catch(c){}};function rc(a){this.k=a;this.c=null;this.a={e:null};this.Ik=new B(217,217,217,255);this.th=[]}rc.prototype.v=function(a,b,c){this.c=b;this.a.e=E(a);var d=this.a.e.a,f=this.a.e;d.style.backgroundColor=R(this.Ik);for(var e=0,g=c.ka.length;e<g;e++){var h=c.ka[e],l=null;switch(h){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 20:case 23:case 24:case 25:l=new Ob(this.k)}if(null!==l){var k=a+e;this.sa(d,k);this.ma(f,k,e/g,(e+1)/g);l.v(k,b,h);this.th.push(l)}}this.w()};rc.prototype.w=function(){this.a.e.Ma(this.a.e.a.clientWidth,this.a.e.a.clientHeight);for(var a=0,b=this.th.length;a<b;a++)this.th[a].w()};rc.prototype.sa=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};rc.prototype.ma=function(a,b,c,d){b=E(b);J(b.h,1E3*c,0,1E3*d,1E3,!1,!1,!1,!1,-1,-1);b.n=K|N|O|P;a.m(b)};function Zc(){this.df=[];this.Pb=null;this.vb=[]}Zc.prototype.v=function(a,b,c,d){var f=d?d:200,e=document.getElementById(a);a=document.createElement("div");a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.bottom="0px";a.style.width=f-1+"px";a.style.borderRight="1px solid #cbcbcb";e.appendChild(a);d=document.createElement("div");d.style.position="absolute";d.style.left=f+"px";d.style.top="0px";d.style.bottom="0px";d.style.right="0px";e.appendChild(d);f=0;for(e=b.length;f<e;f++)$c(this,a,b[f],d);(b=this.df[c?c:0])&&ad(this,b)};function $c(a,b,c,d){var f=document.createElement("div");b.appendChild(f);f.style.color="rgb(68, 68, 68)";f.addEventListener("mouseenter",function(){a.Pb!==this&&(this.style.backgroundColor="rgb(241, 241, 241)")},!1);f.addEventListener("mouseleave",function(){a.Pb!==this&&(this.style.backgroundColor="")},!1);f.addEventListener("click",function(){ad(a,this)},!1);b=document.createElement("div");f.appendChild(b);b.style.padding="7px 2px 7px 20px";var e=document.createElement("div");b.appendChild(e);e.style["-webkit-user-select"]="none";e.style.borderCollapse="collapse";e.style.boxSizing="border-box";e.style.cursor="pointer";e.style.display="block";e.style.fontFamily="Helvetica Neue', Helvetica, Arial, sans-serif";e.style.fontSize="16px";e.style.height="17px";e.style.lineHeight="17.142858505249px";e.style.width="177px";ac(e,c);e=document.createElement("div");e.style.display="none";e.style.width="100%";e.style.height="100%";d.appendChild(e);a.vb.push(e);a.df.push(f)}function ad(a,b){if(a.Pb!==b){if(null!==a.Pb){a.Pb.style.backgroundColor="";a.Pb.style.color="rgb(68, 68, 68)";var c=bd(a,a.Pb);a.vb[c]&&(a.vb[c].style.display="none")}a.Pb=b;b.style.backgroundColor="#7d858c";b.style.color="#fff";c=bd(a,a.Pb);a.vb[c]&&(a.vb[c].style.display="block")}}function bd(a,b){for(var c=0,d=a.df.length;c<d;c++)if(b===a.df[c])return c;return-1};function cd(){this.a={e:null,ob:null,Jd:null,si:null,Dd:null,ni:null,Id:null,Vc:null,Uc:null,Wc:null,pc:null,Yb:null,Xb:null,Fb:null};this.Mk=new B(166,166,166,255);this.Jk=new B(185,185,185,255);this.Ih=new B(217,217,217,255);this.k=null;this.H=this.B=-1;var a=this;this.Vk=function(){var b=parseInt(a.a.e.a.style.left),c=parseInt(a.a.e.a.style.width),d=parseInt(a.a.Id.style.left);60>c-d||(a.a.e.a.style.left=b+d+"px",a.a.e.a.style.width=c-d+"px");a.a.Id.style.left="0px";a.w()};this.Yk=function(){var b=parseInt(a.a.e.a.style.width),c=parseInt(a.a.Vc.style.left)+6-b;60>b+c?a.a.Vc.style.left=b-6+"px":(a.a.e.a.style.width=b+c+"px",a.a.Vc.style.left=b+c-6+"px",a.w())};this.Rk=function(){var b=parseInt(a.a.e.a.style.height),c=parseInt(a.a.Uc.style.top)+6-b;60>b+c?a.a.Uc.style.top=b-6+"px":(a.a.e.a.style.height=b+c+"px",a.a.Uc.style.top=b+c-6+"px",a.w())};this.$k=function(){var b=parseInt(a.a.e.a.style.top),c=parseInt(a.a.e.a.style.height),d=parseInt(a.a.Wc.style.top);60>c-d?a.a.Wc.style.top="0px":(a.a.e.a.style.top=b+d+"px",a.a.e.a.style.height=c-d+"px",a.a.Wc.style.top="0px",a.w())};this.Wk=function(){var b=parseInt(a.a.e.a.style.top),c=parseInt(a.a.e.a.style.height),d=parseInt(a.a.pc.style.top);60>c-d||(a.a.e.a.style.top=b+d+"px",a.a.e.a.style.height=c-d+"px");a.a.pc.style.top="0px";b=parseInt(a.a.e.a.style.left);c=parseInt(a.a.e.a.style.width);d=parseInt(a.a.pc.style.left);60>c-d||(a.a.e.a.style.left=b+d+"px",a.a.e.a.style.width=c-d+"px");a.a.pc.style.left="0px";a.w()};this.Zk=function(){var b=parseInt(a.a.e.a.style.top),c=parseInt(a.a.e.a.style.height),d=parseInt(a.a.Yb.style.top);60>c-d||(a.a.e.a.style.top=b+d+"px",a.a.e.a.style.height=c-d+"px");a.a.Yb.style.top="0px";b=parseInt(a.a.e.a.style.width);c=parseInt(a.a.Yb.style.left)+6-b;60>b+c?a.a.Yb.style.left=b-6+"px":(a.a.e.a.style.width=b+c+"px",a.a.Yb.style.left=b+c-6+"px");a.w()};this.Uk=function(){var b=parseInt(a.a.e.a.style.left),c=parseInt(a.a.e.a.style.width),d=parseInt(a.a.Xb.style.left);60>c-d||(a.a.e.a.style.left=b+d+"px",a.a.e.a.style.width=c-d+"px");a.a.Xb.style.left="0px";b=parseInt(a.a.e.a.style.height);c=parseInt(a.a.Xb.style.top)+6-b;60>b+c?a.a.Xb.style.top=b-6+"px":(a.a.e.a.style.height=b+c+"px",a.a.Xb.style.top=b+c-6+"px");a.w()};this.Xk=function(){var b=parseInt(a.a.e.a.style.width),c=parseInt(a.a.Fb.style.left)+6-b;60>b+c?a.a.Fb.style.left=b-6+"px":(a.a.e.a.style.width=b+c+"px",a.a.Fb.style.left=b+c-6+"px");b=parseInt(a.a.e.a.style.height);c=parseInt(a.a.Fb.style.top)+6-b;60>b+c?a.a.Fb.style.top=b-6+"px":(a.a.e.a.style.height=b+c+"px",a.a.Fb.style.top=b+c-6+"px");a.w()}}q=cd.prototype;q.v=function(a,b){var c=this;this.a.e=E(a);var d=this.a.e.a,f=this.a.e;d.style.border="1px solid "+R(this.Mk);d.style.backgroundColor=R(this.Ih);var e=a+"_Inner",g=dd(d,e),e=E(e);J(e.h,6,29,8,8,!0,!0,!0,!0,-1,-1);e.n=K|N|O|P;f.m(e);g.style.border="1px solid "+R(this.Jk);g.style.backgroundColor=R(new B(255,255,255,255));g.style.overflow="hidden";this.a.ob=g;this.a.Jd=e;e=a+"_Caption";dd(d,e);g=E(e);J(g.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);g.n=K|N|P;f.m(g);var h=e+"_Text",e=dd(d,h),h=E(h);J(h.h,15,0,55,1E3,!0,!1,!0,!1,-1,30);h.n=K|N|P|O;g.m(h);e.style.fontFamily="Tahoma, Sans serif";e.style.fontSize="13pt";e.style.textAlign="center";e.style.height="29px";e.style.lineHeight="29px";e.style.overflow="hidden";e.style.textOverflow="ellipsis";e.style["-o-text-overflow"]="ellipsis";e.style.cursor="default";ac(e,"Caption");this.a.ni=e;e=a+"_Caption2";g=dd(d,e);e=E(e);J(e.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);e.n=K|N|P;f.m(e);this.a.Dd=g;Gc(g);g.Sa=function(){var a=parseInt(c.a.e.a.style.top),b=parseInt(c.a.Dd.style.top);c.a.e.a.style.left=parseInt(c.a.e.a.style.left)+parseInt(c.a.Dd.style.left)+"px";c.a.e.a.style.top=a+b+"px";c.a.Dd.style.left="0px";c.a.Dd.style.top="0px";c.w()};!1!==b&&(e=a+"_LeftHandler",g=dd(d,e),e=E(e),J(e.h,0,6,1E3,6,!1,!0,!1,!0,6,-1),e.n=K|N|O,f.m(e),g.style.cursor="w-resize",this.a.Id=g,e=a+"_RightHandler",g=dd(d,e),e=E(e),J(e.h,0,6,0,6,!1,!0,!0,!0,6,-1),e.n=K|P|O,f.m(e),g.style.cursor="w-resize",this.a.Vc=g,e=a+"_BottomHandler",g=dd(d,e),e=E(e),J(e.h,6,0,6,0,!0,!1,!0,!0,-1,6),e.n=O|P|N,f.m(e),g.style.cursor="s-resize",this.a.Uc=g,e=a+"_TopHandler",g=dd(d,e),e=E(e),J(e.h,6,0,6,1E3,!0,!0,!0,!1,-1,6),e.n=K|P|N,f.m(e),g.style.cursor="s-resize",this.a.Wc=g,e=a+"_LeftTopHandler",g=dd(d,e),e=E(e),J(e.h,0,0,1E3,1E3,!1,!1,!1,!1,6,6),e.n=K|N,f.m(e),g.style.cursor="se-resize",this.a.pc=g,e=a+"_RightTopHandler",g=dd(d,e),e=E(e),J(e.h,0,0,0,1E3,!1,!1,!0,!1,6,6),e.n=K|P,f.m(e),g.style.cursor="ne-resize",this.a.Yb=g,e=a+"_LeftBottomHandler",g=dd(d,e),e=E(e),J(e.h,0,0,0,1E3,!1,!1,!1,!1,6,6),e.n=O|N,f.m(e),g.style.cursor="ne-resize",this.a.Xb=g,e=a+"_RightBottomHandler",g=dd(d,e),e=E(e),J(e.h,0,0,0,1E3,!1,!1,!0,!1,6,6),e.n=O|P,f.m(e),g.style.cursor="se-resize",this.a.Fb=g,Gc(this.a.Id,null,null,null,null),this.a.Id.Sa=this.Vk,Gc(this.a.Vc,null,null,null,null),this.a.Vc.Sa=this.Yk,Gc(this.a.Wc,null,null,null,null),this.a.Wc.Sa=this.$k,Gc(this.a.Uc,null,null,null,null),this.a.Uc.Sa=this.Rk,Gc(this.a.pc,null,null,null,null),this.a.pc.Sa=this.Wk,Gc(this.a.Yb,null,null,null,null),this.a.Yb.Sa=this.Zk,Gc(this.a.Xb,null,null,null,null),this.a.Xb.Sa=this.Uk,Gc(this.a.Fb,null,null,null,null),this.a.Fb.Sa=this.Xk);g=a+"_Close";d=dd(d,g);e=E(g);J(e.h,0,0,6,1E3,!1,!0,!0,!1,45,20);e.n=K|P;f.m(e);d.style.backgroundColor=R(new B(255,0,0,255));f=new Ob(this.k);f.v(g,this,19);f.vf=new B(199,80,80,255);f.le=new B(224,67,67,255);f.nf=new B(153,61,61,255);this.a.si=f};q.w=function(a){var b=this.a.e.a.clientWidth,c=this.a.e.a.clientHeight;if(b!==this.B||c!==this.H||!0===a)this.B=b,this.H=c,this.a.e.Ma(b,c),this.a.si.w()};q.Db=function(){this.a.e.a.style.display="none";this.c&&this.c.na()};q.na=function(){};function Ca(a,b){ac(a.a.ni,b)}function dd(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}function ed(a,b){if(b){a.k=b;var c=a.a.e.a,d=a.He();null!==d&&void 0!==d&&(c.style.width=d.O+"px",c.style.height=d.G+"px");d=parseInt(c.style.height);c.style.left=(a.k.Eb()-parseInt(c.style.width))/2+"px";c.style.top=(a.k.Ta()-d)/2+"px"}}q.He=function(){return null};function fd(){fd.ha.constructor.call(this);this.a.Zc=null;this.a.Cd=null;this.a.Vb=null;this.a.ti=null}gd(fd,cd);fd.prototype.v=function(a,b){fd.ha.v.call(this,a,b);var c=this.a.ob,d=this.a.Jd,f=c.id,e=f+"Content",f=f+"Buttons",g=dd(c,e),c=dd(c,f),e=E(e);J(e.h,0,0,0,40,!0,!0,!0,!0,-1,-1);e.n=N|K|O|P;d.m(e);var h=E(f);J(h.h,0,0,0,0,!0,!1,!0,!0,-1,40);h.n=N|O|P;d.m(h);this.a.ti=e;this.a.Vb=g;c.style.borderTop="1px solid rgb(172,172,172)";c.style.backgroundColor="rgb(240,240,240)";g=f+"OK";dd(c,g);e=E(g);J(e.h,0,9,85,1E3,!1,!0,!0,!1,66,21);e.n=K|P;d.m(e);e=new Ob(this.k);e.v(g,this,21);this.a.Zc=e;e.Lh=new B(234,234,234,255);e.vf=new B(172,172,172,255);e.rf=new B(227,240,252,255);e.le=new B(126,180,234,255);e.Hh=new B(207,230,252,255);e.nf=new B(86,157,229,255);e.Jh=new B(239,239,239,255);e.Kh=new B(217,217,217,255);f+="Cancel";dd(c,f);c=E(f);J(c.h,0,9,11,1E3,!1,!0,!0,!1,66,21);c.n=K|P;d.m(c);d=new Ob(this.k);d.v(f,this,22);this.a.Cd=d;d.Lh=new B(234,234,234,255);d.vf=new B(172,172,172,255);d.rf=new B(227,240,252,255);d.le=new B(126,180,234,255);d.Hh=new B(207,230,252,255);d.nf=new B(86,157,229,255);d.Jh=new B(239,239,239,255);d.Kh=new B(217,217,217,255)};fd.prototype.w=function(a){fd.ha.w.call(this,a);this.a.Zc&&this.a.Zc.w();this.a.Cd&&this.a.Cd.w()};fd.prototype.Ai=function(){this.Db()};fd.prototype.yg=function(){this.Db()};function hd(){hd.ha.constructor.call(this);this.t={};this.c=null;this.yj=10;this.Fh=20;this.Gk=5}gd(hd,fd);q=hd.prototype;q.v=function(a,b){hd.ha.v.call(this,a);ed(this,b.Ea);var c=b.Fa;this.c=c;!0!==(c.F&16?!0:!1)&&Rb(this.a.Zc,!1);Ca(this,"Game info");var d=this.a.ti,f=this.a.Vb,e=this.a.Vb.id;f.style.overflowX="hidden";f.style.overflowY="scroll";var g=this.Fh,h=10,l=this.Gk,k=this.yj,m=c.F&16?!0:!1;this.t.ik=this.ea(f,d,e,"Game name",c.jc,h,g,m);h+=g+l;this.t.mk=this.ea(f,d,e,"Result",c.La,h,g,m);h+=g+l;this.t.ok=this.ea(f,d,e,"Rules",c.te,h,g,m);h+=g+l;this.t.kk=this.ea(f,d,e,"Komi",c.ec,h,g,m);h+=g+l;this.t.jk=this.ea(f,d,e,"Handicap",c.gb,h,g,m);h+=g+l;this.t.rk=this.ea(f,d,e,"Time settings",c.he+(""===c.se?"":" + "+c.se),h,g,m);h+=g+l;this.t.$j=this.ea(f,d,e,"Black",c.Fc,h,g,m);h+=g+l;this.t.ak=this.ea(f,d,e,"Black rank",c.zf,h,g,m);h+=g+l;this.t.uk=this.ea(f,d,e,"White",c.Hc,h,g,m);h+=g+l;this.t.vk=this.ea(f,d,e,"White rank",c.Df,h,g,m);h+=g+l;this.t.ck=this.ea(f,d,e,"Copyright",c.me,h,g,m);h+=g+l;this.t.Date=this.ea(f,d,e,"Date",c.Gc,h,g,m);h+=g+l;this.t.Event=this.ea(f,d,e,"Event",c.yd,h,g,m);h+=g+l;this.t.nk=this.ea(f,d,e,"Round",c.pe,h,g,m);h+=g+l;this.t.lk=this.ea(f,d,e,"Place",c.zd,h,g,m);h+=g+l;this.t.Zj=this.ea(f,d,e,"Annotator",c.ne,h,g,m);h+=g+l;this.t.hk=this.ea(f,d,e,"Fuseki",c.oe,h,g,m);h+=g+l;this.t.qk=this.ea(f,d,e,"Source",c.qe,h,g,m);h+=g+l;this.t.cj=this.ea(f,d,e,"Transcriber",c.re,h,g,m);var h=h+(g+l),l=this.t,c=c.ic,n=h,u;u=30;var p=e+"Game Info",r=this.sa(f,p,g),w=E(p);J(w.h,10,n,1E3,1E3,!0,!0,!1,!1,100,g);w.n=N|K;d.m(w);ac(r,"Game Info");r=p+"Value";p=document.createElement("textarea");p.setAttribute("id",r);p.setAttribute("style","position:absolute;padding:0;margin:0;");p.setAttribute("oncontextmenu","return false;");p.style.fontFamily="Tahoma, Sans serif";p.style.fontSize="10pt";p.style.resize="none";p.style.outline="none";p.style.border="1px solid rgb(169,169,169)";p.style.height=3*g+"px";this.t.Rc=p;!1===m&&(p.disabled="disabled");f.appendChild(p);m=E(r);J(m.h,110,n+1,u,1E3,!0,!0,!0,!1,-1,3*g);m.n=N|K|P;d.m(m);p.value=c;l.cj=p;h+=3*g;dd(f,e+"Bottom");f=E(e+"Bottom");J(f.h,0,h,1E3,1E3,!0,!0,!1,!1,0,k);f.n=N|K|P;d.m(f)};q.w=function(a){hd.ha.w.call(this,a);this.a.Zc&&this.a.Zc.w();this.a.Cd&&this.a.Cd.w();a=parseInt(this.t.Rc.style.top)|0;var b=(parseInt(this.a.Vb.style.height)|0)-this.yj;this.t.Rc.style.height=b-a<3*this.Fh?3*this.Fh+"px":b-a+"px"};q.Ai=function(){this.Db()};q.yg=function(){this.c&&(this.c.jc=this.t.ik.value,this.c.La=this.t.mk.value,this.c.te=this.t.ok.value,this.c.ec=parseFloat(this.t.kk.value),this.c.gb=this.t.jk.value,this.c.he=this.t.rk.value,id(this.c,this.t.$j.value),jd(this.c,this.t.ak.value),kd(this.c,this.t.uk.value),ld(this.c,this.t.vk.value),this.c.me=this.t.ck.value,this.c.ic=this.t.Rc.value,this.c.Gc=this.t.Date.value,this.c.yd=this.t.Event.value,this.c.pe=this.t.nk.value,this.c.zd=this.t.lk.value,this.c.ne=this.t.Zj.value,this.c.oe=this.t.hk.value,this.c.qe=this.t.qk.value,this.c.re=this.t.cj.value);this.Db()};q.sa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};q.Vh=function(a,b,c){var d=document.createElement("input");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.setAttribute("type","text");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";!1===c&&(d.disabled="disabled");a.appendChild(d);return d};q.ea=function(a,b,c,d,f,e,g,h){var l;l=30;c+=d;var k=this.sa(a,c,g),m=E(c);J(m.h,10,e,1E3,1E3,!0,!0,!1,!1,100,g);m.n=N|K;b.m(m);ac(k,d);d=c+"Value";a=this.Vh(a,d,h);h=E(d);J(h.h,110,e+1,l,1E3,!0,!0,!0,!1,-1,g-2);h.n=N|K|P;b.m(h);a.value=f;return a};function md(){md.ha.constructor.call(this)}gd(md,cd);md.prototype.v=function(a,b){hd.ha.v.call(this,a,!1);ed(this,b.Ea);var c=b.vl,d=this.a.ob;d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="16px";ac(d,c)};function nd(){nd.ha.constructor.call(this);this.c=null;this.t={Va:{fh:null,dh:null,eg:null,pg:null},Si:null,Hi:null}}gd(nd,fd);nd.prototype.v=function(a,b){nd.ha.v.call(this,a,!1);ed(this,b.Ea);this.c=b.Fa;Ca(this,"Settings");var c=new Zc;c.v(this.a.Vb.id,["Color Scheme","Sound","Loading Settings"],0,150);var d=od(c.vb[0]);this.c=b.Fa;var f=this.a.Vb.id+"CS";this.t.Va.fh=pd(d,f+"TC","TrueColor");this.t.Va.dh=pd(d,f+"SC","SimpleColor");this.t.Va.eg=pd(d,f+"BS","BookStyle");this.t.Va.pg=pd(d,f+"D","Dark");d=x.W.mc.o;231===d?x.W.bc?this.t.Va.fh.checked=!0:this.t.Va.dh.checked=!0:255===d?this.t.Va.eg.checked=!0:30===d?this.t.Va.pg.checked=!0:this.t.Va.fh.checked=!0;d=od(c.vb[1]);this.c=b.Fa;this.t.Si=qd(d,this.a.Vb.id+"SS",this.c.Ke(),"Sound");c=od(c.vb[2]);this.c=b.Fa;this.t.Hi=qd(c,this.a.Vb.id+"LSU",this.c.Je(),"Load unfinished files on the last node")};nd.prototype.He=function(){return{O:400,G:180}};function od(a){var b=document.createElement("div");a.appendChild(b);b.style.margin="0";b.style.padding="10px 20px";b.style.fontFamily="Tahoma, Arial, Verdana";b.style.fontSize="10px";b.style.color="#666";b.style.background="#fff";return b}nd.prototype.yg=function(){var a=1,a=this.t.Va.dh.checked?3:this.t.Va.eg.checked?2:this.t.Va.pg.checked?4:1,a=ic(x,a);this.t.Si.checked?x.ad(!0):x.ad(!1);this.c.Zg(this.t.Hi.checked?!0:!1);var b=this.c.l,c=this.c.K;b&&!0===a.Q&&b.w(!0);c&&!0===a.Navigator&&(c.Jf(),c.ue(),Ec(c),c.If(),c.w(!0));this.Db()};function pd(a,b,c){var d=document.createElement("div");d.style.paddingLeft="10px";d.style.paddingBottom="5px";a.appendChild(d);var f=document.createElement("input");f.type="radio";f.name="ThemeId";f.value=c;f.setAttribute("id",b);d.appendChild(f);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";ac(a,c);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";d.appendChild(a);a.addEventListener("click",function(){f.checked=!0},!1);return f}function qd(a,b,c,d){var f=document.createElement("div");f.style.paddingLeft="10px";f.style.paddingBottom="5px";a.appendChild(f);var e=document.createElement("input");e.type="checkbox";e.checked=c;e.setAttribute("id",b);f.appendChild(e);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";ac(a,d);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";f.appendChild(a);a.addEventListener("click",function(){e.checked=!e.checked},!1);return e}function rd(){rd.ha.constructor.call(this);this.l=null}gd(rd,cd);rd.prototype.v=function(a,b){rd.ha.v.call(this,a,!0);ed(this,b.Ea);this.c=b.Fa;Ca(this,"Score estimate");var c=this.a.ob,d=this.a.Jd,f=this.a.ob.id;c.style.background="url('"+sd+"')";d.Gb(2);f=f+"B";dd(c,f);c=E(f);J(c.h,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);c.n=K|N|O|P;d.m(c);d=new aa;d.v(f,td(this.c));d.qf=this;wa(d,9);this.l=d};rd.prototype.w=function(a){rd.ha.w.call(this,a);this.l&&this.l.w(a)};function ud(){ud.ha.constructor.call(this)}gd(ud,cd);ud.prototype.v=function(a,b){ud.ha.v.call(this,a,!0);ed(this,b.Ea);Ca(this,"Colors counter");var c=this.a.ob,d=this.a.Jd,f=this.a.ob.id;c.style.overflowX="hidden";c.style.overflowY="scroll";var e=10,g=b.fk.Ja,h=[0,0,0,0],l=[0,0,0,0],k=[0,0,0,0],m=[0,0,0,0],n=!1,u=!1,p=!1,r=!1,w;for(w in g){var t=g[w],y=-1;0!==t.o&&0!==t.q&&0!==t.p?(r=!0,y=3):0!==t.o?(n=!0,y=0):0!==t.q?(u=!0,y=1):0!==t.p&&(p=!0,y=2);var H=0,H=50>=t.Ha?0:100>=t.Ha?1:150>=t.Ha?2:3;switch(y){case 0:h[H]++;break;case 1:l[H]++;break;case 2:k[H]++;break;case 3:m[H]++}}n&&(this.ea(c,d,f,"Red","4 x "+h[3]+"+ 3 x "+h[2]+" + 2 x "+h[1]+" + 1 x "+h[0]+" ="+(4*h[3]+3*h[2]+2*h[1]+h[0]),e,20),e+=25);u&&(this.ea(c,d,f,"Green","4 x "+l[3]+"+ 3 x "+l[2]+" + 2 x "+l[1]+" + 1 x "+l[0]+" ="+(4*l[3]+3*l[2]+2*l[1]+l[0]),e,20),e+=25);p&&(this.ea(c,d,f,"Blue","4 x "+k[3]+"+ 3 x "+k[2]+" + 2 x "+k[1]+" + 1 x "+k[0]+" ="+(4*k[3]+3*k[2]+2*k[1]+k[0]),e,20),e+=25);r&&(this.ea(c,d,f,"Gray","4 x "+m[3]+"+ 3 x "+m[2]+" + 2 x "+m[1]+" + 1 x "+m[0]+" ="+(4*m[3]+3*m[2]+2*m[1]+m[0]),e,20),e+=25);dd(c,f+"Bottom");c=E(f+"Bottom");J(c.h,0,e,1E3,1E3,!0,!0,!1,!1,0,10);c.n=N|K|P;d.m(c)};ud.prototype.sa=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};ud.prototype.Vh=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.disabled="disabled";a.appendChild(c);return c};ud.prototype.ea=function(a,b,c,d,f,e,g,h){var l;l=30;c+=d;var k=this.sa(a,c,g),m=E(c);J(m.h,10,e,1E3,1E3,!0,!0,!1,!1,100,g);m.n=N|K;b.m(m);ac(k,d);d=c+"Value";a=this.Vh(a,d,h);h=E(d);J(h.h,110,e+1,l,1E3,!0,!0,!0,!1,-1,g-2);h.n=N|K|P;b.m(h);a.value=f;return a};function vd(){vd.ha.constructor.call(this);this.c=this.k=this.Lj=this.Kj=null}gd(vd,cd);vd.prototype.v=function(a,b){vd.ha.v.call(this,a,!1);ed(this,b.Ea);Ca(this,"Creating Gif file...");b.Fa&&(this.c=b.Fa);var c=this.a.ob,d=this.a.Jd,f=this.a.ob.id,e=f+"PB",g=dd(c,e),e=E(e);J(e.h,6,30,8,8,!0,!0,!0,!0,-1,-1);e.n=K|N|O|P;d.m(e);g.style.border="1px solid rgb(221,221,221)";g.style.backgroundColor="rgb(140, 140, 140)";e=f+"P";g=dd(c,e);e=E(e);J(e.h,7,31,0,7,!0,!0,!1,!0,10,-1);e.n=K|N|O;d.m(e);g.style.backgroundColor="rgb(54, 101, 179)";this.Kj=g;f=f+"PV";c=dd(c,f);f=E(f);J(f.h,0,7,1E3,32,!1,!1,!1,!0,-1,-1);f.n=K|N|O;d.m(f);c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="15px";c.style.lineHeight="20px";c.style.height="20px";c.style.color="rgb(0, 0, 0)";c.style.textAlign="center";this.Lj=c};vd.prototype.He=function(){return{O:240,G:100}};function wd(a,b){a.Kj.style.width=b/100*214+"px";ac(a.Lj,(100*b|0)/100+"%")}function xd(a){wd(a,0);if(a.k&&(a=a.k,a.hb)){var b=document.createElement("div");b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.backgroundColor="rgb(0, 0, 0)";b.style.opacity=.4;a.hb.appendChild(b);a.pf=b}}function yd(a){wd(a,100);setTimeout(function(){a.Db(!0)},300)}vd.prototype.Db=function(a){!0!==a&&this.c&&(this.c.td=null);this.k&&(a=this.k,a.pf&&(a.hb.removeChild(a.pf),a.pf=null));vd.ha.Db.apply(this)};function zd(){zd.ha.constructor.call(this);this.l=null}gd(zd,cd);zd.prototype.v=function(a,b){vd.ha.v.call(this,a,!0);ed(this,b.Ea);Ca(this,"About");var c=new Zc;c.v(this.a.ob.id,["About Web Go Board","Keyboard Shortcuts"],1);var d=document.createElement("div");c.vb[0].appendChild(d);d.style.margin="0";d.style.padding="10px 20px";d.style.fontFamily="Tahoma, Arial, Verdana";d.style.fontSize="12px";d.style.color="#666";d.style.background="#fff";var f=document.createElement("img");f.src=Ad;f.width=100;f.height=100;f.style["float"]="left";d.appendChild(f);f=document.createElement("div");f.style.width="10px";f.style.height="100px";f.style["float"]="left";d.appendChild(f);f=document.createElement("h1");d.appendChild(f);ac(f,"Web Go/Baduk Board");f=document.createElement("div");d.appendChild(f);ac(f,"Version "+GoBoardApi.wg());f=document.createElement("div");f.style.paddingTop="40px";d.appendChild(f);ac(f,"Visit our Github project for feedback and issue reports:");f=document.createElement("a");f.href="https://github.com/IlyaKirillov/GoProject";d.appendChild(f);ac(f,"https://github.com/IlyaKirillov/GoProject");f=document.createElement("div");f.style.paddingTop="30px";d.appendChild(f);ac(f,"\u00a9 Ilya Kirillov, 2014-2015. All rights reserved.");d=c.vb[1];d.style.overflowX="hidden";d.style.overflowY="scroll";c=document.createElement("div");d.appendChild(c);c.style.margin="0";c.style.padding="10px 20px";c.style.fontFamily="Tahoma, Arial, Verdana";c.style.fontSize="12px";c.style.color="#666";c.style.background="#fff";d=document.createElement("h1");c.appendChild(d);ac(d,"Keyboard Shortcuts");d.style.fontSize="16px";d.style.fontWeight="bold";d=document.createElement("table");c.appendChild(d);d.style.margin="20px 0";d.style.width="100%";c=document.createElement("tbody");d.appendChild(c);this.l=null;b.Fa&&(this.l=b.Fa.l);Bd(c,"Working with Files");U(this,c,{r:!0,C:79,s:!1},"Open Sgf/Gib/Ngf","Ctrl+O","Open the Sgf/Gib/Ngf file from disk. (Not in color mode, see below)");U(this,c,{r:!0,C:79,s:!0},"Open Sgf","Ctrl+Shift+O","Open the Sgf file from source. (Not in color mode, see below)");U(this,c,{r:!0,C:83,s:!1},"Save Sgf","Ctrl+S","Save Sgf file.");U(this,c,{r:!0,C:72,s:!1},"Save png shot","Ctrl+H","Save board shot in png format.");U(this,c,{r:!0,C:72,s:!0},"Save gif shot","Ctrl+Shift+H","Save board shot in gif format.");U(this,c,{r:!0,C:73,s:!1},"Save multipage gif file.","Ctrl+I","Save gif file for current variant.");U(this,c,{r:!0,C:73,s:!0},"Save multipage gif file.","Ctrl+Shift+I","Save gif file for all branches with comment RIGHT (for problem mode).");Bd(c,"Navigation");U(this,c,{r:!1,C:39,s:!1},"Next node","Right arrow","Jump to next node.");U(this,c,{r:!0,C:39,s:!1},"Next 5 node","Ctrl+Right arrow","Jump over 5 nodes.");U(this,c,{r:!0,C:39,s:!0},"End of the variant","Ctrl+Shift+Right arrow","Jump to the end of the current variant.");U(this,c,{r:!1,C:37,s:!1},"Previous node","Left arrow","Jump to previous node.");U(this,c,{r:!0,C:37,s:!1},"Previous 5 node","Shift+Left arrow","Jump back over 5 nodes.");U(this,c,{r:!0,C:37,s:!0},"Start of the file","Ctrl+Shift+Right arrow","Jump to the start of the file.");U(this,c,{r:!1,C:38,s:!1},"Previous variant","Up arrow","Jump to previous variant.");U(this,c,{r:!1,C:40,s:!1},"Next variant","Down arrow","Jump to next variant.");U(this,c,{r:!0,C:36,s:!0},"Start node","Ctrl+Shift+Home",'Jump to the start node of the file. This node can be different from the first node. See "load unfinished files" checkbox in settings.');Cd(this,c,{r:!1,C:112,s:!1},"Play mode","F1");U(this,c,{},"Add move","Left mouse click","Set sequentially stones.");U(this,c,{},"Add alternative move","Right mouse click","Create new brunch and add alternative move.");U(this,c,{},"Go to the point","Shift+Left mouse click onto a board position","Teleports you to the moment of the game forth or back, when the stone on this position has been played.");U(this,c,{},"Change move order","Ctrl+Shift+Left mouse click","When sequentially stones are entered: changes the colour of the next stone to be set. What stone will appear on the board is shown by the tools field (useful e.g. after a problem has been set up).");U(this,c,{},"Add comment with coordinates","Ctrl+Left mouse click","Add comment with coordinates.");Cd(this,c,{r:!1,C:113,s:!1},"Count scores","F2");U(this,c,{},"Mark dead groups","Left mouse click","Mark dead groups.");U(this,c,{},"End count scores","Ctrl+Left mouse click onto board","Return to play mode.");Cd(this,c,{r:!1,C:114,s:!1},"Set up a board position","F3");U(this,c,{},"Add black stone or remove stone","Left mouse click","Add black stone or remove stone.");U(this,c,{},"Add white stone or remove stone","Shift+Left mouse click","Add white stone or remove stone.");Dd(this,c,{r:!1,C:115,s:!1},"Triangles","F4","Add triangles.");Dd(this,c,{r:!1,C:116,s:!1},"Squares","F5","Add squares.");Dd(this,c,{r:!1,C:117,s:!1},"Circles","F6","Add circles.");Dd(this,c,{r:!1,C:118,s:!1},"X mark","F7",'Add "X" mark.');Cd(this,c,{r:!1,C:119,s:!1},"Text label","F8");U(this,c,{},"Letter","Left mouse click","Add letter.");U(this,c,{},"Text","Shift+Left mouse click","Add text entered by the user.");Cd(this,c,{r:!1,C:120,s:!1},"Numeric label","F9");U(this,c,{},"Number","Left mouse click","Add the smallest positive number.");U(this,c,{},"Move number","Shift+Left mouse click","Add number of the first move which was played here.");Cd(this,c,{r:!1,C:121,s:!1},"Color mode","F10");U(this,c,{},"Blue region","Left mouse click","Add blue region.");U(this,c,{},"Green region","Shift+Left mouse click","Add green region.");U(this,c,{},"Red region","Ctrl+Left mouse click","Add red region.");U(this,c,{},"Gray region","Ctrl+Shift+Left mouse click","Add gray region.");U(this,c,{},"Clear region","Right mouse click","Clear region.");U(this,c,{r:!0,C:67,s:!1},"Continue","Ctrl+C","Copy all colors from previous node.");U(this,c,{r:!0,C:79,s:!1},"Count colors","Ctrl+O","Count all colors with depth.");U(this,c,{r:!0,C:82,s:!1},"Clear colors","Ctrl+R","Clear all colors in the current node.");Bd(c,"Miscellaneous");U(this,c,{r:!1,C:8,s:!1},"Remove node","Backspace/Delete","Deletes the current node and all of the following brunches.");U(this,c,{r:!0,C:69,s:!1},"Score estimator","Ctrl+E","Show window with score estimator (you can mark dead groups by click on them).");U(this,c,{r:!0,C:86,s:!1},"View mode change of the next move","Ctrl+V","There are 3 mods: Show all next move variants, show all alternative variants of the current move, show nothing.");U(this,c,{r:!0,C:82,s:!1},"Show/Hide coordinates","Ctrl+R","Show/Hide coordinates. (Not in color mode, see above)");U(this,c,{r:!0,C:77,s:!0},"Make the current variant mainly","Ctrl+Shift+M","Make the current variant mainly by uplifting it to the root of the game tree.")};zd.prototype.He=function(){if(this.k){var a=this.k.Ta(),b=Math.max(100,Math.min(700,.9*this.k.Eb())),a=Math.max(100,Math.min(600,.9*a));return{O:b,G:a}}return null};function Ed(a){var b=document.createElement("tr");a.appendChild(b);b.style.borderLeft="0";b.style.borderRight="0";b.style.borderBottom="solid 1px #E4E4E4";b.style.borderCollapse="collapse";b.style.padding="8px";b.style.fontSize="12px";b.style.textAlign="left";b.style.cursor="default";return b}function Fd(a,b){var c=document.createElement("td");a.appendChild(c);ac(c,b);c.style.borderLeft="0";c.style.borderRight="0";c.style.borderBottom="solid 1px #E4E4E4";c.style.borderCollapse="collapse";c.style.padding="8px";c.style.fontSize="12px";c.style.textAlign="left";c.style.cursor="default";return c}function Gd(a,b,c){var d=a.l;d&&c.C&&(b.title="Click to do it",b.style.cursor="pointer",b.style.textDecoration="underline",b.addEventListener("click",function(){ia(d,c)},!1))}function Bd(a,b){var c=Ed(a),c=Fd(c,b);c.colSpan="3";c.style.fontSize="14px";c.style.fontWeight="bold";c.style.paddingTop="20px"}function Cd(a,b,c,d,f){b=Ed(b);Fd(b,d).style.fontWeight="bold";d=Fd(b,f);Gd(a,d,c);d.colSpan="2"}function Dd(a,b,c,d,f,e){b=Ed(b);Fd(b,d).style.fontWeight="bold";d=Fd(b,f);Gd(a,d,c);Fd(b,e)}function U(a,b,c,d,f,e){b=Ed(b);Fd(b,d).style.width="35%";d=Fd(b,f);d.style.width="15%";Gd(a,d,c);Fd(b,e).style.width="50%"}var Hd=2,Vb=3,Wb=4,Db=5,Ib=6,Id=7,Xb=8;function Cb(a,b,c){var d="unknownwindow";switch(b){case Vb:d="Info";break;case Wb:d="Settings";break;case Hd:d="Error";break;case Db:d="ScoreEstimate";break;case Ib:d="CountColors";break;case Id:d="GifWriter";break;case Xb:d="About"}d=a+d+GoBoardApi.wg();if(a=document.getElementById(d)){a.style.display="block";b=parseInt(a.style.left);d=parseInt(a.style.top);if(c.Ea){var f=c.Ea;c=f.Eb();f=f.Ta();d>f-100&&(a.style.top=f-100+"px");b>c-100&&(a.style.left=c-100+"px")}0>b&&(a.style.left="0px");0>d&&(a.style.top="0px")}else if(a=document.createElement("div"),a.setAttribute("id",d),a.setAttribute("style","position:absolute;padding:0;margin:0;width:500px;height:500px;left:300px;top:300px;"),a.setAttribute("oncontextmenu","return false;"),f=document.getElementsByTagName("body"),0<f.length){f[0].appendChild(a);a=null;switch(b){case Vb:a=new hd;break;case Wb:a=new nd;break;case Hd:a=new md;break;case Db:a=new rd;break;case Ib:a=new ud;break;case Id:a=new vd;break;case Xb:a=new zd}null!==a&&(a.v(d,c),a.w(!0));return a}return null};function W(){}q=W.prototype;q.dk=function(){return new Jd};q.og=function(a,b){(new lc(a)).og(b)};q.mg=function(a,b){(new lc(a)).mg(b)};q.lg=function(a,b){(new lc(a)).lg(b)};q.ek=function(a,b,c){(new Mc(a)).v(b,c)};q.ng=function(a,b,c){(new lc(a)).ng(b);b=.3;c.TutorTime&&(b=parseFloat(c.TutorTime));c.TutorColor&&"Black"===c.TutorColor?Kd(a,!1,F,b):c.TutorColor&&"White"===c.TutorColor?Kd(a,!1,G,b):Kd(a,!0,I,b);a.F=0;void 0!==c.NewNode&&(Sc(a,{Ne:!0}),(b=c.NewNode)&&""!==b||(b="Wrong.\nOut of variants."),a.Qh=b);b=void 0!==c.WrongCallback?c.WrongCallback:null;var d=void 0!==c.ResetCallback?c.ResetCallback:null;a.Oh=void 0!==c.RightCallback?c.RightCallback:null;a.Ph=b;a.Nh=d};q.qg=function(a){return a.qg()};q.Rd=function(a){a.Rd(!0)};q.cd=function(a){a.cd()};q.pk=function(a,b){var c={};c.Ne=b.NewNode;c.Le=b.Move;c.gg=b.ChangeBoardMode;c.Og=b.LoadFile;c.Rc=b.GameInfo;Sc(a,c)};q.rc=function(a,b,c,d,f){var e={};c&&!0===c.Auto?e.ji=!0:c&&void 0!==c.X0&&void 0!==c.X1&&void 0!==c.Y0&&void 0!==c.Y1?(e.ji=!1,e.L=c.X0,e.S=c.X1,e.M=c.Y0,e.T=c.Y1):e=null;c=a.F;a.F=4294967295;a.rc(b,e,d,f);a.F=c};q.Re=function(a){return a.Re()};q.ug=function(a){return a.ug()};q.w=function(a){a.w()};q.tg=function(a){return a?a.tg():"White vs. Black"};q.ad=function(a,b){a.ad(b)};q.na=function(a){a&&a.na()};q.wg=function(){return this.sk};window.GoBoardApi=new W;W.prototype.Create_GameTree=W.prototype.dk;W.prototype.Create_SimpleBoard=W.prototype.og;W.prototype.Create_BoardWithNavigateButtons=W.prototype.mg;W.prototype.Create_BoardCommentsButtonsNavigator=W.prototype.lg;W.prototype.Create_Presentation=W.prototype.ek;W.prototype.Create_Problems=W.prototype.ng;W.prototype.Set_Permissions=W.prototype.pk;W.prototype.Load_Sgf=W.prototype.rc;W.prototype.Save_Sgf=W.prototype.Re;W.prototype.Get_MoveReference=W.prototype.ug;W.prototype.Update_Size=W.prototype.w;W.prototype.Set_Sound=W.prototype.ad;W.prototype.Find_ProblemRightVariant=W.prototype.qg;W.prototype.Start_AutoPlay=W.prototype.Rd;W.prototype.Stop_AutoPlay=W.prototype.cd;W.prototype.Focus=W.prototype.na;W.prototype.Get_MatchName=W.prototype.tg;W.prototype.Get_Version=W.prototype.wg;function Ld(a,b,c){this.I=void 0===a?0:a;this.Nj=void 0===b?null:b;this.Na=void 0===c?0:c}Ld.prototype.ta=function(){return this.Nj};Ld.prototype.Gb=function(a){this.I=a};Ld.prototype.Ue=function(a){this.Nj=a};function Md(){Y=X=0}function B(a,b,c,d){this.o=a;this.q=b;this.p=c;this.Ha="undefined"===typeof d?255:d}B.prototype={Qc:function(){return new B(this.o,this.q,this.p,this.Ha)}};function Nd(a){return a.o<<24&4278190080|a.q<<16&16711680|a.p<<8&65280|a.Ha&255}function kc(a,b){return a.o!==b.o||a.q!==b.q||a.p!==b.p||a.Ha!==b.Ha?!1:!0}function R(a){return"rgba("+a.o+","+a.q+","+a.p+","+a.Ha/255+")"}function S(a){var b=new Md;b.f=a&255;b.g=a>>8&255;return b}function Od(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function Ga(a){if("undefined"!=typeof a.offsetParent){for(var b=0,c=0;a;a=a.offsetParent)b+=a.offsetLeft,c+=a.offsetTop;return{f:b,g:c}}return{f:a.x,g:a.y}}function Ha(a){if("string"!=typeof a)return!1;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(48>c||57<c)return!1}return!0}function rb(a,b){return a>b?1:b>a?-1:0}var Pd=null;function Gc(a,b,c,d,f){a.onmousedown=Qd;a.tb=!0;a.Cb=!0;a.root=a;a.tb&&isNaN(parseInt(a.root.style.left))&&(a.root.style.left="0px");a.Cb&&isNaN(parseInt(a.root.style.top))&&(a.root.style.top="350px");!a.tb&&isNaN(parseInt(a.root.style.right))&&(a.root.style.right="0px");!a.Cb&&isNaN(parseInt(a.root.style.bottom))&&(a.root.style.bottom="0px");a.kc="undefined"!=typeof b?b:null;a.lc="undefined"!=typeof d?d:null;a.Ic="undefined"!=typeof c?c:null;a.Jc="undefined"!=typeof f?f:null;a.Xj=null;a.Yj=null;a.root.Hf=function(){};a.root.Gf=function(){};a.root.Sa=function(){}}function Qd(a){var b=Pd=this;a=Rd(a);var c=parseInt(b.Cb?b.root.style.top:b.root.style.bottom),d=parseInt(b.tb?b.root.style.left:b.root.style.right);b.root.Hf(d,c);b.tj=a.clientX;b.uj=a.clientY;b.tb?(null!=b.kc&&(b.Ef=a.clientX-d+b.kc),null!=b.Ic&&(b.Rh=b.Ef+b.Ic-b.kc)):(null!=b.kc&&(b.Rh=-b.kc+a.clientX+d),null!=b.Ic&&(b.Ef=-b.Ic+a.clientX+d));b.Cb?(null!=b.lc&&(b.Ff=a.clientY-c+b.lc),null!=b.Jc&&(b.Sh=b.Ff+b.Jc-b.lc)):(null!=b.lc&&(b.Sh=-b.lc+a.clientY+c),null!=b.Jc&&(b.Ff=-b.Jc+a.clientY+c));document.onmousemove=Sd;document.onmouseup=Td;return!1}function Sd(a){a=Rd(a);var b=Pd,c=a.clientY;a=a.clientX;var d=parseInt(b.Cb?b.root.style.top:b.root.style.bottom),f=parseInt(b.tb?b.root.style.left:b.root.style.right),e,g;null!=b.kc&&(a=b.tb?Math.max(a,b.Ef):Math.min(a,b.Rh));null!=b.Ic&&(a=b.tb?Math.min(a,b.Rh):Math.max(a,b.Ef));null!=b.lc&&(c=b.Cb?Math.max(c,b.Ff):Math.min(c,b.Sh));null!=b.Jc&&(c=b.Cb?Math.min(c,b.Sh):Math.max(c,b.Ff));e=f+(a-b.tj)*(b.tb?1:-1);g=d+(c-b.uj)*(b.Cb?1:-1);b.Xj?e=b.Xj(d):b.Yj&&(g=b.Yj(f));null!=b.kc&&(e=Math.max(e,b.kc));null!=b.Ic&&(e=Math.min(e,b.Ic));null!=b.lc&&(g=Math.max(g,b.lc));null!=b.Jc&&(g=Math.min(g,b.Jc));Pd.root.style[b.tb?"left":"right"]=e+"px";Pd.root.style[b.Cb?"top":"bottom"]=g+"px";Pd.tj=a;Pd.uj=c;Pd.root.Sa(e,g);return!1}function Td(){document.onmousemove=null;document.onmouseup=null;Pd.root.Gf(parseInt(Pd.root.style[Pd.tb?"left":"right"]),parseInt(Pd.root.style[Pd.Cb?"top":"bottom"]));Pd=null}function Rd(a){"undefined"==typeof a&&(a=window.event);"undefined"==typeof a.layerX&&(a.layerX=a.offsetX);"undefined"==typeof a.layerY&&(a.layerY=a.offsetY);return a}function gd(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.ha=b.prototype}var mc=window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};function Kb(a,b,c){if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,b);else{var d=document.createElementNS("http://www.w3.org/1999/xhtml","a");a=(window.URL||window.webkitURL||window).createObjectURL(a);d.href=a;d.download=b;c&&(d.type=c);Jb(d)}}function Jb(a){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}function hc(a){return void 0!==window.localStorage?localStorage.getItem("HTMLGoBoard"+a):""}function jc(a,b){void 0!==window.localStorage&&localStorage.setItem("HTMLGoBoard"+a,b)}function Ud(a){var b="",c,d,f=0,e,g,h=0,l=0;do c=a[l++],d=a[l++],f=a[l++],e=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|f>>6,h=f&63,isNaN(d)?g=h=64:isNaN(f)&&(h=64),b=b+Vd.charAt(e)+Vd.charAt(c)+Vd.charAt(g)+Vd.charAt(h);while(l<a.length);return b}function Wd(a){var b,c,d=0,f="",e=0,g=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),h=[];do b=Vd.indexOf(g.charAt(e++)),d=Vd.indexOf(g.charAt(e++)),a=Vd.indexOf(g.charAt(e++)),f=Vd.indexOf(g.charAt(e++)),b=b<<2|d>>4,c=(d&15)<<4|a>>2,d=(a&3)<<6|f,h.push(b),64!=a&&h.push(c),64!=f&&h.push(d);while(e<g.length);return h}function ac(a,b){a.innerText?a.innerText=b:a.textContent=b}var Vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var I=0,F=1,G=2,Xd=2,Mb=0,Lb=2,Da=23.61,Ea=17.51,Fa=Da/2,sd="data:image/png;base64,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",Ad="data:image/png;base64,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";var xa=4,Yd=4294967295^xa;function Jd(a){this.Ba=new Vc;this.k=a;this.Kk=new Ac;this.fa=new Zd;this.K=this.l=null;this.Mj=this.i=this.Z=new $d;this.Cc=this.Bc=0;this.yb=F;this.be=this.vd=this.Ij=this.xj=this.gb=this.ec=0;this.se=this.oe=this.ic=this.jc=this.yd=this.Gc=this.me=this.Pj=this.zf=this.ne="";this.Fc="Black";this.zd="";this.Hc="White";this.qe=this.te=this.pe=this.La="";this.he=0;this.Rj=this.Df=this.re="";this.rd=Xd;this.F=4294967295;this.Lb=null;this.Yd=.75;this.wj=-1;this.Ah=!1;this.gc=I;this.Hj=300;this.Qh="";this.td=this.Nh=this.Ph=this.Oh=this.Gh=null}function td(a){var b=new Jd;b.fa=a.fa.Qc();b.Z=ae(a.Z,a.i);b.i=b.Z;Ab(b);return b}function Kd(a,b,c,d){!0===b?(a.Ah=!0,a.gc=I):(a.Ah=!1,a.gc=c);void 0!==d&&(a.Hj=1E3*d)}q=Jd.prototype;q.qg=function(){var a=[];be(this.Z,a);if(0<a.length){var b=Math.max(0,Math.min(a.length-1,Math.floor(Math.random()*a.length)));ce(a[b]);return!0}return!1};q.Rd=function(a){if(2&this.F||!0===a){this.cd();this.k&&this.k.Ki();var b=this,c=function(){0<T(b.i)&&(b.Lb=0,gb(b,1,a));0<T(b.i)?(b.wj=(new Date).getTime(),b.Lb=setTimeout(c,100+6900*(1-b.Yd))):(b.Lb=null,b.k&&b.k.Ug())},d=100+6900*(1-this.Yd)-((new Date).getTime()-this.wj);0>=d?c():this.Lb=setTimeout(c,d)}};q.cd=function(){this.k&&this.k.Ug();null!==this.Lb&&(clearTimeout(this.Lb),this.Lb=null)};function wc(a){a.K&&a.K.nb();if(a.k){a.wc();var b=a.k;b.je&&(b=b.je,!0!==b.Xd&&xc(b,a.Yd,!0))}}q.w=function(){this.k&&this.k.w()};q.na=function(){this.l&&this.l.na()};q.rc=function(a,b,c,d){if(this.F&8){de.$b();var f=this.F;this.F=4294967295;var e=null,e="gib"===d?new ee(this):"ngf"===d?new fe(this):new ge(this);e.Ng(a);this.Ah&&(this.gc=this.yb===F?G:F);a=this.fa.$().f;this.l&&b?!0===b.ji?qa(this.l,4>=e.j.L?0:e.j.L-2,4>=e.j.M?0:e.j.M-2,3>=a-e.j.S?a-1:e.j.S,3>=a-e.j.T?a-1:e.j.T):void 0!==b.L&&void 0!==b.S&&void 0!==b.M&&void 0!==b.T&&qa(this.l,b.L,b.M,b.S,b.T):this.l&&qa(this.l,0,0,a-1,a-1);this.K&&(this.K.nb(),Fc(this.K));if(c)if(b=this.Z,c=c.replace(RegExp("~","g"),"+"),c=c.replace(RegExp("-","g"),"/"),c=c.replace(RegExp("_","g"),"="),c=Wd(c),c=new he(c,c.length),"GBMR"!==ie(c,4))hb(this,b);else if(je(c),e=ke(c),e=ie(c,e),a=le(b,e),null!==a){b=c.d>=c.Ia?0:c.ba[c.d++];this.i=a;if(1===b)for(b=ke(c),e=0;e<b&&1===je(c);e++){ob(this,!1,!1);a=ke(c);for(d=0;d<a;d++){var g=je(c),h=ke(c);switch(g){case 16:h=S(ke(c));this.$a(h.f,h.g,F);break;case 17:h=S(ke(c));this.$a(h.f,h.g,G);break;case 32:case 33:case 34:h=F;switch(g){case 32:h=F;break;case 33:h=G;break;case 34:h=I}for(var g=ke(c),l=[],k=0;k<g;k++)l.push(ke(c));this.Oc(h,l);break;default:c.d+=h}}je(c);a=this.i;this.K&&(this.K.nb(),Fc(this.K))}hb(this,a,!0)}else hb(this,b,!0);else this.Mj=c=!this.Je()||""!==this.La&&null!==this.La&&void 0!==this.La?this.Z:Lc(this.Z),hb(this,c);this.F=f;this.l&&(f=this.l,null!==f.Dc&&ib(f.c.i)>=jb(f.Dc)&&kb(f.Dc));this.k&&this.k.w(!0)}};q.Re=function(){var a=new me;a.c=this;a.hc="";a.Xa=null;ne(a,this.Z);return a.hc};q.$b=function(){this.Z=new $d;this.te=this.La=this.jc="";this.ec=0;this.gb="0";this.se=this.he="";id(this,"Black");jd(this,"");kd(this,"White");ld(this,"");this.re=this.qe=this.oe=this.ne=this.zd=this.pe=this.yd=this.Gc=this.ic=this.me="";this.rd=0;oe(this)};function yb(a){hb(a,a.Mj)}function fb(a){var b=a.F;I!==a.gc&&Sc(a,{Le:!0});hb(a,a.Z);a.F=b;I!==a.gc&&a.Nh&&pe(a,a.Nh)}function db(a,b){for(var c=a.i;null!=c.Y&&0<b;)c=c.Y,b--;hb(a,c)}function gb(a,b,c){if(1===b)qe(a,c)&&pb(a);else{for(c=0;c<b;c++)qe(a);hb(a,a.i)}}function Ab(a){for(;qe(a););hb(a,a.i)}q.Li=function(){!0===wb(this,0,0,this.yb)&&pb(this)};function zb(a){var b=a.i.Y;if(null!==b){var c=b.ca;0<T(b)&&0<c&&hb(a,b.V(c-1))}}function Bb(a){var b=a.i.Y;if(null!==b){var c=b.ca;c<T(b)-1&&hb(a,b.V(c+1))}}q.xg=function(){for(var a=this.i;!re(a);){var b=a.Y;if(null===b&&a!==this.Z)return;a=b}a.xg();hb(this,a)};q.Pd=function(a){this.yb=a;this.i.Pd(a)};q.$a=function(a,b,c){this.i.$a(a,b,c)};function ob(a,b,c){if(!(a.F&1))return!1;var d=new $d,f=d.Y=a.i;f.la.push(d);if(!0===c||-1===f.ca)f.ca=f.la.length-1;a.i=d;a.be++;!0===b&&a.K&&(a.K.nb(),Fc(a.K));return!0}function wb(a,b,c,d){for(var f=(c<<8)+b,e=0,g=T(a.i);e<g;e++){var h=a.i.V(e),l=h.Bb,k=l.I;if(f===l.ta()&&d===k&&(F===d||G===d))return b=a.i.ca,se(a.i,e),a.i=h,a.be++,a.K&&b!==e&&Fc(a.K),!0}if(!(a.F&1))return!1;ob(a,!1,!0);a.i.$a(b,c,d);a.K&&(a.K.nb(),Fc(a.K));I!==a.gc&&""!==a.Qh&&a.i.Te(a.Qh);return!0}q.Oc=function(a,b){this.i.Oc(a,b)};q.ze=function(a){var b=this.i.Ka;this.i.ze(a);this.K&&""===b&&""!==a&&Fc(this.K)};q.Te=function(a){var b=this.i.Ka;this.i.Te(a);this.K&&(""===b&&""!==a||""!==b&&""===a)&&Fc(this.K)};q.Da=function(a,b){this.i.Da(a,b)};q.rb=function(a){this.i.Da(513,a)};q.Bd=function(a,b){this.i.Bd(a,b)};q.Rf=function(a,b){this.i.ib.Ac||(this.i.ib.Ac=!0);for(var c=0,d=b.length;c<d;c++)this.i.Rf(b[c],a)};q.Pf=function(a){this.i.Pf(a)};q.Sf=function(a){this.i.Sf(a)};q.hg=function(){!0===this.i.ib.Ac&&(this.i.ib.Ac=!1,this.i.hg());this.l&&(this.l.wa={},La(this.l))};function xb(a){var b=a.i.Y;if(null===b)a.i.xa(),a.K&&(a.K.nb(),Fc(a.K)),hb(a,a.i);else for(var c=0,d=T(b);c<d;c++)if(a.i===b.V(c)){d=b;d.la.splice(c,1);d.ca>=c&&d.ca--; -1===d.ca&&0<d.la.length&&(d.ca=0);a.i=b;a.K&&(a.K.nb(),Fc(a.K));hb(a,b);break}}q.Xc=function(){return this.i.Xc()};function pb(a){a.l&&(1===a.l.ua&&wa(a.l,0),a.l.wa={},a.Qd());for(var b=0,c=a.i.ia.length;b<c;b++){var d=a.i.ia[b],f=d.ta(),e=d.Na;switch(d.I){case 1:d=S(f);te(a,d.f,d.g,F,!1);break;case 2:d=S(f);te(a,d.f,d.g,G,!1);break;case 257:for(var g=0;g<e;g++)d=S(f[g]),ue(a,d.f,d.g,F,-1);break;case 258:for(g=0;g<e;g++)d=S(f[g]),ue(a,d.f,d.g,G,-1);break;case 259:for(g=0;g<e;g++)d=S(f[g]),ue(a,d.f,d.g,I,-1);break;case 260:a.yb=f;break;case 529:if(a.l)for(g=0;g<e;g++)d=S(f[g]),a.l.Da(new ta(d.f,d.g,Wa,""));break;case 530:if(a.l)for(g=0;g<e;g++)d=S(f[g]),a.l.Da(new ta(d.f,d.g,Za,""));break;case 531:if(a.l)for(g=0;g<e;g++)d=S(f[g]),a.l.Da(new ta(d.f,d.g,Xa,""));break;case 532:if(a.l)for(g=0;g<e;g++)d=S(f[g]),a.l.Da(new ta(d.f,d.g,Ya,""));break;case 533:a.l&&(d=S(f.Ni),a.l.Da(new ta(d.f,d.g,Ra,f.Text)));break;case 513:if(a.l)for(g=0;g<e;g++)d=S(f[g]),a.l.rb(d.f,d.g)}}a.l&&(a.i.Xc()?(c=a.i.Bb,b=c.Sc(),c=c.Tc(),Pa(a.l,b,c)):Pa(a.l,-1,-1),a.i.ib.Ac&&wa(a.l,1),La(a.l),ve(a.i,a.l));a.k&&(b=a.i.Ka,c=!0,I!==a.gc?(-1!==b.indexOf("CHOICE")&&(b=b.replace("CHOICE","")),0>=T(a.i)&&(-1!==b.indexOf("RIGHT")&&null!==a.Oh?(a.k.vc(b.replace("RIGHT","")),pe(a,a.Oh),c=!1):-1===b.indexOf("RIGHT")&&null!==a.Ph&&(a.k.vc(b),pe(a,a.Ph),c=!1)),c&&a.k.vc(b)):a.k.vc(b));a.K&&Hc(a.K,!0);a.wc();if(a.yb===a.gc&&null===a.Gh&&null===a.Lb&&null===a.td&&0<=T(a.i)){var h=a.F;a.Gh=setTimeout(function(){a.F=4294967295;for(var b=a.i,c=[],d=0,e=T(b);d<e;d++)-1!==b.V(d).Ka.indexOf("CHOICE")&&c.push(d);0<c.length?(d=Math.max(0,Math.min(c.length-1,Math.floor(Math.random()*c.length))),se(b,c[d])):0<T(b)&&se(b,0);gb(a,1);a.F=h;a.Gh=null},a.Hj);a.F=0}}function te(a,b,c,d,f){if(0!=b||0!=c){if(a.Ba&&!0!==f){var e=a.Ba;Yc(e,e.Mi)}ue(a,b,c,d,a.vd+1,f);e=null;if(null!==(e=ub(a.fa,b,c,d,!1))&&0<e.$()){b=e.$();for(c=0;c<b;c++){var g=S(e.ta(c));ue(a,g.f,g.g,I,-1)}a.Ba&&!0!==f&&Xc(a.Ba,e.$());F===d?a.Bc+=b:a.Cc+=b}else if(null!==(e=vb(a.fa,b,c,d))&&0<e.$()){b=e.$();for(c=0;c<b;c++)g=S(e.ta(c)),ue(a,g.f,g.g,I,-1);a.Ba&&!0!==f&&Xc(a.Ba,e.$());F===d?a.Cc+=b:a.Bc+=b}else a.fa.Qb.$b()}a.yb=F===d?G:F;a.vd++}function qe(a,b){if(!(a.F&2)&&!0!==b||0===T(a.i)||-1===a.i.ca)return!1;a.i=a.i.V(a.i.ca);a.be++;return!0}q.Qd=function(){this.l&&this.i.Qd(this.rd,this.l)};q.Ge=function(){if(this.l){var a=this.fa.Ge(this.l);La(this.l);this.i.ib.Ac||(this.i.ib.Ac=!0);var b=this.fa,c=this.i.ib;c.cb={};for(var d=b.$(),f=1;f<=d.g;f++)for(var e=1;e<=d.f;e++){var g=b.Jb[ya(b,e,f)],h=(f<<8)+e;if(F===g||G===g)c.cb[""+h]=g}this.xj=a.Pc+this.Bc;this.Ij=a.ed+this.Cc+this.ec;this.wc()}};q.ad=function(a){this.Ba.v(a)};function hb(a,b,c){if(a.F&2||!0===c){a.cd();oe(a);a.fa.xa();a.Ba&&(a.Ba.nd=!1);var d=ce(b);for(a.i=a.Z;a.i!=b&&0<T(a.i);){for(var f=a.i.ia.length,e=0;e<f;e++){var g=a.i.ia[e],h=g.ta(),l=g.Na;switch(g.I){case 1:g=S(h);te(a,g.f,g.g,F,!0);break;case 2:g=S(h);te(a,g.f,g.g,G,!0);break;case 257:for(var k=0;k<l;k++)g=S(h[k]),a.fa.Set(g.f,g.g,F,-1);break;case 258:for(k=0;k<l;k++)g=S(h[k]),a.fa.Set(g.f,g.g,G,-1);break;case 259:for(k=0;k<l;k++)g=S(h[k]),a.fa.Set(g.f,g.g,I,-1)}}if(!qe(a,c))break}a.l&&Ja(a.l);pb(a);a.K&&!0===d&&Fc(a.K);a.Ba&&(a.Ba.nd=!0)}}function Nb(a,b){b!==a.rd&&(a.rd=b,a.Qd())}function jd(a,b){a.zf=b;a.k&&a.k.kj(a.zf)}q.tg=function(){var a=this.jc;""===a&&(a=this.Hc+" vs. "+this.Fc);""===a&&(a="White vs. Black");return a};function id(a,b){a.Fc=b;a.k&&a.k.jj(a.Fc)}function kd(a,b){a.Hc=b;a.k&&a.k.lj(a.Hc)}function ld(a,b){a.Df=b;a.k&&a.k.mj(a.Df)}function we(a,b,c){c=b=Math.min(50,Math.max(b,c,2));var d=a.fa.$();if(b!==d.f||c!==d.g)d=a.fa,d.B=b,d.H=c,xe(d),d.Qb.$b(),a.l&&(a=a.l,oa(a),a.jb(!0))}function oe(a){a.i=a.Z;a.Bc=0;a.Cc=0;a.vd=0;a.be=0;a.yb=F}function ue(a,b,c,d,f,e){a.fa.Set(b,c,d,f);a.l&&!0!==e&&ra(a.l,b,c,d)}q.wc=function(){if(this.k){var a=this.Kk,b=this.i.Y;a.Ub=null===this.i.Y?!1:!0;a.Wb=0>=T(this.i)?!1:!0;if(null!==b){var c=b.ca;a.sc=c<T(b)-1?!0:!1;a.tc=0<c?!0:!1}else a.sc=!1,a.tc=!1;this.l&&(a.mb=this.l.ua);for(var b=this.Z,d=c=1;0<T(b);)c++,b=b.V(),b===this.i&&(d=c);a.$i=0<c?(d-1)/(c-1):1;this.k.wc(a);this.l&&1===this.l.ua?this.k.Td(this.xj,this.Ij):this.k.Sd(this.Bc,this.Cc)}};function Sc(a,b){b&&(!0===b.Ne?a.F|=1:!1===b.Ne&&(a.F&=-2),!0===b.Le?a.F|=2:!1===b.Le&&(a.F&=-3),!0===b.gg?a.F|=xa:!1===b.gg&&(a.F&=Yd),!0===b.Og?a.F|=8:!1===b.Og&&(a.F&=-9),!0===b.Rc?a.F|=16:!1===b.Rc&&(a.F&=-17))}function Fb(a){if(a=a.l){a=na(a,!0).toDataURL("image/png");var b=document.createElement("a");b.download="BoardShot.png";b.href="data:image/png;base64"+a;Jb(b)}}function Hb(a){var b=[],c=a.Z;for(b.push(c);0<T(c);)c=c.V(c.ca),b.push(c);ye(a,b)}function Gb(a){var b=[],c=[];be(a.Z,c);for(var d=0,f=c.length;d<f;d++){var e=c[d];ce(e);var g=a.Z;for(b.push(g);g!==e&&0<T(g);)g=g.V(g.ca),b.push(g)}ye(a,b)}function Eb(a){ye(a,[a.i])}function ye(a,b){var c=a.l;if(c){var d=a.i,f=c.b.O,e=c.b.G,g=b.length,h=Math.max(1,Math.ceil(2E6/f/e)),l=0,k=null,m=null,n=5<Math.ceil(g/h)?!0:!1,u=!0===n?Cb(c.a.e.a.id,Id,{Ea:a.k,Fa:a}):null;c.ef=!0;var p=new ze;p.Bj=Math.floor(150);Ae(p);e=f=0;null!==u&&xd(u);a.td=!0;var r=function(){var w,t;if(null===a.td)c.ef=!1,hb(a,d,!0);else{for(var y=Math.min(l+h,g);l<y;l++){hb(a,b[l],!0);oCanvas=na(c,!1);oContext=oCanvas.getContext("2d");w=c;var H={};t={};var M=void 0;for(M in w.ke)H[M]=w.ke[M];var z=void 0;for(z in w.wa){var M=parseInt(z),D=w.wa[z];Ra===D.I&&I===w.N.D(D.Sc(),D.Tc())?t[M]=!1:t[M]=!0}H=w=H;z=t;if(0===f||0===e)f=oCanvas.width,e=oCanvas.height;if(null===k||null===m)Be(p,0,0,f,e,[{L:0,M:0,S:f,T:e}]);else{var M={},V;for(V in z)M[V]=z[V];for(V in m)M[V]=void 0===M[V]||!1!==M[V]&&!1!==m[V]?m[V]:!1;for(V in k)k[V]!==H[V]&&!1!==M[V]&&(M[V]=!0);H=[];for(V in M){z=S(V);var A=z.f,D=z.g;if(!0!==sa(c,A-1,D-1))z=null;else if(z=c.b.R,!0===M[V])var L=c.b.bb,Q=(L-1)/2,v=c.Kf()?c.b.Hb:0,A=z[A-1].f-Q,z=z[D-1].g-Q,z={L:A,M:z,S:A+L+v,T:z+L+v};else L=z[A-1].gd,D=z[D-1].jd,z={L:L,M:D,S:L+(z[1].f-z[0].f+2),T:D+(z[1].g-z[0].g+2)};null!==z&&H.push(z)}if(0<H.length){M=f;D=e;A=v=L=0;for(Q=H.length;A<Q;A++)z=H[A],z.L<M&&(M=z.L),z.M<D&&(D=z.M),z.S>L&&(L=z.S),z.T>v&&(v=z.T);Be(p,M,D,L-M,v-D,H)}else Be(p,0,0,f,e,[])}k=w;m=t}null!==u&&wd(u,Math.min(100,l/g*100));l<g?!0===n?setTimeout(r,10):r():(u&&yd(u),Z(p.J,59),y=a.jc,""===y&&(y=a.Hc+" vs. "+a.Fc),""===y&&(y="download"),y+=".gif",V=new Blob([Ce(p.J)],{type:"image/gif"}),Kb(V,y),a.td=null,c.ef=!1,hb(a,d,!0))}};!0===n?setTimeout(r,10):r()}}function pe(a,b){null===a.td&&b&&b()}q.Ke=function(){return x.Ke()};q.Zg=function(a){x.Zg(a)};q.Je=function(){return x.Je()};q.Qf=function(a,b,c){this.i.Qf(a,b,c)};q.Wg=function(a,b){this.i.Wg(a,b)};q.Vg=function(){this.i.Vg()};q.ig=function(){this.i.ig();this.l&&ve(this.i,this.l)};q.ug=function(){for(var a=this.i,b=a;!a.gf;){var c=a.Y;if(null===c)return"";a=c}c=new De;Ee(c,"GBMR");Fe(c,1);var d=a.Qj;Ge(c,d.length);Ee(c,d);if(a!==b){Z(c,1);for(d=[];b!==a;)d.splice(0,0,b),b=b.Y;Ge(c,d.length);a=0;for(b=d.length;a<b;a++){var f=d[a];Fe(c,1);var e=c.d;c.d+=4;for(var g=0,h=0,l=f.ia.length;h<l;h++){var k=f.ia[h],m=k.I,n=k.ta(),k=k.Na;switch(m){case 1:Fe(c,16);Ge(c,4);Ge(c,n);g++;break;case 2:Fe(c,17);Ge(c,4);Ge(c,n);g++;break;case 257:case 258:case 259:switch(m){case 257:Fe(c,32);break;case 258:Fe(c,33);break;case 259:Fe(c,34)}Ge(c,4*(k+1));Ge(c,k);for(m=0;m<k;m++)Ge(c,n[m]);g++}}f=c.d;c.d=e;Ge(c,g);c.d=f;Fe(c,0)}}else Z(c,0);c=Ce(c);c=Ud(c);c=c.replace(RegExp("\\+","g"),"~");c=c.replace(RegExp("\\/","g"),"-");return c=c.replace(RegExp("=","g"),"_")};q.Pg=function(){this.Z.Pg();this.K&&(this.K.nb(),Fc(this.K),Hc(this.K,!0))};function ze(){this.J=null;this.ff=!0;this.Ec=this.Oj=null;this.Aa={};this.Gj=0;this.Ka=String.fromCharCode(71,101,110,101,114,97,116,101,100,32,98,121,32,103,111,98,97,110,46,111,114,103);this.Bj=0;this.yf=null;this.Cj=this.Hk=this.H=this.B=0}function Be(a,b,c,d,f,e){var g=oContext;a.ff&&(a.B=g.canvas.width,a.H=g.canvas.height);a.Oj=g.getImageData(0,0,g.canvas.width,g.canvas.height).data;if(a.ff){a.Ec=Array(768);for(var h=g=0;768>g;g+=3,h+=6)a.Ec[g+0]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+0]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+1],16),a.Ec[g+1]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+2]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+3],16),a.Ec[g+2]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+4]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+5],16)}a.yf=[];for(var g=a.Aa,h=a.Oj,l=c;l<c+f;l++)for(var k=b;k<b+d;k++){var m=k-b+(l-c)*d,n;a:{n=0;for(var u=e.length;n<u;n++){var p=e[n];if(k>=p.L&&k<=p.S&&l>=p.M&&l<=p.T){n=!0;break a}}n=!1}if(!0===n){p=4*(k+l*a.B);n=h[p+0]&255;var u=h[p+1]&255,p=h[p+2]&255,r=n<<16|u<<8|p;if(void 0===g[r]){for(var w=a.Ec,t=0,y=16777216,H=1;256>H;H++){var M=3*H,z=n-(w[M+0]&255),D=u-(w[M+1]&255),M=p-(w[M+2]&255),z=z*z+D*D+M*M;z<y&&(y=z,t=H)}g[r]=t}a.yf[m]=g[r]}else a.yf[m]=a.Gj}a.ff&&(Fe(a.J,a.B),Fe(a.J,a.H),Z(a.J,247),Z(a.J,0),Z(a.J,0),a.fi(),Z(a.J,33),Z(a.J,255),Z(a.J,11),Ee(a.J,"NETSCAPE2.0"),Z(a.J,3),Z(a.J,1),Fe(a.J,a.Hk),Z(a.J,0),Z(a.J,33),Z(a.J,254),Z(a.J,a.Ka.length),Ee(a.J,a.Ka),Z(a.J,0));Z(a.J,33);Z(a.J,249);Z(a.J,4);Z(a.J,5);Fe(a.J,a.Bj);Z(a.J,a.Gj);Z(a.J,0);Z(a.J,44);Fe(a.J,void 0!==b?b:0);Fe(a.J,void 0!==c?c:0);Fe(a.J,void 0!==d?d:a.B);Fe(a.J,void 0!==f?f:a.H);Z(a.J,0);b=new He(a.B,a.H,a.yf);c=a.J;Z(c,b.Ej);b.Eh=b.B*b.H;b.Aj=0;d=b.Ej+1;b.Dj=d;b.Wd=!1;b.dc=d;b.de=(1<<b.dc)-1;d=1<<d-1;b.Dh=d+1;b.ce=d+2;b.Na=0;f=Ie(b);e=0;for(g=5003;65536>g;g*=2)++e;e=8-e;Je(b);Ke(b,d,c);for(l=[];-1!==(h=Ie(b));)if(g=(h<<12)+f,k=h<<e^f,g===b.kd[k])f=l[k];else{if(0<=b.kd[k]){m=5003-k;n=!1;0===k&&(m=1);do if(0>(k-=m)&&(k+=5003),g===b.kd[k]){f=l[k];n=!0;break}while(0<=b.kd[k]);if(n)continue}Ke(b,f,c);f=h;4096>b.ce?(l[k]=b.ce++,b.kd[k]=g):(Je(b),b.ce=d+2,b.Wd=!0,Ke(b,d,c))}Ke(b,f,c);Ke(b,b.Dh,c);Z(c,0);a.ff=!1;console.log("Frame "+a.Cj);a.Cj++}function Ae(a){a.J=new De;Ee(a.J,"GIF89a")}ze.prototype.fi=function(){Le(this.J,this.Ec);for(var a=768-this.Ec.length,b=0;b<a;b++)Z(this.J,0)};function He(a,b,c){this.B=a;this.H=b;this.ba=c;this.Ej=Math.max(2,8);this.Aj=this.Eh=0;this.kd=[];this.Dj=0;this.Wd=!1;this.eb=this.xb=this.ce=this.Dh=this.de=this.dc=0;this.Ck=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];this.Na=0;this.rh=[]}function Ie(a){if(0===a.Eh)return-1;--a.Eh;return a.ba[a.Aj++]&255}function Je(a){for(var b=0;5003>b;b++)a.kd[b]=-1}function Ke(a,b,c){a.xb&=a.Ck[a.eb];a.xb=0<a.eb?a.xb|b<<a.eb:b;for(a.eb+=a.dc;8<=a.eb;){var d=a,f=a.xb&255,e=c;d.rh[d.Na++]=f;254<=d.Na&&Me(d,e);a.xb>>=8;a.eb-=8}if(a.ce>a.de||a.Wd)a.Wd?(a.dc=a.Dj,a.de=(1<<a.dc)-1,a.Wd=!1):(a.dc++,12==a.dc?a.de=4096:a.de=(1<<a.dc)-1);if(b===a.Dh){for(;0<a.eb;)b=a,d=a.xb&255,f=c,b.rh[b.Na++]=d,254<=b.Na&&Me(b,f),a.xb>>=8,a.eb-=8;Me(a,c)}}function Me(a,b){0<a.Na&&(Z(b,a.Na),Le(b,a.rh,0,a.Na),a.Na=0)};"use strict;";function Ne(){this.ae=this.Pa=0}Ne.prototype.$b=function(){this.ae=this.Pa=0};Ne.prototype.Qc=function(){var a=new Ne;a.Fd(this);return a};Ne.prototype.Fd=function(a){this.Pa=a.Pa;this.ae=a.ae};Ne.prototype.Set=function(a,b){this.Pa=a;this.ae=b};function Oe(a,b){this.$d=void 0===a?I:a;this.ee=void 0===b?-1:b}q=Oe.prototype;q.Fd=function(a){this.$d=a.$d;this.ee=a.ee};q.xa=function(){this.$d=I;this.ee=-1};q.Ue=function(a){this.$d=a};q.ta=function(){return this.$d};q.vg=function(){return this.ee};function Pe(){this.Vd=[];this.ld=[]}Pe.prototype.$=function(){return this.ld.length};Pe.prototype.ta=function(a){return this.ld[a]};function Qe(a,b,c){b=(c<<8)+b;c=0;for(var d=a.ld.length;c<d;c++)if(a.ld[c]==b)return!0;return!1}function Re(){this.cb={}}Re.prototype.xa=function(){this.cb={}};Re.prototype.qc=function(a,b){var c=(b<<8)+a;if(void 0!==this.cb[c])return!0;this.cb[c]=1;return!1};function sb(){this.wf={};this.Nb=null}sb.prototype.qc=function(a,b,c){if(I===c)return null;a=(b<<8)+a;if(null===this.Nb)return this.Nb=c,this.wf[a]=1,!1;if(c!==this.Nb)return null;if(void 0!==this.wf[a])return!0;this.wf[a]=1;return!1};sb.prototype.ta=function(){return this.Nb};function Se(){this.ja={};this.fe=I}Se.prototype.xa=function(){this.ja={};this.fe=I};Se.prototype.qc=function(a,b){var c=(b<<8)+a;if(void 0!==this.ja[c])return!0;this.ja[c]=1;return!1};function nb(a,b,c){c=void 0===c?a.fe:c;for(var d in a.ja)a=S(d|0),b.Jb[ya(b,a.f,a.g)]=c}function Zd(a,b){this.B=void 0===a?19:a;this.H=void 0===b?19:b;this.ub=null;xe(this);this.Qb=new Ne;this.Jb=null;this.ja=new Se;this.of=new Re}q=Zd.prototype;q.Qc=function(){for(var a=new Zd(this.B,this.H),b=0,c=this.ub.length;b<c;b++)a.ub[b].Fd(this.ub[b]);a.Qb.Fd(this.Qb);return a};q.xa=function(){for(var a=this.B*this.H,b=0;b<a;b++)this.ub[b].xa()};q.$=function(){return{f:this.B,g:this.H}};q.Set=function(a,b,c,d){a=ya(this,a,b);this.ub[a].Ue(c);void 0!==d&&null!==d&&-1!==d&&(this.ub[a].ee=d)};q.D=function(a,b){return this.ub[ya(this,a,b)].ta()};q.vg=function(a,b){return this.ub[ya(this,a,b)].vg()};function vb(a,b,c,d){var f=new Pe;Te(a,b,c,d,f);return 0<f.$()?f:null}function ub(a,b,c,d,f){var e;switch(d){case F:e=G;break;case G:e=F;break;default:return null}d=new Pe;!0!==Qe(d,b+1,c)&&Te(a,b+1,c,e,d);!0!==Qe(d,b-1,c)&&Te(a,b-1,c,e,d);!0!==Qe(d,b,c+1)&&Te(a,b,c+1,e,d);!0!==Qe(d,b,c-1)&&Te(a,b,c-1,e,d);e=d.$();if(1==e){b=(c<<8)+b;c=d.ta(0);e=a.Qb;if(c===e.Pa&&b===e.ae&&1==f)return null;a.Qb.Set(b,c)}else if(1<e)a.Qb.$b();else if(0>=e)return null;return d}function xe(a){var b=a.B*a.H;a.ub=Array(b);for(var c=0;c<b;c++)a.ub[c]=new Oe}function ya(a,b,c){return(c-1)*a.B+(b-1)}function Ue(a,b,c,d,f){if(b>a.B||1>b||c>a.H||1>c)return!1;var e=a.D(b,c);return I===e?!0:d===e?Ve(a,b,c,d,f):!1}function Ve(a,b,c,d,f){var e;a:{e=(c<<8)+b;for(var g=0,h=f.Vd.length;g<h;g++)if(f.Vd[g]==e){e=!0;break a}f.Vd.push(e);e=!1}return!0===e?!1:!0===Ue(a,b+1,c,d,f)||!0===Ue(a,b-1,c,d,f)||!0===Ue(a,b,c+1,d,f)||!0===Ue(a,b,c-1,d,f)?!0:!1}function Te(a,b,c,d,f){b>a.B||1>b||c>a.H||1>c||d!==a.D(b,c)||(!0!==Ve(a,b,c,d,f)&&(f.ld=f.ld.concat(f.Vd)),f.Vd=[])}q.Ge=function(a){for(var b=0,c=0,d=1;d<=this.H;d++)for(var f=1;f<=this.B;f++){var e=null,g=this.Jb[ya(this,f,d)];F===g?(e=new ta(f,d,Sa,""),G===this.D(f,d)?b+=2:b++):G===g&&(e=new ta(f,d,Ta,""),F===this.D(f,d)?c+=2:c++);null===e?a.rb(f,d):a.Da(e)}return{Pc:b,ed:c}};function We(a,b,c){if(!(b>a.B||1>b||c>a.H||1>c)){var d=a.D(b,c);if(I!==a.D(b,c))switch(b=a.ja.fe,b){case I:a.ja.fe=d;break;case F:case G:b!==d&&(a.ja.fe=3)}else!1===a.ja.qc(b,c)&&(We(a,b+1,c),We(a,b-1,c),We(a,b,c+1),We(a,b,c-1))}}function lb(a,b,c,d){b>a.B||1>b||c>a.H||1>c||(3-d===a.D(b,c)?d===a.Jb[ya(a,b,c)]&&a.of.qc(b,c):!0!==a.ja.qc(b,c)&&(lb(a,b+1,c,d),lb(a,b-1,c,d),lb(a,b,c+1,d),lb(a,b,c-1,d)))}function mb(a,b,c,d){if(!(b>a.B||1>b||c>a.H||1>c)&&3-d!==a.D(b,c)){if(d===a.D(b,c)){var f=a.of,e=(c<<8)+b;void 0!==f.cb[e]&&delete f.cb[e]}!0!==a.ja.qc(b,c)&&(mb(a,b+1,c,d),mb(a,b-1,c,d),mb(a,b,c+1,d),mb(a,b,c-1,d))}}function za(a,b){for(var c=1;c<=a.H;c++)for(var d=1;d<=a.B;d++)I===a.D(d,c)&&(I===a.Jb[ya(a,d,c)]||!0===b&&3===a.Jb[ya(a,d,c)])&&(a.ja.xa(),We(a,d,c),nb(a.ja,a))}function Ba(a,b){var c;a.qa=[];for(var d=0;d<=a.H+1;d++){a.qa[d]=[];for(var f=0;f<=a.B+1;f++)if(0===f||a.B+1===f||0===d||a.H+1===d){a.qa[d][f]=0;c=a;for(var e=f,g=d,h=100,l=[],k=e-4;k<=e+4;k++)for(var m=g-4;m<=g+4;m++)if(!(1>k||k>c.B||1>m||m>c.H||4<Math.abs(e-k)+Math.abs(g-m))){var n=Na(c,k,m);if(I!==n){var u=Math.abs(e-k)+Math.abs(g-m);u<h?(h=u,l=[],l.push({f:k,g:m,Ud:n})):u===h&&l.push({f:k,g:m,Ud:n})}}c=l;e=c.length;if(0<e){h=g=!1;for(l=0;l<e;l++)F===c[l].Ud&&(h=!0),G===c[l].Ud&&(g=!0);if(!0!==g||!0!==h)a.qa[d][f]=g?-128:128}}else c=Na(a,f,d),a.qa[d][f]=F===c?128:G===c?-128:0}for(d=0;5>d;d++){f=a;c=[];for(e=0;e<=f.H+1;e++)for(c[e]=[],g=0;g<=f.B+1;g++){m=[];m[0]=0<g?f.qa[e][g-1]:0;m[1]=g<f.B+1?f.qa[e][g+1]:0;m[2]=0<e?f.qa[e-1][g]:0;m[3]=e<f.H+1?f.qa[e+1][g]:0;h=0;k=l=!1;for(n=0;4>n;n++)0<m[n]?(l=!0,h++):0>m[n]&&(k=!0,h--);m=f.qa[e][g];c[e][g]=0<=m&&!1===k||0>=m&&!1===l?m+h:m}f.qa=c}for(d=0;3>d;d++)Xe(a);c=f=0;for(d=1;d<=a.H;d++)for(e=1;e<=a.B;e++)g=null,h=a.qa[d][e],0<h&&F!==a.D(e,d)?(g=new ta(e,d,Sa,""),G===a.D(e,d)?f+=2:f++):0>h&&G!==a.D(e,d)&&(g=new ta(e,d,Ta,""),F===a.D(e,d)?c+=2:c++),null===g?b.rb(e,d):b.Da(g);for(d=0;23>d;d++)Xe(a);k=l=0;for(d=1;d<=a.H;d++)for(e=1;e<=a.B;e++)g=null,h=a.qa[d][e],0<h&&F!==a.D(e,d)?(g=new ta(e,d,Ua,""),G===a.D(e,d)?l+=2:l++):0>h&&G!==a.D(e,d)&&(g=new ta(e,d,Va,""),F===a.D(e,d)?k+=2:k++),null!==g&&b.Da(g);return{mi:l,li:f,rj:k,qj:c}}function tb(a,b,c,d){1>b||b>a.B||1>c||c>a.H||!1!==d.qc(b,c,a.D(b,c))||(tb(a,b+1,c,d),tb(a,b-1,c,d),tb(a,b,c+1,d),tb(a,b,c-1,d),1<b&&1<c&&I===a.D(b-1,c)&&I===a.D(b,c-1)&&tb(a,b-1,c-1,d),b<a.B&&1<c&&I===a.D(b+1,c)&&I===a.D(b,c-1)&&tb(a,b+1,c-1,d),b<a.B&&c<a.H&&I===a.D(b+1,c)&&I===a.D(b,c+1)&&tb(a,b+1,c+1,d),1<b&&c<a.H&&I===a.D(b-1,c)&&I===a.D(b,c+1)&&tb(a,b-1,c+1,d))}function Na(a,b,c){return void 0===a.cc||void 0===a.cc[c]||void 0===a.cc[c][b]?I:a.cc[c][b]}function Aa(a,b,c,d){void 0===a.cc&&(a.cc=[]);void 0===a.cc[c]&&(a.cc[c]=[]);a.cc[c][b]=d}function Xe(a){for(var b=[],c=0;c<=a.H+1;c++){b[c]=[];for(var d=0;d<=a.B+1;d++){var f=[];f[0]=0<d?a.qa[c][d-1]:null;f[1]=d<a.B+1?a.qa[c][d+1]:null;f[2]=0<c?a.qa[c-1][d]:null;f[3]=c<a.H+1?a.qa[c+1][d]:null;for(var e=0,g=0,h=0;4>h;h++)null!==f[h]&&(0<=f[h]&&e++,0>=f[h]&&g--);f=a.qa[c][d];b[c][d]=0<f&&0!==g?Math.max(f+g,0):0>f&&0!==e?Math.min(f+e,0):f}}a.qa=b};function De(){this.xf=this.ba=null;this.d=this.Oa=0;this.v()}De.prototype.v=function(){var a=document.createElement("canvas").getContext("2d");this.Oa=5242880;this.xf=a.createImageData(this.Oa/4,1);this.ba=this.xf.data;this.d=0};function Ye(a,b){if(a.d+b>=a.Oa){var c=document.createElement("canvas").getContext("2d"),d=a.ba;a.Oa*=2;a.xf=c.createImageData(a.Oa/4,1);a.ba=a.xf.data;for(var c=a.ba,f=0;f<a.zl;f++)c[f]=d[f]}}function Ce(a){for(var b=new Uint8Array(a.d),c=0;c<a.d;c++)b[c]=a.ba[c];return b}function Z(a,b){Ye(a,1);a.ba[a.d++]=b}function Ee(a,b){var c=b.length;Ye(a,c);for(var d=0;d<c;d++)a.ba[a.d++]=b.charCodeAt(d)}function Le(a,b,c,d){c=c||0;d=d||b.length;for(Ye(a,d-c);c<d;c++)a.ba[a.d++]=b[c]}function Fe(a,b){Ye(a,2);a.ba[a.d++]=b&255;a.ba[a.d++]=b>>8&255}function Ge(a,b){Ye(a,4);a.ba[a.d++]=b&255;a.ba[a.d++]=b>>8&255;a.ba[a.d++]=b>>16&255;a.ba[a.d++]=b>>24&255}function he(a,b){this.ba=a;this.Ia=b;this.d=0}function je(a){return a.d+1>=a.Ia?0:a.ba[a.d++]|a.ba[a.d++]<<8}function ke(a){return a.d+3>=a.Ia?0:a.ba[a.d++]|a.ba[a.d++]<<8|a.ba[a.d++]<<16|a.ba[a.d++]<<24}function ie(a,b){if(a.d+b>a.Ia)return"";for(var c=[],d=0;d<b;d++)c.push(String.fromCharCode(a.ba[a.d+d]));a.d+=b;return c.join("")};function Ze(a,b){this.Nb=a;this.I=b}q=Ze.prototype;q.Sc=function(){return S(this.Nb).f};q.Tc=function(){return S(this.Nb).g};q.ta=function(){return this.Nb};q.Ue=function(a){this.Nb=a};q.Gb=function(a){this.I=a};function $e(){this.zj=0}$e.prototype.$b=function(){this.zj=0};var de=new $e;function $d(){this.Qj=++de.zj+"";this.la=[];this.ca=-1;this.Y=null;this.ia=[];this.Bb=new Ze(0,I);this.Ka="";this.ib=new af;this.Ra={f:-1,g:-1,Tg:-1};this.gf=!1;this.Aa={}}function le(a,b){if(b===a.Qj)return a;for(var c=0,d=T(a);c<d;c++){var f=le(a.la[c],b);if(null!==f)return f}return null}function ae(a,b){var c=new $d;c.ia=a.ia;0<a.la.length&&a!==b&&(c.la[0]=ae(a.la[a.ca],b),c.ca=0,c.la[0].Y=c);return c}q=$d.prototype;q.Kd=function(){return!0};q.xa=function(){this.la=[];this.ca=-1;this.ia=[];this.Bb=new Ze(0,I);this.Ka="";this.ib=new af};q.V=function(a){return void 0!==this.la[a]?this.la[a]:this.la[this.ca]};function se(a,b){a.ca=b>=a.la.length?a.la.length-1:b}function T(a){return a.la.length}q.Xc=function(){return I===this.Bb.I?!1:!0};q.ze=function(a){this.Ka+=a};q.Te=function(a){this.Ka=a};q.Rf=function(a,b){this.ib.cb[""+a]=b};q.hg=function(){this.ib.cb={}};q.xg=function(){for(var a=this;0<T(a);)se(a,0),a=a.V(0)};function Lc(a){for(;0<T(a);)a=a.V(0);return a}function ce(a){for(var b=!1,c=a.Y;null!=c;){for(var d=!1,f=0,e=T(c);f<e;f++)if(a===c.V(f)){f!==c.ca&&(b=!0);se(c,f);d=!0;break}if(!d)return!1;a=c;c=c.Y}return b}function re(a){for(var b=null;null!==(b=a.Y);){if(0!=b.ca)return!1;a=b}return!0}q.Yc=function(){for(var a=this,b=null;null!=(b=a.Y);){if(b.V(b.ca)!=a)return!1;a=b}return!0};q.$a=function(a,b,c){a=(b<<8)+a;this.ia.push(new Ld(F===c?1:2,a));I===this.Bb.I&&(this.Bb.Ue(a),this.Bb.Gb(c))};q.Oc=function(a,b){var c=new Ld(F===a?257:G===a?258:259,Od(b),b.length);this.ia.push(c)};q.Da=function(a,b){var c=0;switch(a){case Wa:c=529;break;case ua:return;case Xa:c=531;break;case Ya:c=532;break;case Ra:c=533;break;case Za:c=530;break;case 513:c=513}c=new Ld(c,Od(b),b.length);this.ia.push(c)};q.Bd=function(a,b){this.ia.push(new Ld(533,{Text:a,Ni:b}))};q.Pd=function(a){this.ia.push(new Ld(260,a))};q.Pf=function(a){this.ia.push(new Ld(769,a))};q.Sf=function(a){this.ia.push(new Ld(770,a))};q.Qd=function(a,b){b.a.We.e.a.getContext("2d").clearRect(0,0,b.b.O,b.b.G);switch(a){case Xd:bf(this,b,-1);break;case 1:var c=this.Y;null!==c&&bf(c,b,this.Bb.ta())}};function ib(a){for(var b=1,c=null;null!==(c=a.Y);)b++,a=c;return b}function bf(a,b,c){if(b)for(var d=0,f=T(a);d<f;d++){var e=a.V(d).Bb;if(I!==e.I&&c!==e.ta()){var g=S(e.ta()),e=b,h=g.f,l=g.g;if(e.b.R){var g=(e.b.bb/2-1)/2,k=e.b.R;!0===sa(e,h-1,l-1)&&(h=k[h-1].f,l=k[l-1].g,k=e.a.We.e.a.getContext("2d"),k.fillStyle=R(e.Pk),k.beginPath(),k.arc(h,l,g,0,2*Math.PI,!1),k.fill())}}}}function be(a,b){-1!==a.Ka.indexOf("RIGHT")&&b.push(a);for(var c=0,d=T(a);c<d;c++)be(a.V(c),b)}q.Qf=function(a,b,c){this.Aa[(b<<8)+a]=c};q.Wg=function(a,b){delete this.Aa[(b<<8)+a]};q.Vg=function(){this.Aa={}};function ve(a,b){ab(b);for(var c in a.Aa)b.Ja[c]=a.Aa[c];Ka(b)}q.ig=function(){this.Aa={};if(null!==this.Y){var a=this.Y.Aa,b;for(b in a)this.Aa[b]=a[b].Qc()}};function cf(a,b){for(var c in a.Aa)b[Nd(a.Aa[c])]=!0;c=0;for(var d=T(a);c<d;c++)cf(a.la[c],b)}q.Pg=function(){for(var a=this,b=this.ca,c=this.V(b);null!==c&&void 0!==c;)0!==b&&(a.la.splice(b,1),a.la.splice(0,0,c),se(a,0)),a=c,b=a.ca,c=a.V(b)};var df=0;function ge(a){this.c=a;this.u=[];this.wd=this.d=0;this.uh=[];this.Kb=!0;this.Oa=0;this.j={L:100,M:100,S:-1,T:-1};this.Fk=df;this.Xa=null}ge.prototype.Ng=function(a){void 0!==a&&""!==a&&(this.u=[],this.wd=this.d=0,this.uh=[],this.Kb=!0,this.Oa=0,this.Mf(a),ef(this)||alert("Error occurs, while read SGF"))};ge.prototype.Mf=function(a){for(var b=0,c=a.length,d=[],f=!1;b<c;){(f||32<a.charCodeAt(b))&&d.push(a.charAt(b));if(3<=d.length&&"["==d[d.length-1]){var e=d[d.length-3]+d[d.length-2];if("C"==d[d.length-2]&&"UC"!=e||"AN"==e||"BR"==e||"BT"==e||"CP"==e||"DT"==e||"EV"==e||"GN"==e||"GC"==e||"ON"==e||"OT"==e||"PB"==e||"PC"==e||"PW"==e||"RE"==e||"RO"==e||"RU"==e||"SO"==e||"TM"==e||"US"==e||"WR"==e||"WT"==e)f=!0}else f&&1<=d.length&&"]"==d[d.length-1]&&(2>d.length||"\\"!=d[d.length-2])&&(f=!1);b++}this.u=d;this.Oa=this.u.length};function ef(a){a.c.$b();if("("===a.u[0]&&";"===a.u[1])for(a.d++;a.d<a.Oa&&(")"!==a.u[a.d]||0!==a.wd);){var b=a.u[a.d];if(";"===b){1!=a.d?ob(a.c,!1,!1):a.c.i=a.c.Z;a.c.i.gf=!0;a:{b=a;b.d++;for(var c=b.u[b.d],d=b.u[b.d+1];void 0!==c&&")"!==c&&";"!==c&&"("!==c;){switch(c){case "A":switch(d){case "B":ff(b,F);break;case "E":ff(b,I);break;case "W":ff(b,G);break;case "N":c=b;c.d+=3;d=gf(c);c.c.ne=d;break;case "P":c=b;c.d+=3;gf(c);break;default:hf(b)}break;case "B":switch(d){case "[":jf(b,F);break;case "R":c=b;c.d+=3;jd(c.c,gf(c));break;case "T":c=b;c.d+=3;d=gf(c);c.c.Pj=d;break;case "L":c=b;c.d+=3;c.c.Pf(kf(c));break;default:hf(b)}break;case "C":switch(d){case "[":c=b;c.d+=2;for(d="";"]"!==c.u[c.d]||"\\"===c.u[c.d-1];)"]"===c.u[c.d+1]&&"\\"===c.u[c.d]?(d+="]",c.d++):d+=c.u[c.d],c.d++;c.d++;switch(c.Fk){case 1:for(var f="",e=0,g=0,h=0,l=0,k=d.length;e<k;)g=d.charCodeAt(e),128>g?(f+=String.fromCharCode(g),e++):191<g&&224>g?(h=d.charCodeAt(e+1),f+=String.fromCharCode((g&31)<<6|h&63),e+=2):(h=d.charCodeAt(e+1),l=d.charCodeAt(e+2),f+=String.fromCharCode((g&15)<<12|(h&63)<<6|l&63),e+=3);d=f}c.c.ze(d);break;case "A":c=b;c.d+=3;gf(c);break;case "P":c=b;c.d+=3;d=gf(c);c.c.me=d;break;case "R":lf(b,Wa);break;case "T":c=b;c.d+=3;d=gf(c);if(""!==d&&(d=Wd(d),d=new he(d,d.length),"SGFCT"===ie(d,5)))for(je(d),f=ke(d),c.Xa=[],e=0;e<f;e++)h=ke(d),c.Xa[e]=new B(0,0,0,0),g=c.Xa[e],g.o=h>>24&255,g.q=h>>16&255,g.p=h>>8&255,g.Ha=h&255;break;case "M":c=b;c.d+=3;d=gf(c);if(""!==d&&(d=Wd(d),d=new he(d,d.length),"SGFCM"===ie(d,5)))for(je(d),f=je(d),e=je(d),g=c.c.i,g.Aa={},h=0;h<e;h++)for(l=0;l<f;l++)k=d.d>=d.Ia?0:d.ba[d.d++],void 0!==c.Xa[k]&&0!==c.Xa[k].Ha&&(g.Aa[(h+1<<8)+(l+1)]=c.Xa[k].Qc());break;default:hf(b)}break;case "D":switch(d){case "T":c=b;c.d+=3;d=gf(c);c.c.Gc=d;break;default:hf(b)}break;case "E":switch(d){case "V":c=b;c.d+=3;d=gf(c);c.c.yd=d;break;default:hf(b)}break;case "F":switch(d){case "F":hf(b);break;default:hf(b)}break;case "G":switch(d){case "N":c=b;c.d+=3;d=gf(c);c.c.jc=d;break;case "C":c=b;c.d+=3;d=gf(c);c.c.ic=d;break;case "M":c=b;c.d+=3;1!==mf(c)&&(c.Kb=!1);break;default:hf(b)}break;case "H":switch(d){case "A":c=b;c.d+=3;d=mf(c);c.c.gb=d;break;default:hf(b)}break;case "K":switch(d){case "M":c=b;c.d+=3;d=kf(c);c.c.ec=d;break;default:hf(b)}break;case "L":switch(d){case "B":c=b;for(c.d+=3;;){d=c.u[c.d];c.d++;f=c.u[c.d];c.d++;d=d.charCodeAt(0)-96;f=f.charCodeAt(0)-96;c.d++;for(e="";"]"!==c.u[c.d]&&c.d<c.Oa;)e+=c.u[c.d],c.d++;nf(c,d,f);c.c.Bd(e,(f<<8)+d);if("]"!==c.u[c.d]){c.Kb=!1;break}c.d++;if("["!==c.u[c.d])break;c.d++}break;default:hf(b)}break;case "M":switch(d){case "A":lf(b,Za);break;default:hf(b)}break;case "O":switch(d){case "N":c=b;c.d+=3;d=gf(c);c.c.oe=d;break;case "T":c=b;c.d+=3;d=gf(c);c.c.se=d;break;default:hf(b)}break;case "P":switch(d){case "B":c=b;c.d+=3;id(c.c,gf(c));break;case "C":c=b;c.d+=3;d=gf(c);c.c.zd=d;break;case "W":c=b;c.d+=3;kd(c.c,gf(c));break;case "L":c=b;c.d+=3;"W"===gf(c)?c.c.Pd(G):c.c.Pd(F);break;default:hf(b)}break;case "R":switch(d){case "E":c=b;c.d+=3;d=gf(c);c.c.La=d;break;case "O":c=b;c.d+=3;d=gf(c);c.c.pe=d;break;case "U":c=b;c.d+=3;d=gf(c);c.c.te=d;break;default:hf(b)}break;case "S":switch(d){case "Q":lf(b,Xa);break;case "T":c=b;c.d+=3;switch(mf(c)){case 0:Nb(c.c,Xd);break;case 1:Nb(c.c,1);break;default:Nb(c.c,0)}break;case "Z":c=b;c.d+=3;d=mf(c);0>=d&&(d=19);we(c.c,d,d);break;case "O":c=b;c.d+=3;d=gf(c);c.c.qe=d;break;default:hf(b)}break;case "T":switch(d){case "R":lf(b,Ya);break;case "M":c=b;c.d+=3;d=gf(c);c.c.he=d;break;case "B":of(b,F);break;case "W":of(b,G);break;default:hf(b)}break;case "U":switch(d){case "S":c=b;c.d+=3;d=gf(c);c.c.re=d;break;default:hf(b)}break;case "W":switch(d){case "[":jf(b,G);break;case "R":c=b;c.d+=3;ld(c.c,gf(c));break;case "T":c=b;c.d+=3;d=gf(c);c.c.Rj=d;break;case "L":c=b;c.d+=3;c.c.Sf(kf(c));break;default:hf(b)}break;default:hf(b)}if(!b.Kb){b=!1;break a}c=b.u[b.d];d=b.u[b.d+1]}b=!0}if(!b)return!1}else if("("===b)a.uh[a.wd]=a.c.i,a.wd++,a.d++;else if(")"===b)a.wd--,a.c.i=a.uh[a.wd],a.d++;else return!1}else return!1;return!0}function gf(a,b){void 0===b&&(b="]");for(var c="";void 0!==a.u[a.d]&&b!==a.u[a.d];)c+=a.u[a.d],a.d++;void 0===a.u[a.d]&&(a.Kb=!1);a.d++;return c}function kf(a){a=parseFloat(gf(a,void 0));return isNaN(a)?0:a}function mf(a){a=parseInt(gf(a,void 0));return isNaN(a)?0:a}function hf(a){for(;;){for(;void 0!==a.u[a.d]&&"]"!==a.u[a.d]&&a.d<a.Oa;)for(a.d++;"]"===a.u[a.d]&&"\\"===a.u[a.d-1];)a.d++;a.d++;if("["!==a.u[a.d])break}}function ff(a,b){a.d+=3;var c=[];if("]"!==a.u[a.d]){for(;;){var d=a.u[a.d];a.d++;var f=a.u[a.d];a.d++;var e=d.charCodeAt(0)-96,g=f.charCodeAt(0)-96;if(":"===a.u[a.d])for(a.d++,d=a.u[a.d],a.d++,f=a.u[a.d],a.d++,d=d.charCodeAt(0)-96,f=f.charCodeAt(0)-96;g<=f;g++)for(var h=e;h<=d;h++)nf(a,h,g),c.push((g<<8)+h);else nf(a,e,g),c.push((g<<8)+e);if("]"!==a.u[a.d]){a.Kb=!1;return}a.d++;if("["!==a.u[a.d])break;a.d++}a.c.Oc(b,c)}}function jf(a,b){a.d+=2;if("]"==a.u[a.d])a.c.$a(0,0,b);else{var c=a.u[a.d];a.d++;var d=a.u[a.d];a.d++;var f=a.c.fa.$();if("t"===c&&"t"===d&&19>=f.f&&19>=f.g)a.c.$a(0,0,b);else for(c=c.charCodeAt(0)-96,d=d.charCodeAt(0)-96,nf(a,c,d),a.c.$a(c,d,b);"]"!==a.u[a.d];)if(a.d++,a.d>=a.Oa){a.Kb=!1;break}}a.d++}function lf(a,b){a.d+=3;var c=[];if("]"!==a.u[a.d]){for(;;){var d=a.u[a.d];a.d++;var f=a.u[a.d];a.d++;var e=d.charCodeAt(0)-96,g=f.charCodeAt(0)-96;if(":"===a.u[a.d])for(a.d++,d=a.u[a.d],a.d++,f=a.u[a.d],a.d++,d=d.charCodeAt(0)-96,f=f.charCodeAt(0)-96;g<=f;g++)for(var h=e;h<=d;h++)nf(a,h,g),c.push((g<<8)+h);else nf(a,e,g),c.push((g<<8)+e);if("]"!==a.u[a.d]){a.Kb=!1;return}a.d++;if("["!==a.u[a.d])break;a.d++}a.c.Da(b,c)}}function of(a,b){a.d+=3;var c=[];if("]"!==a.u[a.d]){for(;;){var d=a.u[a.d];a.d++;var f=a.u[a.d];a.d++;var e=d.charCodeAt(0)-96,g=f.charCodeAt(0)-96;if(":"===a.u[a.d])for(a.d++,d=a.u[a.d],a.d++,f=a.u[a.d],a.d++,d=d.charCodeAt(0)-96,f=f.charCodeAt(0)-96;g<=f;g++)for(var h=e;h<=d;h++)c.push((g<<8)+h);else c.push((g<<8)+e);if("]"!==a.u[a.d]){a.Kb=!1;return}a.d++;if("["!==a.u[a.d])break;a.d++}a.c.Rf(b,c)}}function nf(a,b,c){b<a.j.L&&(a.j.L=b);b>a.j.S&&(a.j.S=b);c<a.j.M&&(a.j.M=c);c>a.j.T&&(a.j.T=c)}function pf(a){this.c=a;this.hc=[];this.Ia=this.d=0}pf.prototype.Mf=function(a){for(var b=a.length,c=[],d=0;d<b;)c.push(a.charAt(d++));this.d=0;this.hc=c;this.Ia=this.hc.length};function qf(a){a.c.$b();a.c.i=a.c.Z;a.c.i.gf=!0}function rf(a){return a.d>=a.Ia?-1:a.hc[a.d++]}function sf(a){for(var b="",c=null;-1!==c&&"\n"!==c;)c=rf(a),b+=c;return b}function tf(a){return a.d>=a.Ia?!0:!1}function fe(a){fe.ha.constructor.call(this,a);this.vd=this.gb=0;this.sd=19}gd(fe,pf);fe.prototype.Ng=function(a){this.Mf(a);qf(this);this.di();if(!(1>=this.gb)){a=[];var b=[];19===this.sd?b=[4,10,16]:13===this.sd?b=[4,7,10]:9===this.sd&&(b=[3,5,7]);if(3===b.length)switch(this.gb){case 2:a=[[b[2],b[0]],[b[0],b[2]]];break;case 3:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]]];break;case 4:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]]];break;case 5:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[1],b[1]]];break;case 6:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]]];break;case 7:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[1]]];break;case 8:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]]];break;case 9:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]],[b[1],b[1]]]}if(0<a.length){for(var b=[],c=0,d=a.length;c<d;c++)b.push((a[c][1]<<8)+a[c][0]);this.c.Oc(F,b)}}this.ci()};fe.prototype.di=function(){var a=sf(this);this.c.ic=a;this.sd=sf(this)|0;we(this.c,this.sd,this.sd);uf(this,!1);uf(this,!0);sf(this);a=sf(this);this.gb=Math.min(9,Math.max(a|0,0));this.c.gb=this.gb;sf(this);a=sf(this);this.c.ec=parseFloat(a);a=sf(this);this.c.Gc=a;sf(this);a=sf(this);this.c.La=a;this.vd=sf(this)|0};fe.prototype.ci=function(){if(!tf(this))for(var a=0;a<this.vd;a++){ob(this.c,!1,!1);this.c.i.gf=!0;if("PM"===rf(this)+rf(this)){rf(this);rf(this);var b="B"===rf(this)?F:G,c=rf(this),d=rf(this),c=c.charCodeAt(0)-65,d=d.charCodeAt(0)-65;0>c||0>d?this.c.$a(0,0,b):this.c.$a(c,d,b)}sf(this);if(tf(this))break}};function uf(a,b){var c=sf(a),d=c.indexOf(" "),f="",e="";-1!==d?(f=c.substr(0,d).replace(/\s+/g,""),e=c.substr(d).replace(/\s+/g,"")):f=c.replace(/\s+/g,"");!0===b?(id(a.c,f),jd(a.c,e)):(kd(a.c,f),ld(a.c,e))}function ee(a){ee.ha.constructor.call(this,a)}gd(ee,pf);ee.prototype.Ng=function(a){this.Mf(a);qf(this);!1!==this.di()&&this.ci()};ee.prototype.di=function(){for(var a=-1;"\\"!==a;){if(tf(this))return!1;a=rf(this)}a=rf(this)+rf(this);if("GS"===a)return this.d-=3,!0;if("HS"!==a)return!1;for(;;){for(a=-1;"\\"!==a;){if(tf(this))return!1;a=rf(this)}a=rf(this);if("H"===a){if("E"!==rf(this))break;return!0}if("["!==a)break;for(var b="";;){if(tf(this))return!1;a=rf(this);if("="===a)break;b+=a}for(var c="";;){if(tf(this))return!1;a=rf(this);if("\\"===a){if("]"===rf(this))break;return!1}c+=a}switch(b){case "WUSERINFO":case "BUSERINFO":case "GAMEINFOMAIN":case "GAMEINFOSUB":for(var b=a=null,d=[],f=-1;-1!==(f=c.indexOf(","));){var e=c.substr(0,f),g=e,h="",l=-1;-1!==(l=e.indexOf(":"))&&(g=e.substr(0,l),h=e.substr(l+1));d.push({Me:g,Ud:h});c=c.substr(f+1)}f=0;for(c=d.length;f<c;f++)switch(e=d[f].Ud,d[f].Me){case "WNICK":kd(this.c,e);break;case "BNICK":id(this.c,e);break;case "WLV":ld(this.c,vf(e));break;case "BLV":jd(this.c,vf(e));break;case "GNAME":this.c.yd=e;break;case "GDATE":this.c.Gc=e;break;case "GPLC":this.c.zd=e;break;case "GCMT":this.c.ic=e;break;case "GONGJE":this.c.ec=(e|0)/10;break;case "GRLT":a=e;break;case "ZIPSU":b=e}if(null!==a)switch(a){case "0":this.c.La="Black "+(b|0)/10+" win";break;case "1":this.c.La="White "+(b|0)/10+" win";break;case "3":this.c.La="Black wins by resignation";break;case "4":this.c.La="White wins by resignation";break;case "255":this.c.La="Unfinished"}}}return!1};ee.prototype.ci=function(){for(var a=-1;"\\"!==a;){if(tf(this))return!1;a=rf(this)}a=rf(this)+rf(this);if("GS"!==a)return!1;sf(this);sf(this);for(sf(this);!tf(this);){var b=sf(this);if(-1!==b.indexOf("\\GE"))return!0;var c,a=[];for(c=-1;-1!==(c=b.indexOf(" "));)a.push(b.substr(0,c)),b=b.substr(c+1);c=a;if(0>=c.length)return!1;a=c[0];if("INI"===a)5<=c.length&&(this.c.ic=c[4]);else if("STO"===a){if(6!==c.length)return!1;ob(this.c,!1,!1);this.c.i.yl=!0;this.c.$a((c[4]|0)+1,(c[5]|0)+1,"1"===c[3]?F:G)}}};function vf(a){a=a|0;return 18>a?18-a+"k":26<a?a-26+"p":a-17+"d"};function me(){this.Xa=this.c=this.hc=null}function wf(a,b){a.hc+=b}function xf(a,b){var c=S(b);wf(a,String.fromCharCode(91,c.f+96,c.g+96,93))}function yf(a,b){for(var c=0,d=b.length;c<d;c++)xf(a,b[c])}function zf(a,b,c){wf(a,b);wf(a,"["+c+"]")}function Af(a,b,c){c&&""!==c&&zf(a,b,c)}function ne(a,b){var c=b.Y,d=!1;if(null===c||1<T(c))d=!0;d&&wf(a,"(");wf(a,";");if(b===a.c.Z){c=a.c;zf(a,"GM",1);zf(a,"FF",4);zf(a,"CA","UTF-8");zf(a,"AP","goban.org");zf(a,"ST",c.rd);Af(a,"RU",c.te);zf(a,"SZ",c.fa.$().f);zf(a,"KM",c.ec);zf(a,"HA",c.gb);Af(a,"TM",c.he);Af(a,"OT",c.se);Af(a,"RE",c.La);Af(a,"GN",c.jc);Af(a,"DT",c.Gc);Af(a,"CP",c.me);Af(a,"GC",c.ic);Af(a,"PB",c.Fc);Af(a,"BR",c.zf);Af(a,"BT",c.Pj);Af(a,"PW",c.Hc);Af(a,"WR",c.Df);Af(a,"WT",c.Rj);Af(a,"EV",c.yd);Af(a,"RO",c.pe);Af(a,"PC",c.zd);Af(a,"AN",c.ne);Af(a,"ON",c.oe);Af(a,"SO",c.qe);Af(a,"US",c.re);c={};cf(a.c.Z,c);var f=1,e=[],g;for(g in c)c[g]=f,e[f++]=g|0;1<f&&(c[0]=0,e[0]=0,a.Xa=c,a.fi(e))}g=[];for(var c=[],f=[],e=0,h=b.ia.length;e<h;e++){var l=b.ia[e],k=l.I,l=l.ta();switch(k){case 257:case 258:case 259:for(var m=0,n=l.length;m<n;m++){for(var u=l[m],p=0,r=g.length;p<r;p++)u===g[p]&&(g.splice(p,1),r--,p--);p=0;for(r=c.length;p<r;p++)u===c[p]&&(c.splice(p,1),r--,p--);p=0;for(r=f.length;p<r;p++)u===f[p]&&(f.splice(p,1),r--,p--);257===k?g.push(u):258===k?c.push(u):259===k&&f.push(u)}}}0<g.length&&(wf(a,"AB"),yf(a,g));0<c.length&&(wf(a,"AW"),yf(a,c));0<f.length&&(wf(a,"AE"),yf(a,f));g=0;for(c=b.ia.length;g<c;g++)switch(e=b.ia[g],f=e.ta(),e.I){case 1:wf(a,"B");xf(a,f);break;case 2:wf(a,"W");xf(a,f);break;case 769:wf(a,"BL");wf(a,"["+f+"]");break;case 770:wf(a,"WL");wf(a,"["+f+"]");break;case 513:wf(a,"RM");yf(a,f);break;case 529:wf(a,"CR");yf(a,f);break;case 530:wf(a,"MA");yf(a,f);break;case 531:wf(a,"SQ");yf(a,f);break;case 532:wf(a,"TR");yf(a,f);break;case 533:wf(a,"LB");wf(a,"[");e=a;h=S(f.Ni);wf(e,String.fromCharCode(h.f+96,h.g+96));wf(a,":"+f.Text+"]");break;case 260:wf(a,"PL"),wf(a,"["+(f===G?"W":"B")+"]")}g=b.Ka;""!==g&&(g=g.replace(RegExp("]","g"),"\\]"),wf(a,"C"),wf(a,"["),wf(a,g),wf(a,"]"));if(null!==a.Xa){g=new De;Ee(g,"SGFCM");Fe(g,1);f=a.c.fa.$();c=f.f;f=f.g;Fe(g,c);Fe(g,f);e=!1;for(h=0;h<f;h++)for(k=0;k<c;k++)(l=b.Aa[(h+1<<8)+(k+1)])?(l=Nd(l),void 0!==a.Xa[l]?(Z(g,a.Xa[l]),e=!0):Z(g,0)):Z(g,0);!0===e&&(g=Ud(Ce(g)),zf(a,"CM",g))}g=0;for(c=T(b);g<c;g++)ne(a,b.V(g));d&&wf(a,")")}me.prototype.fi=function(a){var b=new De;Ee(b,"SGFCT");Fe(b,1);Ge(b,a.length);for(var c=0,d=a.length;c<d;c++)Ge(b,a[c]);a=Ud(Ce(b));zf(this,"CT",a)};function af(){this.Ac=!1;this.cb={}};W.prototype.sk="0.9.51";}());