/*
 * Copyright (C) 2014-2015  Ilya Kirillov 
 * email: ilya_kirillov@inbox.ru
 *  
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 3.0 of the License, or (at your option) any later version.
 * 
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 * 
 * Version 0.9.57
*/
(function(){var q;function aa(a){this.i=a;this.P=this.c=null;this.ma=0;this.ib=y.ib;this.hi=this.Pf=this.ve=this.Gd=this.Hd=0;this.Ie={};this.ab=null;this.Kf=!1;this.b={M:0,F:0,$j:0,jj:0,gb:0,xb:0,lj:2,S:null,kj:null,V:null,af:null,ne:[],ck:Array(361),cf:null,Cf:null,Ch:null,Bd:null,Cd:null,Lj:null,Mj:null,Dj:null,Ej:null,Gj:null,Ij:null,Hj:null,Jj:null,qj:null,Ng:null,Og:null,Aj:null,ij:null,Yi:null,Ui:null};this.Cl=new A(255,0,0,128);this.a={e:null,V:{e:null},S:{e:null},Mc:{e:null},ff:{e:null},Ba:{e:null},Af:{e:null},eb:{e:null},xd:{e:null},Pb:{e:null},Event:{e:null},ph:[]};this.Hb={f:-1,g:-1};this.Qa={};this.Ca={};this.Wf=-1;this.k={N:0,O:0,T:18,U:18};this.ga={Lc:!1,xf:-1,yf:-1,kd:-1,ld:-1};this.Wc=this.Pd=null;this.se=!1;var b=this;this.qg=function(a){ba(a);a=b.Td(C.f,C.g);a=ca(b,a.f,a.g);da(b,a.f,a.g,!1);if(11===b.ma){var d=a.g;!0===b.ga.Lc&&(b.ga.kd=a.f,b.ga.ld=d)}ea(b)};this.Ye=function(a){ba(a);!0===b.se&&(b.se=!1,b.rg(a));fa(b)};this.Xe=function(a){ga(a);b.se=!0;b.a.Event.e.a.focus();var d=b.Td(C.f,C.g),d=ca(b,d.f,d.g);b.Oi(d.f,d.g,C);a.preventDefault();return!1};this.rg=function(a){ba(a);b.se=!1;var d=b.Td(C.f,C.g),d=ca(b,d.f,d.g);11===b.ma&&(a=d.f,d=d.g,!0===b.ga.Lc&&(b.ga.Lc=!1,b.ga.kd=a,b.ga.ld=d));ea(b)};this.Rl=function(a){ha(a);var d=!1;16===ia.C&&2===b.ma?(C.s=!0,b.ob(),d=!0):16!==ia.C&&17!==ia.C||10!==b.ma?(d=ja(b,ia),!0===d&&fa(b)):(16===ia.C?C.s=!0:17===ia.C&&(C.q=!0),b.ob(),d=!0);!0===d&&a.preventDefault();return d?!1:!0};this.Tl=function(a){ha(a);16===ia.C&&2===b.ma?(C.s=!1,b.ob()):16!==ia.C&&17!==ia.C||10!==b.ma||(16===ia.C?C.s=!1:17===ia.C&&(C.q=!1),b.ob())};this.Sl=function(){};this.Si=function(){return setTimeout(function(){b.Ki();b.Te();b.Ve();b.Ue();if(b.b.S){var a=b.ng(),d=b.Jb(),f=b.b.gb;b.b.Bd=ka(b,f,f,.05*f,new A(0,0,0,255));b.b.Cd=ka(b,f,f,.05*f,new A(255,255,255,255));b.b.Lj=b.Da(f,f,.05*f,new A(0,0,0,255));b.b.Mj=b.Da(f,f,.05*f,new A(255,255,255,255));b.b.Dj=la(b,f,f,.05*f,new A(0,0,0,255));b.b.Ej=la(b,f,f,.05*f,new A(255,255,255,255));b.b.Gj=ma(b,f,f,!1,new A(0,0,0,255),a?new A(0,0,0,255):d?new A(255,255,255,255):new A(0,0,0,255));b.b.Ij=ma(b,f,f,!1,new A(255,255,255,255),a?new A(255,255,255,255):d?new A(255,255,255,255):new A(0,0,0,255));b.b.Hj=ma(b,f,f,!0,new A(0,0,0,255),a?new A(0,0,0,255):d?new A(255,255,255,255):new A(0,0,0,255));b.b.Jj=ma(b,f,f,!0,new A(255,255,255,255),a?new A(255,255,255,255):d?new A(255,255,255,255):new A(0,0,0,255));b.b.qj=na(b,f,f,.05*f,new A(255,0,0,255));b.b.Ng=na(b,f,f,.05*f,new A(0,0,0,255));b.b.Og=na(b,f,f,.05*f,new A(255,255,255,255));b.b.Aj=la(b,f,f,.05*f,new A(200,0,0,255));b.b.ij=la(b,f,f,.05*f,new A(0,128,0,255));b.b.Yi=la(b,f,f,.05*f,new A(0,0,200,255));b.b.Ui=la(b,f,f,.05*f,new A(128,128,128,255))}b.nb();b.b.Ch=oa(b,!0)},20)};this.Pl=function(a){a.preventDefault();return!1};this.Ql=function(a){a.preventDefault();if(0<a.dataTransfer.files.length&&FileReader){a=a.dataTransfer.files[0];var d=a.name.split(".").pop().toLowerCase(),f=new FileReader;f.onload=function(a){b.c.Kc(a.target.result,null,null,d)};f.readAsText(a);b.ta()}}}q=aa.prototype;q.o=function(a,b){this.i&&this.i.Bj(this);this.Fh(b);this.a.e=D(a);var c=this.a.e.a,d=a+"_BoardCanvas",f=a+"_LinesCanvas",e=a+"_ColorCanvas",g=a+"_ShadowsCanvas",h=a+"_StonesCanvas",k=a+"_VariantsCanvas",l=a+"_MarksCanvas",n=a+"_TargetCanvas",m=a+"_SelectCanvas",u=a+"_EventDiv";this.Ea(c,d);this.Ea(c,f);this.Ea(c,e);this.Ea(c,g);this.Ea(c,h);this.Ea(c,k);this.Ea(c,l);this.Ea(c,m);this.Ea(c,n);var c=this.na(c,u),p=this.a.e;this.ka(this.a.V,p,d);this.ka(this.a.S,p,f);this.ka(this.a.ff,p,e);this.ka(this.a.Ba,p,g);this.ka(this.a.Mc,p,h);this.ka(this.a.Af,p,k);this.ka(this.a.eb,p,l);this.ka(this.a.xd,p,m);this.ka(this.a.Pb,p,n);this.ka(this.a.Event,p,u);c.onmousemove=this.qg;c.onmouseout=this.Ye;c.onmousedown=this.Xe;c.onmouseup=this.rg;c.onkeydown=this.Rl;c.onkeyup=this.Tl;c.onkeypress=this.Sl;c.tabIndex=-1;c.style.pl=!0;c.style.outline=0;c.ondragover=this.Pl;c.ondrop=this.Ql;return p};q.Wi=function(a){this.a.ph.push(a)};q.ta=function(){this.a.Event.e.a.focus()};q.Jh=function(a){if(a!==this.ib){y.Jh(a);this.ib=a;a=0;for(var b=this.a.ph.length;a<b;a++){var c=this.a.ph[a];c.Ma(c.width,c.height)}pa(this);this.nb(!0)}};function oa(a,b){var c=document.createElement("canvas"),d=c.getContext("2d");c.width=a.a.V.e.a.width;c.height=a.a.V.e.a.height;d.drawImage(a.a.V.e.a,0,0);d.drawImage(a.a.S.e.a,0,0);!0===b&&d.drawImage(a.a.ff.e.a,0,0);d.drawImage(a.a.Ba.e.a,0,0);d.drawImage(a.a.Mc.e.a,0,0);d.drawImage(a.a.eb.e.a,0,0);return c}q.v=function(a){var b=this.a.e.a.clientWidth,c=this.a.e.a.clientHeight,d=qa(this),f=c*d;f<=b?b=f:c=b/d;if(b!==this.b.$j||c!==this.b.jj||!0===a)this.b.$j=b,this.b.jj=c,this.a.e.Ma(b,c),pa(this),this.nb(a)};function ra(a,b,c,d,f){var e=a.P.Y(),e=Math.min(e.f,e.g);a.k.N=Math.max(0,Math.min(e-1,b));a.k.O=Math.max(0,Math.min(e-1,c));a.k.T=Math.max(0,Math.min(e-1,d));a.k.U=Math.max(0,Math.min(e-1,f));a.k.T<=a.k.N&&(a.k.N=0,a.k.T=e-1);a.k.U<=a.k.O&&(a.k.O=0,a.k.U=e-1)}function sa(a,b,c,d){if(a.b.S&&d!==a.Ie[(c<<8)+b]){var f=a.a.Mc.e.a.getContext("2d"),e=a.a.Ba.e.a.getContext("2d"),g=a.b.gb,h=(g-1)/2,k=a.b.S,l=a.b.xb,n=a.mg();if(!0===ta(a,b-1,c-1)){var m=k[b-1].f-h,h=k[c-1].g-h;switch(d){case F:f.putImageData(a.b.af,m,h);!0===n&&e.putImageData(a.b.Ba,m+l,h+l);break;case G:f.putImageData(a.b.ne[a.b.ck[b-1+(c-1)*a.P.Y().f]],m,h);!0===n&&e.putImageData(a.b.Ba,m+l,h+l);break;default:f.clearRect(m,h,g,g),!0===n&&e.clearRect(m+l,h+l,g,g)}}a.Ie[(c<<8)+b]=d;b===a.Hb.f&&c===a.Hb.g&&(F===d||G===d?fa(a):a.ob())}}q.wb=function(a,b){var c=(b<<8)+a;delete this.Ca[""+c];c===this.Wf&&(this.Ca[""+c]=new ua(a,b,va,""))};function wa(a,b,c){return(a=a.Ca[""+((c<<8)+b)])?a:null}q.La=function(a){xa(this,a.od(),a.pd(),a)};q.Fh=function(a){this.c=a;this.P=a.fa;a.n=this};q.hf=function(){for(var a=this.P,b=1;b<=a.I;b++)for(var c=1;c<=a.A;c++)ya(a,c,b,a.D(c,b));a=this.P.hf(this);this.Pd&&za(this.Pd,"B "+a.$i+"("+a.Zi+") W "+a.bk+"("+a.ak+")");this.c.Qb()};function Aa(a,b){if((a.c.G&Ba||9===b||11===b)&&a.ma!==b){1===a.ma&&a.c.Kg();a.ma=b;a.ob();if(1===b){var c=a.P;c.Rb=[];for(var d=1;d<=c.I;d++)for(var f=1;f<=c.A;f++)c.Rb[Ca(c,f,d)]=H;Da(c,!1);a.c.gf()}else 9===b&&a.hf();a.c.Qb()}}function qa(a){var b=a.P.Y(),b=Math.min(b.f,b.g),c=(a.k.T-a.k.N)*Ea+2*Fa,d=(a.k.U-a.k.O)*Ea+2*Fa;!0===a.ib&&(c+=Ea,d+=Ea);0<a.k.N&&(c+=Ga/2);a.k.T<b-1&&(c+=Ga/2);0<a.k.O&&(d+=Ga/2);a.k.U<b-1&&(d+=Ga/2);return c/d}q.Ea=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.na=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.ka=function(a,b,c){a.e=D(c);a=a.e;I(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.m=K|L|N|P;b.l(a)};q.Td=function(a,b){var c=Ha(this.a.V.e.a);return{f:a-c.f,g:b-c.g}};function pa(a){var b=a.P.Y(),b=Math.min(b.f,b.g);a.k.N=Math.max(0,Math.min(b-1,a.k.N));a.k.O=Math.max(0,Math.min(b-1,a.k.O));a.k.T=Math.max(0,Math.min(b-1,a.k.T));a.k.U=Math.max(0,Math.min(b-1,a.k.U));a.k.T<=a.k.N&&(a.k.N=0,a.k.T=b-1);a.k.U<=a.k.O&&(a.k.O=0,a.k.U=b-1);var c=(a.k.T-a.k.N)*Ea+2*Fa,d=(a.k.U-a.k.O)*Ea+2*Fa,f=Fa,e=Fa;!0===a.ib&&(c+=Ea,d+=Ea,f+=Ga,e+=Ga);0<a.k.N&&(c+=Ga/2,f+=Ga/2);a.k.T<b-1&&(c+=Ga/2);0<a.k.O&&(d+=Ga/2,e+=Ga/2);a.k.U<b-1&&(d+=Ga/2);a.Pf=Ea/d;a.ve=Ea/c;a.Gd=f/c;a.Hd=e/d;a.hi=4/c}q.nb=function(a){var b=this.a.V.e.a.width,c=this.a.V.e.a.height;if(b!=this.b.M||c!=this.b.F||null===this.b.V||null!==this.ab||!0===a){if(null!==this.ab&&clearTimeout(this.ab),this.ab=this.Si(),this.Te(),0!==b&&0!==c)if(null!==this.b.Ch)this.a.V.e.a.getContext("2d").drawImage(this.b.Ch,0,0,b,c);else{a=this.a.V.e.a.getContext("2d");a.fillStyle=R(this.We());a.fillRect(0,0,b,c);var d=this.a.S.e.a.getContext("2d");a=this.ve*b;var f=this.Pf*c,e=this.Gd*b-this.k.N*a,g=this.Hd*c-this.k.O*f,h=this.P.Y();d.clearRect(0,0,b,c);d.strokeStyle=R(this.fd());for(var k=e+(h.f-1)*a,l=0;l<h.g;l++){var n=g+l*f;d.beginPath();d.moveTo(e,n);d.lineTo(k,n);d.stroke()}for(var k=g+(h.g-1)*f,m=0;m<h.f;m++)n=e+m*a,d.beginPath(),d.moveTo(n,g),d.lineTo(n,k),d.stroke();if(h.f===h.g&&(9===h.f||13===h.f||19===h.f)){d.fillStyle=R(this.fd());l=Math.max(2,this.hi*b/2);m=[];switch(h.f){case 9:m=[[2,2],[2,6],[4,4],[6,2],[6,6]];break;case 13:m=[[3,3],[3,6],[3,9],[6,3],[6,6],[6,9],[9,3],[9,6],[9,9]];break;case 19:m=[[3,3],[3,9],[3,15],[9,3],[9,9],[9,15],[15,3],[15,9],[15,15]]}for(var u=0,p=m.length;u<p;u++)k=e+m[u][0]*a,n=g+m[u][1]*a,d.beginPath(),d.arc(k,n,l,0,2*Math.PI,!1),d.fill()}d=this.a.Mc.e.a.getContext("2d");d.clearRect(0,0,b,c);d.strokeStyle=R(this.fd());d.lineWidth=1;u=R(new A(0,0,0,255));p=R(new A(255,255,255,255));for(l=1;l<=h.g;l++)for(m=1;m<=h.f;m++){k=this.P.D(m,l);if(F===k)d.fillStyle=u;else if(G===k)d.fillStyle=p;else continue;k=e+(m-1)*a;n=g+(l-1)*f;d.beginPath();d.arc(k,n,a/2,0,2*Math.PI,!1);d.fill();d.stroke()}this.a.Ba.e.a.getContext("2d").clearRect(0,0,b,c);this.a.Af.e.a.getContext("2d").clearRect(0,0,b,c);this.a.eb.e.a.getContext("2d").clearRect(0,0,b,c);this.a.Pb.e.a.getContext("2d").clearRect(0,0,b,c);this.a.xd.e.a.getContext("2d").clearRect(0,0,b,c)}}else{Ia(this);if(!0===this.ib&&this.b.S){b=this.a.V.e.a.getContext("2d");c=this.b.M;n=this.b.F;a=this.P.Y();f=2*this.b.gb/3;e=(f-1)/2;g=this.b.S;h=2*f/3;b.fillStyle=this.Jb()?"rgb(255,255,255)":"rgb(0,0,0)";for(l=this.k.N;l<=this.k.T;l++){d=g[l].f-e;k=this.Hd*n/3-e;m=new String;switch(l+1){case 1:m="A";break;case 2:m="B";break;case 3:m="C";break;case 4:m="D";break;case 5:m="E";break;case 6:m="F";break;case 7:m="G";break;case 8:m="H";break;case 9:m="J";break;case 10:m="K";break;case 11:m="L";break;case 12:m="M";break;case 13:m="N";break;case 14:m="O";break;case 15:m="P";break;case 16:m="Q";break;case 17:m="R";break;case 18:m="S";break;case 19:m="T";break;case 20:m="a";break;case 21:m="b";break;case 22:m="c";break;case 23:m="d";break;case 24:m="e";break;case 25:m="f";break;case 26:m="g";break;case 27:m="h";break;case 28:m="j";break;case 29:m="k";break;case 30:m="l";break;case 31:m="m";break;case 32:m="n";break;case 33:m="o";break;case 34:m="p";break;case 35:m="q";break;case 36:m="r";break;case 37:m="s";break;case 38:m="t"}u=Ja(m)?"Arial":"Helvetica, Arial, Verdana";u=h+"px "+u;b.font=u;u=f/2+h/3;p=(f-b.measureText(m).width)/2;b.fillText(m,d+p,k+u);k=n-this.Hd*n/3-e;b.fillText(m,d+p,k+u)}for(n=this.k.O;n<=this.k.U;n++)d=this.Gd*c/3-e,k=g[n].g-e,m=a.g-n+"",u=Ja(m)?"Arial":"Helvetica, Arial, Verdana",u=h+"px "+u,b.font=u,u=f/2+h/3,p=(f-b.measureText(m).width)/2,b.fillText(m,d+p,k+u),d=c-this.Gd*c/3-e,b.fillText(m,d+p,k+u)}Ka(this);b=this.b.M;c=this.b.F;this.a.Mc.e.a.getContext("2d").clearRect(0,0,b,c);this.a.Ba.e.a.getContext("2d").clearRect(0,0,b,c);this.Ie={};La(this);Ma(this);Na(this);this.c&&this.c.je()}};q.Ki=function(){var a=this.a.V.e.a.width,b=this.a.V.e.a.height,c=this.a.V.e.a.getContext("2d");if(0!==a&&0!==b){for(var c=c.createImageData(a,b),d=.9,f=this.We(),e=f.r,g=f.u,f=f.t,h=Array(a),k=0;k<a;k++)h[k]=(Math.tan(300*k/a)+1)/2+(Math.tan(100*k/a)+1)/10;for(var l=Array(b),n=0;n<b;n++)l[n]=.02*Math.tan(n/b);var m,u;if(!0===this.ng())for(n=0;n<b;n++)for(k=0;k<a;k++){d=40*(h[k]+l[n])+.5;d-=Math.floor(d);d=.2>d?1-d/2:.4>d?1-(.4-d)/2:1;if(n==b-1||n==b-2&&k<a-2||k>=a-1||k==a-2&&n<b-1)d/=2;0==n||1==n&&1<k||0==k||1==k&&1<n?(m=128+e*d/2,u=128+g*d/2,d=128+f*d/2):(m=e*d,u=g*d,d*=f);var p=4*(k+n*a);c.data[p+0]=m;c.data[p+1]=u;c.data[p+2]=d;c.data[p+3]=255}else for(n=0;n<b;n++)for(k=0;k<a;k++)0==n||1==n&&1<k||0==k||1==k&&1<n?(m=128+e/2,u=128+g/2,d=128+f/2):(m=e,u=g,d=f),p=4*(k+n*a),c.data[p+0]=m,c.data[p+1]=u,c.data[p+2]=d,c.data[p+3]=255;this.b.V=c;this.b.M=a;this.b.F=b;this.ab=null}};function Ia(a){a.a.V.e.a.getContext("2d").putImageData(a.b.V,0,0)}q.Te=function(){var a=this.b.M,b=this.b.F;if(0!==a&&0!==b){for(var c=this.Gd*a,d=this.Hd*b,b=this.Pf*b,f=this.ve*a,e=this.P.Y(),g=Math.min(e.f,e.g),e=Array(e.f),c=c-f*this.k.N,d=d-b*this.k.O,h,k,l,n,m,u,p,t,v,r,x=0;x<g;x++)h=c+x*f,l=c+x*f+.6*f,m=c+x*f-.6*f,p=c+x*f+.5*f,v=c+x*f-.5*f,k=d+x*b,n=d+x*b+.6*b,u=d+x*b-.6*b,t=d+x*b+.5*b,r=d+x*b-.5*b,e[x]={f:Math.floor(h+.5),ll:Math.floor(l+.5),ml:Math.floor(m+.5),oe:Math.floor(p+.5),nc:Math.floor(v+.5),g:Math.floor(k+.5),nl:Math.floor(n+.5),ol:Math.floor(u+.5),pe:Math.floor(t+.5),oc:Math.floor(r+.5)};this.b.S=e;a=Math.max(2,Math.ceil(this.hi*a/2));g=2*a+1;b=this.b;f=g+2;e=g+2;g=this.fd();e=document.createElement("canvas").getContext("2d").createImageData(f,e);c=e.data;Math.max(f/2,2);d=f/2-.5;h=d-.2;for(k=0;k<f;k++)for(l=0;l<f;l++)n=k-d,m=l-d,n=h-Math.sqrt(n*n+m*m),m=4*(k*f+f-l-1),0<=n?(u=255,.8>=n&&(u=parseInt(255*(1-(.8-n)/.8))),c[m+0]=g.r,c[m+1]=g.u,c[m+2]=g.t,c[m+3]=u):(c[m+0]=0,c[m+1]=0,c[m+2]=0,c[m+3]=0);b.kj=e;this.b.lj=a+1}};function Ka(a,b){if(a.b.S){var c=a.b.M,d=a.b.F,f=a.a.S.e.a.getContext("2d"),e=a.P.Y(),g=a.b.S;f.clearRect(0,0,c,d);if(e.f===e.g&&(9===e.f||13===e.f||19===e.f)){var h=a.b.kj,k=a.b.lj,l=[];switch(e.f){case 9:l=[[2,2],[2,6],[4,4],[6,2],[6,6]];break;case 13:l=[[3,3],[3,6],[3,9],[6,3],[6,6],[6,9],[9,3],[9,6],[9,9]];break;case 19:l=[[3,3],[3,9],[3,15],[9,3],[9,9],[9,15],[15,3],[15,9],[15,15]]}for(var n=0,m=l.length;n<m;n++)!0===ta(a,l[n][0],l[n][1])&&f.putImageData(h,g[l[n][0]].f-k,g[l[n][1]].g-k)}for(var m=0===a.k.N?g[a.k.N].f:g[a.k.N].ml,k=e.f-1===a.k.T?g[a.k.T].f:g[a.k.T].ll,l=0===a.k.O?g[a.k.O].g:g[a.k.O].ol,n=e.f-1===a.k.U?g[a.k.U].g:g[a.k.U].nl,u=f.createImageData(1,d),p=f.createImageData(c,1),t=a.fd(),v=0;v<d;v++)h=4*v,v>=l&&v<=n&&(u.data[h+0]=t.r,u.data[h+1]=t.u,u.data[h+2]=t.t,u.data[h+3]=t.Oa);for(v=0;v<c;v++)h=4*v,m<=v&&v<=k&&(p.data[h+0]=t.r,p.data[h+1]=t.u,p.data[h+2]=t.t,p.data[h+3]=t.Oa);for(v=0;v<e.f;v++)!0===(v>=a.k.N&&v<=a.k.T?!0:!1)&&f.putImageData(u,g[v].f,0),!0===(v>=a.k.O&&v<=a.k.U?!0:!1)&&f.putImageData(p,0,g[v].g);if(void 0!==b)for(c=g[1].f-g[0].f+2,d=g[1].g-g[0].g+2,h=0,m=b.length;h<m;h++)e=b[h].f,k=b[h].g,!0===ta(a,e-1,k-1)&&H===a.P.D(e,k)&&f.clearRect(g[e-1].nc,g[k-1].oc,c,d)}}q.Ve=function(a){if(this.b.S){var b=this.a.V.e.a.width,c=this.a.Mc.e.a.getContext("2d");a=2*Math.floor((a?a:Math.floor(this.ve*b))/2)+1;this.b.gb=a;this.b.af=c.createImageData(a,a);this.b.kl=c.createImageData(a,a);this.b.cf=c.createImageData(a,a);this.b.Cf=c.createImageData(a,a);var d=this.b.af.data,b=this.b.kl.data,f=this.b.cf.data,e=this.b.Cf.data,g=this.Ni(),h=this.Li(),k=this.Jb();if(!0===this.Mi())for(var l=a/2-.5,n=l-.2,g=Math.sqrt(3),m=0;m<a;m++)for(var u=0;u<a;u++){var p=m-l,t=u-l,v=n-Math.sqrt(p*p+t*t),r=4*(m*a+a-u-1);if(0<=v){var x=n*n-p*p-t*t,x=0<x?Math.sqrt(x)*g:0,k=p,J=t,h=Math.sqrt(6*(k*k+J*J+x*x)),h=(2*x-k+J)/h,k=0;.9<h&&(k=10*(h-.9));x=255;.8>=v&&(v=(.8-v)/.8,x=.7,p-t<n/3&&(x=1),x=parseInt(255*(1-v*x)));p=parseInt(10+10*h+140*k);d[r+0]=p;d[r+1]=p;d[r+2]=p;d[r+3]=x;f[r+0]=p;f[r+1]=p;f[r+2]=p;f[r+3]=parseInt(x/2);p=parseInt(200+10*h+45*k);b[r+0]=p;b[r+1]=p;b[r+2]=p;b[r+3]=x;e[r+0]=p;e[r+1]=p;e[r+2]=p;e[r+3]=parseInt(x/2)}else d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0,f[r+0]=0,f[r+1]=0,f[r+2]=0,f[r+3]=0,b[r+0]=0,b[r+1]=0,b[r+2]=0,b[r+3]=0,e[r+0]=0,e[r+1]=0,e[r+2]=0,e[r+3]=0}else for(l=a/2-.5,n=l-.2,m=0;m<a;m++)for(u=0;u<a;u++)if(p=m-l,t=u-l,v=n-Math.sqrt(p*p+t*t),r=4*(m*a+a-u-1),0<=v){x=255;if(.8>=v){var M=(.8-v)/.8,x=.7;p-t<n/3&&(x=1);x=parseInt(255*(1-M*x))}else 1.6>=v&&.8<=v&&!0===k&&(M=(1.6-v)/.8,x=.7,p-t<n/3&&(x=1),x=parseInt(M*x*255));J=!1;1.6>=v&&(J=!0);!1===J||!1===k?(d[r+0]=h.r,d[r+1]=h.u,d[r+2]=h.t,d[r+3]=x,f[r+0]=h.r,f[r+1]=h.u,f[r+2]=h.t,f[r+3]=parseInt(x/2)):(d[r+0]=g.r,d[r+1]=g.u,d[r+2]=g.t,d[r+3]=x,f[r+0]=g.r,f[r+1]=g.u,f[r+2]=g.t,f[r+3]=x);x=255;.8>=v?(M=(.8-v)/.8,x=.7,p-t<n/3&&(x=1),x=parseInt(255*(1-M*x))):1.6>=v&&.8<=v&&!1===k&&(M=(1.6-v)/.8,x=.7,p-t<n/3&&(x=1),x=parseInt(M*x*255));!1===J||!0===k?(b[r+0]=g.r,b[r+1]=g.u,b[r+2]=g.t,b[r+3]=x,e[r+0]=g.r,e[r+1]=g.u,e[r+2]=g.t,e[r+3]=parseInt(x/2)):(b[r+0]=h.r,b[r+1]=h.u,b[r+2]=h.t,b[r+3]=x,e[r+0]=h.r,e[r+1]=h.u,e[r+2]=h.t,e[r+3]=x)}else d[r+0]=0,d[r+1]=0,d[r+2]=0,d[r+3]=0,f[r+0]=0,f[r+1]=0,f[r+2]=0,f[r+3]=0,b[r+0]=0,b[r+1]=0,b[r+2]=0,b[r+3]=0,e[r+0]=0,e[r+1]=0,e[r+2]=0,e[r+3]=0;d=[];f=[];for(r=0;28>r;r++)for(d[r]=c.createImageData(a,a),f[r]=d[r].data,m=0;m<a;m++)for(u=0;u<a;u++)l=4*(m*a+u),f[r][l+0]=b[l+0],f[r][l+1]=b[l+1],f[r][l+2]=b[l+2],f[r][l+3]=b[l+3];f.push(e);f.push(b);if(!0===y.Z.Df){c=a/51*978|0;b=.9;r=Array(c);for(e=0;e<c;e++)r[e]=(Math.sin(18*e/c)+1)/20+(Math.sin(3*e/c)+1)/10;l=Array(c);for(m=0;m<c;m++)l[m]=.2*Math.cos(5*m/c)+.1*Math.sin(11*m/c);u=Array(c*c);for(m=0;m<c;m++)for(e=0;e<c;e++)b=90*(r[e]+l[m])+.5,b-=Math.floor(b),b=.2>b?1-b/2:.4>b?1-(.4-b)/2:1,u[e+m*c]=b;r=f.length;for(l=0;l<r;l++){var n=f[l],B,E;switch(l){case 0:B=12*c/978|0;E=163*c/978|0;break;case 1:B=12*c/978|0;E=213*c/978|0;break;case 2:B=12*c/978|0;E=263*c/978|0;break;case 3:B=12*c/978|0;E=313*c/978|0;break;case 4:B=62*c/978|0;E=163*c/978|0;break;case 5:B=62*c/978|0;E=213*c/978|0;break;case 6:B=62*c/978|0;E=263*c/978|0;break;case 7:B=62*c/978|0;E=313*c/978|0;break;case 8:B=113*c/978|0;E=163*c/978|0;break;case 9:B=113*c/978|0;E=213*c/978|0;break;case 10:B=113*c/978|0;E=263*c/978|0;break;case 11:B=113*c/978|0;E=313*c/978|0;break;case 12:B=163*c/978|0;E=163*c/978|0;break;case 13:B=163*c/978|0;E=213*c/978|0;break;case 14:B=163*c/978|0;E=263*c/978|0;break;case 15:B=163*c/978|0;E=313*c/978|0;break;case 16:B=213*c/978|0;E=163*c/978|0;break;case 17:B=213*c/978|0;E=213*c/978|0;break;case 18:B=213*c/978|0;E=263*c/978|0;break;case 19:B=213*c/978|0;E=313*c/978|0;break;case 20:B=263*c/978|0;E=163*c/978|0;break;case 21:B=263*c/978|0;E=213*c/978|0;break;case 22:B=263*c/978|0;E=263*c/978|0;break;case 23:B=263*c/978|0;E=313*c/978|0;break;case 24:B=313*c/978|0;E=163*c/978|0;break;case 25:B=313*c/978|0;E=213*c/978|0;break;case 26:B=313*c/978|0;E=263*c/978|0;break;case 27:B=313*c/978|0;E=313*c/978|0;break;case 28:B=12*c/978|0;E=12*c/978|0;break;case 29:B=12*c/978|0,E=12*c/978|0}for(m=0;m<a;m++)for(e=0;e<a;e++)b=u[B+e+(E+m)*c],p=4*(e+m*a),n[p+0]*=Math.pow(b,.8),n[p+1]*=Math.pow(b,.8),n[p+2]*=Math.pow(b,.8)}}this.b.ne=d;B=this.P.Y();for(E=0;E<B.g;E++)for(a=0;a<B.f;a++)this.b.ck[a+E*B.f]=Math.floor(Math.random()*(this.b.ne.length-1))}};function La(a){for(var b=a.P.Y(),c=1;c<=b.g;c++)for(var d=1;d<=b.f;d++)sa(a,d,c,a.P.D(d,c))}q.Ue=function(){if(this.b.S){var a=this.a.Ba.e.a.getContext("2d"),b=this.b.gb;this.b.Ba=a.createImageData(b,b);a=this.b.Ba.data;this.b.xb=Math.max(parseInt(.15*b),3);for(var c=(b-5)/2+1,d=0;d<b;d++)for(var f=0;f<b;f++){var e=Math.abs(d-c),g=Math.abs(f-c),e=Math.sqrt(g*g+e*e)/c,e=1>e?.15+.75*(1-e):0,g=4*(b*d+f);a[g+0]=0;a[g+1]=0;a[g+2]=0;a[g+3]=parseInt(255*e)}}};q.ob=function(){da(this,this.Hb.f,this.Hb.g,!0)};function da(a,b,c,d){var f=C;if(-1===b||-1===c||0===b||0===c)fa(a);else if(null===a.ab&&null!==a.b.S&&(void 0===d&&(d=!1),b!==a.Hb.f||c!==a.Hb.g||!0===d)){a.Hb.f=b;a.Hb.g=c;10===a.ma&&a.se&&!d&&Oa(a,b,c,f);var e=a.b.M,g=a.b.F;d=a.a.Pb.e.a.getContext("2d");d.clearRect(0,0,e,g);if(!0===ta(a,b-1,c-1)){var g=(a.b.gb-1)/2,h=a.b.S,e=h[b-1].f-g,g=h[c-1].g-g,h=a.P.D(b,c);switch(a.ma){case 0:H===h&&(F===a.c.Fb?d.putImageData(a.b.cf,e,g):d.putImageData(a.b.Cf,e,g));break;case 1:F===h?d.putImageData(a.b.Cd,e,g):G===h&&d.putImageData(a.b.Bd,e,g);break;case 2:F===h?d.putImageData(a.b.Cd,e,g):G===h?d.putImageData(a.b.Bd,e,g):f.s?d.putImageData(a.b.Cf,e,g):d.putImageData(a.b.cf,e,g);break;case 9:b=Pa(a.P,b,c);F===b?d.putImageData(a.b.Cd,e,g):G===b&&d.putImageData(a.b.Bd,e,g);break;case 10:C.q&&!C.s?d.putImageData(a.b.Aj,e,g):!C.q&&C.s?d.putImageData(a.b.ij,e,g):C.q&&C.s?d.putImageData(a.b.Ui,e,g):d.putImageData(a.b.Yi,e,g);break;default:F===h||H===h&&!0===a.Jb()?d.putImageData(a.b.Cd,e,g):d.putImageData(a.b.Bd,e,g)}}}}function fa(a){var b=a.b.M,c=a.b.F;a.a.Pb.e.a.getContext("2d").clearRect(0,0,b,c);a.Hb.f=-1;a.Hb.g=-1}function ca(a,b,c){for(var d=a.b.M,f=a.b.F,e=a.Pf*f,g=a.ve*d,d=a.Gd*d-e*a.k.N,h=a.Hd*f-g*a.k.O,f=0,k=a.P.Y(),f=0;f<k.g-1&&c>h+e*f+e/2;f++);for(c=c=0;c<k.f-1&&b>d+g*c+g/2;c++);c=Math.max(a.k.N,Math.min(a.k.T,c));f=Math.max(a.k.O,Math.min(a.k.U,f));return{f:c+1,g:f+1}}function ka(a,b,c,d,f){a=a.a.eb.e.a.getContext("2d");a.clearRect(0,0,b,c);a.strokeStyle=R(f);a.fillStyle=R(f);a.lineWidth=d;a.beginPath();a.moveTo(1*b/4,1*c/4);a.lineTo(3*b/4,3*c/4);a.moveTo(3*b/4,1*c/4);a.lineTo(1*b/4,3*c/4);a.stroke();return a.getImageData(0,0,b,c)}q.Da=function(a,b,c,d,f){void 0===f&&(f=1);var e=this.a.eb.e.a.getContext("2d");e.clearRect(0,0,a,b);e.globalAlpha=f;e.strokeStyle=R(d);e.fillStyle=R(d);e.lineWidth=c;var g=a/2;c=3*b/4;d=.1*a;f=Math.sqrt(g*g-(c-g)*(c-g))+g;g=-Math.sqrt(g*g-(c-g)*(c-g))+g;e.beginPath();e.moveTo(a/2,d);e.lineTo(f-d,c);e.lineTo(g+d,c);e.closePath();e.stroke();return e.getImageData(0,0,a,b)};function la(a,b,c,d,f){var e=a.a.eb.e.a.getContext("2d");e.clearRect(0,0,b,c);e.strokeStyle=R(f);e.fillStyle=R(f);e.lineWidth=Math.floor(d+.5);var g=b/2,h=-c/2*Math.sqrt(2)/2+c/2;a=Math.floor(-Math.sqrt(g*g-(h-g)*(h-g))+g);var g=Math.ceil(+Math.sqrt(g*g-(h-g)*(h-g))+g),h=Math.ceil(h),k=Math.floor(c/2*Math.sqrt(2)/2+c/2);d=Math.floor(d);for(var e=e.createImageData(b,c),l=0;l<c;l++)for(var n=0;n<b;n++){var m=4*(l*b+n);(a<=n&&n<=a+d||g-d<=n&&n<=g)&&h<=l&&l<=k||(h<=l&&l<=h+d||k-d<=l&&l<=k)&&a<=n&&n<=g?(e.data[m+0]=f.r,e.data[m+1]=f.u,e.data[m+2]=f.t,e.data[m+3]=255):(e.data[m+0]=0,e.data[m+1]=0,e.data[m+2]=0,e.data[m+3]=0)}return e}function ma(a,b,c,d,f,e){a=a.a.eb.e.a.getContext("2d").createImageData(b,c);var g=d?c/4|0:c/3|0,h=d?3*c/4|0:2*c/3|0,k=d?b/4|0:b/3|0;d=d?3*b/4|0:2*b/3|0;for(var l=0;l<c;l++)for(var n=0;n<b;n++){var m=4*(l*b+n);(l===g||l===h)&&n>=k&&n<=d||(n===k||n===d)&&l>=g&&l<=h?(a.data[m+0]=e.r,a.data[m+1]=e.u,a.data[m+2]=e.t,a.data[m+3]=255):l>g&&l<h&&n>k&&n<d?(a.data[m+0]=f.r,a.data[m+1]=f.u,a.data[m+2]=f.t,a.data[m+3]=255):a.data[m+3]=0}return a}function na(a,b,c,d,f){a=a.a.eb.e.a.getContext("2d");a.clearRect(0,0,b,c);var e=b/2,g=4*d;a.strokeStyle=R(f);a.fillStyle=R(f);a.lineWidth=d;a.beginPath();a.arc(b/2,c/2,e-g,0,2*Math.PI,!1);a.stroke();return a.getImageData(0,0,b,c)}function Qa(a,b,c){a=a.Ca[""+((c<<8)+b)];return void 0!==a?a:null}function xa(a,b,c,d){va===d.H?Ra(a,b,c):a.Ca[""+((c<<8)+b)]=d}function Ra(a,b,c){if(0>=b||0>=c)a.Wf=0;else{var d=(c<<8)+b;void 0===a.Ca[""+d]&&(a.Ca[""+d]=new ua(b,c,va,""));a.Wf=d}}function Na(a){a.a.eb.e.a.getContext("2d").clearRect(0,0,a.b.M,a.b.F);var b=[],c;for(c in a.Ca){var d=a.Ca[c];Sa(a,d);Ta===d.H&&b.push({f:d.od(),g:d.pd()})}Ka(a,b)}function Sa(a,b){if(a.b.S){var c=b.od(),d=b.pd(),f=b.H,e=a.a.eb.e.a.getContext("2d"),g=a.Jb();if(!0===ta(a,c-1,d-1)){var h=a.b.gb,k=(h-1)/2,l=a.b.S,n=l[c-1].f-k,k=l[d-1].g-k,c=a.P.D(c,d);switch(f){case Ua:e.putImageData(a.b.Gj,n,k);break;case Va:e.putImageData(a.b.Ij,n,k);break;case Wa:e.putImageData(a.b.Hj,n,k);break;case Xa:e.putImageData(a.b.Jj,n,k);break;case va:!0===a.Kf?F===c?e.putImageData(a.b.Og,n,k):e.putImageData(a.b.Ng,n,k):e.putImageData(a.b.qj,n,k);break;case Ya:e.putImageData(c===F||c==H&&1==g?a.b.Og:a.b.Ng,n,k);break;case Za:e.putImageData(c===F||c==H&&1==g?a.b.Ej:a.b.Dj,n,k);break;case $a:e.putImageData(c===F||c==H&&1==g?a.b.Mj:a.b.Lj,n,k);break;case ab:e.putImageData(c===F||c==H&&1==g?a.b.Cd:a.b.Bd,n,k);break;case Ta:f=b.Sd,d=2>=f.length?2*h/3:h/2,l=d+"px "+(Ja(f)?"Arial":"Helvetica, Arial, Verdana"),e.fillStyle=c===F||c==H&&1==g?"rgb(255,255,255)":"rgb(0,0,0)",e.font=l,e.fillText(f,n+(h-e.measureText(f).width)/2,k+(h/2+d/3))}}}}function Ma(a){for(var b in a.Qa){var c=T(b);bb(a,c.f,c.g)}}function cb(a){for(var b in a.Qa){var c=T(b);db(a,c.f,c.g)}a.Qa={}}function Oa(a,b,c,d){var f=(c<<8)+b;if(eb===d.Ig)void 0!==a.Qa[f]&&(delete a.Qa[f],db(a,b,c),a.c.Bh(b,c));else{d=d.q&&!d.s?new A(200,0,0,50):d.s&&!d.q?new A(0,100,0,50):d.s&&d.q?new A(80,80,80,50):new A(0,0,200,50);if(void 0!==a.Qa[f]){var e=a.Qa[f];d.r===e.r&&d.u===e.u&&d.t===e.t?(d=e.Oa,a.Qa[f].Oa=50>d?50:100>d?100:150>d?150:200):a.Qa[f]=d}else a.Qa[f]=d;bb(a,b,c);a.c.tg(b,c,a.Qa[f])}}function bb(a,b,c){db(a,b,c);var d=a.a.ff.e.a.getContext("2d"),f=a.b.S,e=b-1,g=c-1;d.fillStyle=R(a.Qa[(c<<8)+b]);d.beginPath();d.moveTo(f[e].nc,f[g].oc);d.lineTo(f[e].oe,f[g].oc);d.lineTo(f[e].oe,f[g].pe);d.lineTo(f[e].nc,f[g].pe);d.closePath();d.fill()}function db(a,b,c){var d=a.a.ff.e.a.getContext("2d");a=a.b.S;b=b-1;c=c-1;d.clearRect(a[b].nc,a[c].oc,a[b].oe-a[b].nc,a[c].pe-a[c].oc)}q.Oi=function(a,b,c){switch(this.ma){case 0:if(eb==c.Ig)1<=this.c.ye&&(fb(this.c,1),gb(this,a,b));else if(c.s&&c.q)this.c.ie(F===this.c.Fb?G:F),this.ob();else if(!0===c.q)this.c.Ze(hb(a,b,this.P.Y().g));else if(c.s){var d=this.c;d.Ja&&(d.Ja.Fd=!1);var f=d.j;ib(d);for(c=0;1E3>c&&H===d.fa.D(a,b);)jb(d,1),c++;H===d.fa.D(a,b)&&kb(d,f);d.Ja&&(d.Ja.Fd=!0)}else gb(this,a,b),null!==this.Wc&&lb(this.c.j)>=mb(this.Wc)&&nb(this.Wc);break;case 1:if(!0===c.q)Aa(this,0);else{d=this.P;f=d.D(a,b);if(H!==f)if(d.Sf.sa(),c=d.Rb[Ca(d,a,b)],F!==c&&G!==c){d.ra.sa();ob(d,a,b,f);for(var e in d.Sf.hb)c=T(e|0),d.ra.sa(),pb(d,c.f,c.g,3-f),qb(d.ra,d,3);Da(d,!0);d.ra.sa();ob(d,a,b,f);qb(d.ra,d,3-f)}else d.ra.sa(),ob(d,a,b,f),qb(d.ra,d,3),Da(d,!0);this.c.gf()}break;case 2:!0===this.c.j.td()&&!0===rb(this.c,!0,!0)&&sb(this.c);d=F;H!==this.P.D(a,b)?d=H:c.s&&(d=G);sa(this,a,b,d);this.P.Set(a,b,d,-1);this.c.gd(d,[(b<<8)+a]);break;case 3:tb(this,$a,a,b);break;case 4:tb(this,Za,a,b);break;case 5:tb(this,Ya,a,b);break;case 6:tb(this,ab,a,b);break;case 7:a:{f=Qa(this,a,b);if(null!==f&&Ta===f.H)this.c.wb([(b<<8)+a]),this.wb(a,b);else{f="";c.s&&(f=prompt("Enter the label that you want to add to board here. For best results, keep your label to one or two letters.",""));if(void 0==f||""===f||null===f){f=[];c=-1;for(d in this.Ca)if(e=this.Ca[d],Ta==e.H){e=e.Sd;var g=e.charCodeAt(0);1==e.length&&65<=g&&90>=g&&(f[g]=1)}for(d=65;90>=d;d++)if(void 0===f[d]||""==f[d]){c=d;break}f=-1==c?null:String.fromCharCode(c);if(null===f){alert("Sorry, all the standard labels are used up! To add more labels, you will have to shift click on the board and make up ur own labels to add.");break a}}d=new ua(a,b,Ta,f);this.c.Vd(f,(b<<8)+a);xa(this,a,b,d)}Na(this)}break;case 8:a:{d=Qa(this,a,b);if(null!==d&&Ta===d.H)this.c.wb([(b<<8)+a]),this.wb(a,b);else{d="";if(c.s){d=this.P.Zg(a,b);if(-1==d){alert("Sorry, no move has been made at that location, so you can't mark it with the move number!");break a}d=""+d}if(void 0===d||""===d||null===d){d=[];c=0;for(f in this.Ca)e=this.Ca[f],Ta===e.H&&Ja(e.Sd)&&(d[c]=parseInt(e.Sd),c++);if(0>=c)d="1";else{d.sort(ub);e=f=0;for(var g=!1,h=0;h<c;h++){if(d[h]>f+1){e=f+1;g=!0;break}f=d[h]}g||(e=f+1);d=""+e}}f=new ua(a,b,Ta,d);this.c.Vd(d,(b<<8)+a);xa(this,a,b,f)}Na(this)}break;case 9:d=this.P;c=d.D(a,b);if(H!==c){e=new vb;wb(d,a,b,e);f=[];for(g in e.ag)f.push(g);a=Pa(d,a,b)!==c?c:F===c?G:F;b=0;for(c=f.length;b<c;b++)e=T(f[b]),ya(d,e.f,e.g,a)}a=this.P.hf(this);this.Pd&&za(this.Pd,"B "+a.$i+"("+a.Zi+") W "+a.bk+"("+a.ak+")");Na(this);this.ob();break;case 10:Oa(this,a,b,c);break;case 11:this.ga.Lc=!0,this.ga.xf=a,this.ga.yf=b,this.ga.kd=a,this.ga.ld=b,ea(this)}};function ea(a){if(11===a.ma&&!0===a.ga.Lc){var b=a.b.M,c=a.b.F,d=a.b.S,f=a.a.xd.e.a.getContext("2d");f.clearRect(0,0,b,c);var b=a.ga.xf-1,c=a.ga.yf-1,e=a.ga.kd-1;a=a.ga.ld-1;if(b>e)var g=e,e=b,b=g;c>a&&(g=a,a=c,c=g);f.fillStyle=R(new A(107,112,122,128));f.beginPath();f.moveTo(d[b].nc,d[c].oc);f.lineTo(d[e].oe,d[c].oc);f.lineTo(d[e].oe,d[a].pe);f.lineTo(d[b].nc,d[a].pe);f.closePath();f.fill()}}function tb(a,b,c,d){var f=Qa(a,c,d);if(null!==f&&b===f.H){if(a.c.wb([(d<<8)+c]),a.wb(c,d),a.b.S&&!0===ta(a,c-1,d-1)){b=(a.b.gb-1)/2;var e=a.b.S,f=e[c-1].f-b,e=e[d-1].g-b;a.a.eb.e.a.getContext("2d").clearRect(f,e,2*b,2*b);b=T(a.Wf);c===b.f&&d===b.g&&(Ra(a,c,d),Sa(a,Qa(a,c,d)))}}else f=new ua(c,d,b,""),a.c.La(b,[(d<<8)+c]),xa(a,c,d,f),Sa(a,f)}function gb(a,b,c){if(H===a.P.D(b,c)){var d=F===a.c.Fb?F:G,f=!1,e=a.P.$b.jd();a.P.Set(b,c,d,-1);f=null!==xb(a.P,b,c,d,!0)?!0:null!==yb(a.P,b,c,d)?!1:!0;a.P.Set(b,c,H,-1);a.P.$b.Zd(e);1==f&&!0===zb(a.c,b,c,d)&&sb(a.c)}}function ja(a,b){if(9!==a.ma&&11!==a.ma){var c=b.C,d=!1;8===c||46===c?(Ab(a.c),d=!0):36===c?!0===b.q&&!0===b.s&&(Bb(a.c),d=!0):37===c?(b.q&&b.s?ib(a.c):b.q?fb(a.c,5):fb(a.c,1),d=!0):38===c?(b.q?a.c.ah():Cb(a.c),d=!0):39===c?(b.q&&b.s?Db(a.c):b.q?jb(a.c,5):jb(a.c,1),d=!0):40===c?(Eb(a.c),d=!0):65===c&&!0===b.q&&!0===b.s?(Fb(a),d=!0):67===c&&!0===b.q&&10===a.ma?(a.c.Mg(),d=!0):68===c&&!0===b.q?(Gb(a.a.e.a.id,Hb,{va:a.c,oa:a.i}),d=!0):69===c&&!0===b.q?(Gb(a.a.e.a.id,Ib,{va:a.c,oa:a.i}),d=!0):72===c&&!0===b.q?(!0===b.s?Jb(a.c):Kb(a.c),d=!0):73===c&&!0===b.q?(!0===b.s?Lb(a.c):Mb(a.c),d=!0):77===c&&!0===b.q&&!0===b.s?(a.c.uh(),d=!0):79===c&&!0===b.q?(10===a.ma?Gb(a.a.e.a.id,Nb,{Uk:a,oa:a.i}):!0===b.s?(c=prompt("Enter here code of ur sgf file",""),a.c.Kc(c)):(c=document.getElementsByTagName("body"),0<c.length&&(c=c[0],d=document.createElement("input"),c.appendChild(d),d.type="file",d.multiple=!1,d.accept=".sgf,.gib,.ngf",d.style.display="none",d.addEventListener("change",function(c){c=c.target.files;if(0<c.length){c=c[0];var b=c.name.split(".").pop().toLowerCase(),d=new FileReader;d.onload=function(c){a.c.Kc(c.target.result,null,null,b);a.ta()};d.readAsText(c);a.ta()}},!1),Ob(d),c.removeChild(d))),d=!0):82===c&&!0===b.q?(10===a.ma?(a.c.Ah(),cb(a)):a.Jh(!0===a.ib?!1:!0),d=!0):83===c&&!0===b.q?(c=a.c.tf(),FileReader&&Blob&&(d=a.c.Ac,""===d&&(d=a.c.$c+" vs. "+a.c.Yc),""===d&&(d="download"),Pb(new Blob([c],{type:"text/plain;charset=utf-8"}),d+".sgf","application/x-go-sgf")),d=!0):86===c&&!0===b.q?(!0===b.s?Gb(a.a.e.a.id,Qb,{va:a.c,oa:a.i}):(c=a.c.Sc,c++,c>Rb&&(c=Sb),Tb(a.c,c)),d=!0):112===c?(Aa(a,0),d=!0):113===c?(Aa(a,1),d=!0):114===c?(Aa(a,2),d=!0):115===c?(Aa(a,3),d=!0):116===c?(Aa(a,4),d=!0):117===c?(Aa(a,5),d=!0):118===c?(Aa(a,6),d=!0):119===c?(Aa(a,7),d=!0):120===c?(Aa(a,8),d=!0):121===c&&(Aa(a,10),d=!0);return d}}function ta(a,b,c){return b>=a.k.N&&b<=a.k.T&&c>=a.k.O&&c<=a.k.U?!0:!1}q.ng=function(){return y.Z.qc};q.Mi=function(){return y.Z.Qc};q.mg=function(){return y.Z.Pc};q.Ni=function(){return y.Z.ed};q.Li=function(){return y.Z.cd};q.We=function(){return y.Z.Dc};q.fd=function(){return y.Z.dd};q.Jb=function(){return y.Z.Oc};function Fb(a){Ia(a);var b=a.b.M,c=a.b.F,d=a.a.S.e.a.getContext("2d");d.clearRect(0,0,b,c);for(var f=b/406,e=c/348,g=[207,193,1],h=[{f:0,g:49},{f:0,g:198},{f:71,g:348},{f:178,g:348},{f:318,g:348},{f:406,g:238},{f:406,g:41},{f:247,g:0}],k=[[[162,162,2],[221,125,2],[256,156,2],[250,203,1],[234,231,2],[199,236,0],[177,228,1],[150,195,1]],[[133,141,2],[229,89,1],[283,136,1],[282,210,2],[247,249,0],[195,261,2],[158,250,0],[124,196,0]],[[106,122,0],[238,45,0],[309,115,0],[312,216,2],[260,267,0],[187,300,1],[138,272,0],[96,197,1]],[[72,99,2],[246,10,0],[346,88,1],[344,224,0],[272,291,0],[182,329,0],[115,298,0],[60,197,0]],[[28,67,0],[259,-40,0],[373,66,0],[385,233,0],[298,319,2],[170,380,0],[81,336,0],[14,198]]],l=0,n=h.length;l<n;l++)d.beginPath(),d.moveTo(g[0]*f,g[1]*e),d.lineTo(h[l].f*f,h[l].g*e),d.stroke();h=0;for(l=k.length;h<l;h++){n=k[h];d.beginPath();for(var m=0,u=n.length;m<u;m++){var p=n[m];0===m?d.moveTo(p[0]*f,p[1]*e):d.lineTo(p[0]*f,p[1]*e)}d.closePath();d.stroke()}k.push([g]);a.Ve(30*f);a.Ue();d=a.a.Mc.e.a.getContext("2d");g=a.a.Ba.e.a.getContext("2d");d.clearRect(0,0,b,c);g.clearRect(0,0,b,c);b=(a.b.gb-1)/2;c=a.b.xb;h=0;for(l=k.length;h<l;h++)for(n=k[h],m=0,u=n.length;m<u;m++){var p=n[m],t=(p[0]*f|0)-b,v=(p[1]*e|0)-b;F===p[2]?d.putImageData(a.b.af,t,v):G===p[2]&&d.putImageData(a.b.ne[Math.random()*(a.b.ne.length-1)|0],t,v);F!==p[2]&&G!==p[2]||g.putImageData(a.b.Ba,t+c,v+c)}};function Ub(a){this.i=a;this.c=null;this.za=this.H=0;this.De=16;this.ei=!1;this.b={hj:null,uj:null,pj:null,Vi:null,Cj:null};this.a={e:null,ef:{e:null}};this.xi=new A(217,217,217,255);this.$f=new A(0,0,0,255);this.Vf=new A(54,101,179,255);this.Je=new A(255,255,255,255);this.si=new A(54,101,179,255);this.Rf=new A(255,255,255,255);this.vi=new A(217,217,217,255);this.wi=new A(140,140,140,255);this.I=this.A=0;var b=this;this.Xe=function(a){4!==b.za&&(ga(a),b.za=1,Vb(b),a.stopImmediatePropagation())};this.rg=function(a){if(4!==b.za){if(C.Fa!==a.target)return;b.za=2;Vb(b);b.Oi();a.stopImmediatePropagation()}b.pg()};this.$l=function(){4!==b.za&&(1!==b.za&&(b.za=2),Vb(b))};this.Ye=function(){4!==b.za&&(b.za=b.ei?8:0,Vb(b))};this.pg=function(){b.c&&20!==b.H&&b.c.ta()};this.Pi=function(a){a.dataTransfer.effectAllowed="all";a.dataTransfer.setData("text/sgf","(;SZ[19];)")}}q=Ub.prototype;q.o=function(a,b,c){this.c=b;this.H=c;if(this.i)switch(this.H){case 1:this.i.B.wg.push(this);break;case 2:this.i.B.xg.push(this);break;case 3:this.i.B.cc.push(this);break;case 4:this.i.B.ec.push(this);break;case 5:this.i.B.Wg.push(this);break;case 6:this.i.B.Vg.push(this);break;case 7:this.i.B.ic.push(this);break;case 8:this.i.B.jc.push(this);break;case 9:this.i.B.Ag.push(this);break;case 10:this.i.B.Cg.push(this);break;case 11:this.i.B.zg.push(this);break;case 12:this.i.B.Fg.push(this);break;case 13:this.i.B.Dg.push(this);break;case 14:this.i.B.yg.push(this);break;case 15:this.i.B.Gg.push(this);break;case 16:this.i.B.Eg.push(this);break;case 17:this.i.B.Bg.push(this);break;case 18:this.i.Fe=this}this.a.e=D(a);b=this.a.e.a;b.setAttribute("title",Wb(this));c=document.createElement("canvas");c.setAttribute("id",a+"_canvas");c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.style["-webkit-transition"]="background 2s";c.style.transition="background 2s";b.appendChild(c);this.a.ef.e=D(a+"_canvas");a=this.a.ef.e;I(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.m=K|L|N|P;this.a.e.l(a);b.onmousedown=this.Xe;b.onmouseup=this.rg;b.onmouseover=this.$l;b.onmouseout=this.Ye;b.onfocus=this.pg;b.tabIndex=-1;b.style.outline="none";b.draggable="true";b.pm=this.Pi;this.v()};q.v=function(){var a=this.a.e.a.clientWidth,b=this.a.e.a.clientHeight;if(a!==this.A||b!==this.I)this.A=a,this.I=b,this.a.e.Ma(this.A,this.I),this.nb()};function Xb(a,b){!0===b&&4===a.za?(a.za=0,Vb(a)):!1===b&&4!==a.za&&(a.za=4,Vb(a))}function Yb(a,b){a.De!==b&&(a.De=b,a.nb(),a.a.e.a.setAttribute("title",Wb(a)))}function Zb(a,b){a.ei!==b&&(a.ei=b,!0===b&&0===a.za?(a.za=8,Vb(a)):!1===b&&8===a.za&&(a.za=0,Vb(a)))}q.nb=function(){var a=this.I,b=this.A;if(0!==b&&0!==a){this.b.Vi=$b(this,this.si,this.Rf,b,a);this.b.pj=$b(this,this.Vf,this.Je,b,a);this.b.uj=$b(this,this.xi,this.$f,b,a);this.b.hj=$b(this,this.vi,this.wi,b,a);this.b.Cj=$b(this,this.Vf,this.Je,b,a);var a=document.getElementsByTagName("head")[0],b=document.createElement("style"),c=document.createTextNode("a#my_link:hover{color:#ff0000 !important;}");b.type="text/css";b.styleSheet?b.styleSheet.cssText=c.nodeValue:b.appendChild(c);a.appendChild(b);Vb(this)}};function $b(a,b,c,d,f){var e=a.a.ef.e.a.getContext("2d");e.fillStyle=R(b);e.fillStyle=R(b);e.fillRect(0,0,d,f);e.fillStyle=R(c);e.strokeStyle=R(c);var g=Math.min(d,f),h=(d-g)/2,k=(f-g)/2;switch(a.H){case 1:a.Da(g,h,k,e,-1);a=Math.ceil(h+g/10+.5);h=Math.ceil(k+g/5+.5);c=Math.floor(g/10+.5);b=Math.floor(3*g/5+.5);e.fillRect(a,h,c,b);break;case 2:a.Da(g,h-g/10,k,e,-1);a=Math.ceil(h+8*g/10+.5);h=Math.ceil(k+g/5+.5);c=Math.floor(g/10+.5);b=Math.floor(3*g/5+.5);e.fillRect(a,h,c,b);break;case 3:a.Da(g,h-g/10,k,e,-1);break;case 4:a.Da(g,h-g/10,k,e,1);break;case 5:a.Da(g,h+g/10,k,e,1);a=Math.ceil(h+g/10+.5);h=Math.ceil(k+g/5+.5);c=Math.floor(g/10+.5);b=Math.floor(3*g/5+.5);e.fillRect(a,h,c,b);break;case 6:a.Da(g,h,k,e,1);a=Math.ceil(h+8*g/10+.5);h=Math.ceil(k+g/5+.5);c=Math.floor(g/10+.5);b=Math.floor(3*g/5+.5);e.fillRect(a,h,c,b);break;case 7:c=Math.ceil(h+.2*g+.5);b=Math.ceil(h+.35*g+.5);a=Math.ceil(h+.57*g+.5);var h=Math.ceil(h+.92*g+.5),l=Math.ceil(k+.2*g+.5),n=Math.ceil(k+.38*g+.5),m=Math.ceil(k+.52*g+.5),u=Math.ceil(k+.6*g+.5),p=Math.ceil(k+.68*g+.5),k=Math.ceil(k+.84*g+.5);e.beginPath();e.moveTo(c,l);e.lineTo(b,l);e.lineTo(b,m);e.lineTo(a,m);e.lineTo(a,n);e.lineTo(h,u);e.lineTo(a,k);e.lineTo(a,p);e.lineTo(c,p);e.closePath();e.fill();break;case 8:c=Math.ceil(h+.2*g+.5);b=Math.ceil(h+.35*g+.5);a=Math.ceil(h+.57*g+.5);h=Math.ceil(h+.92*g+.5);l=Math.ceil(k+.8*g+.5);n=Math.ceil(k+.62*g+.5);m=Math.ceil(k+.48*g+.5);u=Math.ceil(k+.4*g+.5);p=Math.ceil(k+(1-.68)*g+.5);k=Math.ceil(k+(1-.84)*g+.5);e.beginPath();e.moveTo(c,l);e.lineTo(b,l);e.lineTo(b,m);e.lineTo(a,m);e.lineTo(a,n);e.lineTo(h,u);e.lineTo(a,k);e.lineTo(a,p);e.lineTo(c,p);e.closePath();e.fill();break;case 9:l=Math.ceil(h+.5*g-g/10+.5);m=Math.ceil(k+.5*g-g/10+.5);b=Math.ceil(.25*g+.5);e.fillStyle=R(new A(255,255,255));e.strokeStyle=R(new A(0,0,0));e.beginPath();e.arc(l,m,b,0,2*Math.PI,!1);e.fill();e.stroke();e.fillStyle=R(new A(0,0,0));l=Math.ceil(h+.5*g+g/10+.5);m=Math.ceil(k+.5*g+g/10+.5);b=Math.ceil(.25*g+.5);e.beginPath();e.arc(l,m,b,0,2*Math.PI,!1);e.fill();break;case 10:n=e.createImageData(g,g);c=g/5|0;l=4*g/5|0;for(m=0;m<g;m++)for(u=0;u<g;u++)a=4*(m*g+u),m>=c&&m<=l&&u>=c&&u<=l?g-m>=u||m===c||m===l||u===c||u===l?(n.data[a+0]=0,n.data[a+1]=0,n.data[a+2]=0):(n.data[a+0]=255,n.data[a+1]=255,n.data[a+2]=255):(n.data[a+0]=b.r,n.data[a+1]=b.u,n.data[a+2]=b.t),n.data[a+3]=255;e.putImageData(n,h,k);break;case 11:l=Math.ceil(h+.75*g+.5);m=Math.ceil(k+.125*g+.5);c=Math.ceil(.25*g+.5);b=Math.ceil(.02*g+.5);e.fillRect(l,m,c,b);l=Math.ceil(h+.875*g+.5);m=Math.ceil(k+.5);c=Math.ceil(.02*g+.5);b=Math.ceil(.25*g+.5);e.fillRect(l,m,c,b);l=Math.ceil(h+.5);m=Math.ceil(k+.875*g+.5);c=Math.ceil(.25*g+.5);b=Math.ceil(.02*g+.5);e.fillRect(l,m,c,b);l=Math.ceil(h+.5*g-g/10+.5);m=Math.ceil(k+.5*g-g/10+.5);b=Math.ceil(.25*g+.5);e.fillStyle=R(new A(255,255,255));e.strokeStyle=R(new A(0,0,0));e.beginPath();e.arc(l,m,b,0,2*Math.PI,!1);e.fill();e.stroke();e.fillStyle=R(new A(0,0,0));l=Math.ceil(h+.5*g+g/10+.5);m=Math.ceil(k+.5*g+g/10+.5);b=Math.ceil(.25*g+.5);e.beginPath();e.arc(l,m,b,0,2*Math.PI,!1);e.fill();break;case 12:b=g/2;a=3*g/4;c=.1*g;n=Math.sqrt(b*b-(a-b)*(a-b))+b;m=-Math.sqrt(b*b-(a-b)*(a-b))+b;e.lineWidth=Math.ceil(.05*g+.5);e.beginPath();e.moveTo(h+g/2,k+2*c);e.lineTo(h+n-c,k+a+c);e.lineTo(h+m+c,k+a+c);e.closePath();e.stroke();break;case 13:b=g/2;c=.05*g;l=-g/2*Math.sqrt(2)/2+g/2;a=g/2*Math.sqrt(2)/2+g/2;n=Math.sqrt(b*b-(l-b)*(l-b))+b;m=-Math.sqrt(b*b-(l-b)*(l-b))+b;b=Math.floor(h+n-c);h=Math.ceil(h+m+c);l=Math.ceil(k+l+c);k=Math.floor(k+a-c);e.lineWidth=Math.ceil(.05*g+.5);e.beginPath();e.moveTo(b,l);e.lineTo(h,l);e.lineTo(h,k);e.lineTo(b,k);e.closePath();e.stroke();break;case 14:a=.05*g;b=g/2;c=4*a;e.lineWidth=Math.ceil(a+.5);e.beginPath();e.arc(h+g/2,k+g/2,b-c,0,2*Math.PI,!1);e.stroke();break;case 15:c=h+.25*g;b=h+.75*g;l=k+.25*g;n=k+.75*g;e.lineWidth=Math.ceil(.05*g+.5);e.beginPath();e.moveTo(c,l);e.lineTo(b,n);e.moveTo(b,l);e.lineTo(c,n);e.stroke();break;case 16:c="A";b=.8*g;e.font=b+"px Arial";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 17:c="1";b=.8*g;e.font=b+"px Helvetica, Arial, Verdana";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 18:16===a.De?a.Da(g,h,k,e,1):(c=Math.floor(h+g/5+g/20+.5),b=Math.ceil(h+4*g/5-g/20+.5),h=Math.ceil(k+g/5+.5),k=Math.ceil(k+4*g/5+.5),a=Math.ceil(c+g/5),g=Math.floor(b-g/5),e.beginPath(),e.moveTo(c,h),e.lineTo(a,h),e.lineTo(a,k),e.lineTo(c,k),e.closePath(),e.fill(),e.beginPath(),e.moveTo(b,h),e.lineTo(g,h),e.lineTo(g,k),e.lineTo(b,k),e.closePath(),e.fill());break;case 19:n=e.createImageData(d,f);e=n.data;h=(d-8)/2|0;k=(f-8)/2|0;for(m=0;m<f;m++)for(l=0;l<d;l++){a=4*(l+m*d);b=c.r;var g=c.u,u=c.t,p=m-k,t=l-h;if(0===p&&(0===t||1===t||6===t||7===t)||1===p&&(1===t||2===t||5===t||6===t)||2===p&&(2===t||3===t||4===t||5===t)||3===p&&(3===t||4===t)||4===p&&(3===t||4===t)||5===p&&(2===t||3===t||4===t||5===t)||6===p&&(1===t||2===t||5===t||6===t)||7===p&&(0===t||1===t||6===t||7===t))u=g=b=255;e[a+0]=b;e[a+1]=g;e[a+2]=u;e[a+3]=255}return n;case 20:a=.02*g;b=g/2;c=4*a;e.lineWidth=Math.ceil(a+.5);e.beginPath();e.arc(h+g/2,k+g/2,b-c,0,2*Math.PI,!1);e.stroke();c="i";b=.9*g;e.font=b+"px Times New Roman, Sans serif";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 21:e.lineWidth=1;e.moveTo(0,0);e.lineTo(0,f);e.lineTo(d,f);e.lineTo(d,0);e.lineTo(0,0);e.stroke();c="OK";b=.6*g;e.fillStyle=R(new A(0,0,0,255));e.font=b+"px Tahoma, Sans serif";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 22:e.lineWidth=1;e.moveTo(0,0);e.lineTo(0,f);e.lineTo(d,f);e.lineTo(d,0);e.lineTo(0,0);e.stroke();c="Cancel";b=.6*g;e.fillStyle=R(new A(0,0,0,255));e.font=b+"px Tahoma, Sans serif";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 23:a=.02*g;c=g/2-g/30;b=g/4;e.lineWidth=Math.ceil(7*a+.5);e.beginPath();e.arc(h+g/2,k+g/2,b,0,2*Math.PI,!1);e.stroke();e.lineWidth=Math.ceil(5*a+.5);for(a=0;9>a;a++)e.beginPath(),l=40*a*Math.PI/180,e.lineTo(h+b*Math.cos(l)+g/2,k-b*Math.sin(l)+g/2),e.lineTo(h+c*Math.cos(l)+g/2,k-c*Math.sin(l)+g/2),e.stroke();break;case 24:c="Pass";b=.9*g;e.font=b+"px Times New Roman, Sans serif";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 25:a=.02*g;b=g/2;c=4*a;e.lineWidth=Math.ceil(a+.5);e.beginPath();e.arc(h+g/2,k+g/2,b-c,0,2*Math.PI,!1);e.stroke();c="?";b=.9*g;e.font=b+"px Times New Roman, Sans serif";l=h+(g-e.measureText(c).width)/2;e.fillText(c,l,k+g/2+b/3);break;case 26:a=Math.ceil(h+3*g/20+.5);l=Math.ceil(h+16*g/20+.5);n=Math.ceil(h+14*g/20+.5);h=Math.ceil(h+11*g/20+.5);c=Math.ceil(k+5*g/20+.5);m=Math.ceil(k+14*g/20+.5);k=Math.ceil(k+18*g/20+.5);e.lineWidth=2;e.beginPath();e.moveTo(a,c);e.lineTo(l,c);e.lineTo(l,m);e.lineTo(n,m);e.lineTo(n,k);e.lineTo(h,m);e.lineTo(a,m);e.closePath();e.stroke();break;case 27:a=h+0,l=h+6*g/20,n=h+14*g/20,h+=g,m=k+6*g/20,k+=14*g/20,b=g/7,e.lineWidth=2,e.strokeStyle=R(c),e.beginPath(),e.moveTo(a,m),e.lineTo(h,m),e.stroke(),e.beginPath(),e.moveTo(l,m),e.lineTo(l,k),e.lineTo(h,k),e.stroke(),e.lineWidth=1,e.strokeStyle=R(new A(0,0,0)),e.fillStyle=R(new A(255,255,255)),e.beginPath(),e.arc(n,m,b,0,2*Math.PI,!1),e.fill(),e.stroke(),e.beginPath(),e.arc(n,k,b,0,2*Math.PI,!1),e.fill(),e.stroke(),e.fillStyle=R(new A(0,0,0)),e.beginPath(),e.arc(l,m,b,0,2*Math.PI,!1),e.fill()}return e.getImageData(0,0,d,f)}q.Da=function(a,b,c,d,f){var e=Math.ceil(b+a/5+.5);b=Math.ceil(b+4*a/5+.5);var g=Math.ceil(c+a/5+.5),h=Math.ceil(c+a/2+.5);a=Math.ceil(c+4*a/5+.5);0>f?(d.beginPath(),d.moveTo(e,h),d.lineTo(b,g),d.lineTo(b,a)):(d.beginPath(),d.moveTo(e,g),d.lineTo(b,h),d.lineTo(e,a));d.closePath();d.fill()};function Vb(a){var b=a.a.ef.e.a.getContext("2d"),c=null;switch(a.za){case 2:c=a.b.pj;break;case 1:c=a.b.Vi;break;case 4:c=a.b.hj;break;case 8:c=a.b.Cj;break;default:case 0:c=a.b.uj}c&&b.putImageData(c,0,0)}q.Oi=function(){if(this.c)switch(this.H){case 1:ib(this.c);break;case 2:fb(this.c,5);break;case 3:fb(this.c,1);break;case 4:jb(this.c,1);break;case 5:jb(this.c,5);break;case 6:Db(this.c);break;case 7:Eb(this.c);break;case 8:Cb(this.c);break;case 9:Aa(this.c.n,0);break;case 10:Aa(this.c.n,1);break;case 11:Aa(this.c.n,2);break;case 12:Aa(this.c.n,3);break;case 13:Aa(this.c.n,4);break;case 14:Aa(this.c.n,5);break;case 15:Aa(this.c.n,6);break;case 16:Aa(this.c.n,7);break;case 17:Aa(this.c.n,8);break;case 18:16===this.De?this.c.ke():this.c.zd();break;case 19:this.c.rb();break;case 20:Gb(this.a.e.a.id,ac,{va:this.c,oa:this.i});break;case 21:this.c&&this.c.kf();break;case 22:this.c&&this.c.mj();break;case 23:Gb(this.a.e.a.id,bc,{va:this.c,oa:this.i});break;case 24:this.c.wj();break;case 25:Gb(this.a.e.a.id,cc,{va:this.c,oa:this.i});break;case 26:case 27:this.uk.xd(this)}};function Wb(a){switch(a.H){case 1:return"Back to the start (Ctrl+Shift+Left)";case 2:return"Back 5 moves (Ctrl+Left)";case 3:return"Back (Left)";case 4:return"Forward (Right)";case 5:return"Forward 5 moves (Ctrl+Right)";case 6:return"Go to the end (Ctrl+Shift+Right)";case 7:return"Next variant (Down)";case 8:return"Previous variant (Up)";case 9:return"Moves (F1)";case 10:return"Count Scores (F2)";case 11:return"Editor (F3)";case 12:return"Triangles (F4)";case 13:return"Squares (F5)";case 14:return"Circles (F6)";case 15:return"X marks (F7)";case 16:return"Text labels (F8)";case 17:return"Numeric labels (F9)";case 18:return 16===a.De?"Autoplay start":"Autoplay stop";case 19:return"Close";case 20:return"Game info";case 22:return"Cancel";case 21:return"OK";case 23:return"Settings";case 24:return"Pass";case 25:return"About";case 26:return"Comments";case 27:return"Navigator"}};function dc(a){this.i=a;this.c=null;this.a={e:null,zf:{e:null}};var b=this;this.Jk=function(){b.c.vf(b.a.zf.e.a.value)}}dc.prototype.o=function(a,b){this.c=b;this.a.e=D(a);var c=this.a.e.a;c.style.background=R(new A(217,217,217,255));var d=a+"_TextArea",f=document.createElement("textarea");f.setAttribute("id",d);f.setAttribute("style","position:absolute;padding:0;margin:0;resize:none;outline: none;-moz-appearance: none;padding:2px;");c.appendChild(f);f.onchange=this.Jk;f.onblur=this.Jk;f.style.outline="none";f.style.margin="0px";f.style.border="1px solid rgb(172,172,172)";c=this.a.e;this.a.zf.e=D(d);d=this.a.zf.e;I(d.h,6,0,12,6,!0,!0,!0,!0,-1,-1);d.m=K|L|N|P;c.l(d);this.i&&this.i.Zh.push(this);this.v()};dc.prototype.mc=function(a){this.a.zf.e.a.value=a};dc.prototype.v=function(){this.a.e.Ma(this.a.e.a.clientWidth,this.a.e.a.clientHeight)};function ec(a){this.i=a;this.qk=H;this.c=null;this.a={e:null,hc:null,uf:null,Image:null};this.fg=this.eg="";this.ii=0;this.di=!1}ec.prototype.o=function(a,b,c){this.qk=c;this.c=b;this.a.e=D(a);b=this.a.e.a;b.style.backgroundColor=R(new A(217,217,217,255));this.a.hc=document.createElement("div");this.a.uf=document.createElement("div");this.a.Image=document.createElement("canvas");var d=this.a.Image,f=this.a.hc,e=this.a.uf;b.appendChild(d);b.appendChild(f);b.appendChild(e);f.style.paddingLeft="25px";e.style.paddingLeft="25px";f.style.fontSize="14pt";e.style.paddingLeft="10pt";d.setAttribute("id",a+"_Image");d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.left="0px";d.style.top="0px";d.style.width="25px";d.style.height="25px";d.width=25;d.height=25;a=d.getContext("2d");a.clearRect(0,0,25,25);b=Math.ceil(13);d=Math.ceil(13);f=Math.ceil(6.75);G===c?(a.fillStyle=R(new A(255,255,255)),a.strokeStyle=R(new A(0,0,0))):F===c&&(a.fillStyle=R(new A(0,0,0)),a.strokeStyle=R(new A(0,0,0)));a.beginPath();a.arc(b,d,f,0,2*Math.PI,!1);a.fill();a.stroke();this.i&&(F===c?this.i.Xb=this:G===c&&(this.i.ac=this));fc(this)};ec.prototype.v=function(){fc(this);var a=this.sl,b=this.a.e.a.clientWidth-25,c=0,c=b<a?0:(b-a)/2;this.a.Image.style.left=c+"px";c+=25;this.a.hc.style.paddingLeft=c+"px";this.a.uf.style.paddingLeft=c+"px";this.a.hc.style.overflow="hidden";this.a.hc.style.textOverflow="ellipsis";this.a.hc.style["-o-text-overflow"]="ellipsis";this.a.hc.style.height="25px"};ec.prototype.le=function(a){this.di=!1;this.ii=a;fc(this)};ec.prototype.me=function(a){this.di=!0;this.ii=a;fc(this)};function fc(a){var b=a.a.uf,c=(""===a.eg?F===a.qk?"Black ":"White ":a.eg)+(""===a.fg?"":"["+a.fg+"]"),d=(!0===a.di?"Scores ":"Captured ")+a.ii;gc(a.a.hc,c);gc(b,d);b=document.createElement("canvas").getContext("2d");b.font="14pt Times New Roman";a.sl=b.measureText(c).width};function hc(){this.pb=this.vb=this.yb=this.ub=0;this.Ef=this.Gf=this.Hf=this.Ff=!1;this.Ud=this.Ec=-1}function I(a,b,c,d,f,e,g,h,k,l,n){a.ub=b;a.yb=c;a.vb=d;a.pb=f;a.Ff=e;a.Hf=g;a.Gf=h;a.Ef=k;a.Ec=l;a.Ud=n}var L=1,K=2,P=4,N=8;function ic(){this.h=new hc;this.m=L|K;this.a=this.rf=this.nf=null;this.bc=new hc;this.ja=[];this.lc=this.height=this.width=0;this.dc=null;this.Nb=400}ic.prototype.fb=function(a,b,c){this.lc=a;(this.dc=b)&&b.Wi&&b.Wi(this);c&&c.Nb&&(this.Nb=c.Nb)};ic.prototype.l=function(a){a.rf=this;this.ja[this.ja.length]=a};ic.prototype.Ma=function(a,b){this.width=a;this.height=b;if(null==this.rf)this.bc.ub=0,this.bc.yb=0,this.bc.vb=a,this.bc.pb=b,null!==this.a&&jc(this,a,b);else{var c=0,d=0,f=0,e=0,g=this.m&5,h=this.m&10;L==g?(this.h.Ff?c=this.h.ub:c=this.h.ub*a/1E3,-1!=this.h.Ec?f=c+this.h.Ec:f=this.h.Gf?a-this.h.vb:this.h.vb*a/1E3):P==g?(f=this.h.Gf?a-this.h.vb:this.h.vb*a/1E3,-1!=this.h.Ec?c=f-this.h.Ec:this.h.Ff?c=this.h.ub:c=this.h.ub*a/1E3):(L|P)==g?(this.h.Ff?c=this.h.ub:c=this.h.ub*a/1E3,f=this.h.Gf?a-this.h.vb:this.h.vb*a/1E3):(c=this.h.ub,f=this.h.vb);K==h?(this.h.Hf?d=this.h.yb:d=this.h.yb*b/1E3,-1!=this.h.Ud?e=d+this.h.Ud:e=this.h.Ef?b-this.h.pb:this.h.pb*b/1E3):N==h?(e=this.h.Ef?b-this.h.pb:this.h.pb*b/1E3,-1!=this.h.Ud?d=e-this.h.Ud:this.h.Hf?d=this.h.yb:d=this.h.yb*b/1E3):(K|N)==h?(this.h.Hf?d=this.h.yb:d=this.h.yb*b/1E3,e=this.h.Ef?b-this.h.pb:this.h.pb*b/1E3):(d=this.h.yb,e=this.h.pb);f<c&&(f=c);e<d&&(e=d);-2===this.h.Ec?f=c+1*(e-d):-3===this.h.Ec&&(c=1*(e-d));this.bc.ub=c;this.bc.yb=d;this.bc.vb=f;this.bc.pb=e;this.a.style.left=(c+.5|0)+"px";this.a.style.top=(d+.5|0)+"px";this.a.style.width=(f-c+.5|0)+"px";this.a.style.height=(e-d+.5|0)+"px";this.a.width=f-c+.5|0;this.a.height=e-d+.5|0;jc(this,f-c,e-d)}};function jc(a,b,c){var d=a.ja.length;if(1===a.lc&&2===d){var f=a.dc?qa(a.dc):1,e=a.ja[0],g=a.ja[1],h,k=c;h=b-a.Nb;var l=k*f,f=h/f;l<=h?(f=k,h=k=0):(l=h,h=0,k=(k-f)/2);I(e.h,h,k,1E3,1E3,!0,!0,!1,!1,l,f);e.m=L|K;I(g.h,l,0,1E3,1E3,!0,!1,!1,!1,-1,-1);g.m=P|N|K}else 2===a.lc&&1===d?a.dc?(f=qa(a.dc),e=a.ja[0],l=c*f,f=b/f,l<=b?(f=c,k=0,h=(b-l)/2):(l=b,h=0,k=(c-f)/2),I(e.h,h,k,1E3,1E3,!0,!0,!1,!1,l,f),e.m=L|K):(e=a.ja[0],h=Math.min(b,c),I(e.h,(b-h)/2,(c-h)/2,1E3,1E3,!0,!0,!0,!1,h,h),e.m=L|N|K):3===a.lc&&2===d&&(f=a.dc?qa(a.dc):1,e=a.ja[0],g=a.ja[1],k=a.Nb,h=b,k=c-k,l=k*f,f=h/f,l<=h?(f=k,k=0,h=(h-l)/2):(l=h,k=h=0),I(e.h,h,k,1E3,1E3,!0,!0,!1,!1,l,f),e.m=L|K,I(g.h,0,f,1E3,1E3,!1,!0,!1,!1,-1,-1),g.m=L|P|N);for(h=0;h<d;h++)a.ja[h].Ma(b,c)}ic.prototype.sa=function(){this.ja=[];this.lc=0;this.dc=null;this.Nb=400};function D(a){var b=new ic;b.nf=a;b.a=document.getElementById(a);return b}function kc(){this.a=this.rf=null;this.F=0;this.ja=[]}kc.prototype.Set=function(a){this.F=a};kc.prototype.l=function(a){a.rf=this;this.ja[this.ja.length]=a};kc.prototype.Ma=function(a,b){var c=b-this.F,d=a;d!==c&&(c=d=Math.min(d,c));var f=(b-this.F-c)/2;this.a.style.left=parseInt((a-d)/2+.5)+"px";this.a.style.top=parseInt(f+.5)+"px";this.a.style.width=parseInt(d+.5)+"px";this.a.style.height=parseInt(c+this.F+.5)+"px";this.a.width=parseInt(d+.5);this.a.height=parseInt(c+this.F+.5);for(var f=this.ja.length,e=0;e<f;e++)this.ja[e].Ma(d,c+this.F)};function lc(){this.fi=!0;this.Z={qc:!0,Qc:!0,Dc:new A(231,188,95,255),Df:!0,Pc:!0,ed:new A(255,255,255,255),cd:new A(0,0,0,255),dd:new A(0,0,0,255),Oc:!1};this.ha={qc:!0,Qc:!0,Dc:new A(231,188,95,255),Pc:!0,ed:new A(255,255,255,255),cd:new A(0,0,0,255),dd:new A(0,0,0,255),Oc:!1};this.ai=this.ib=this.bi=!1;this.ki=1;this.ji=3}function mc(){var a=y;a.ai="1"===nc("CycleThroughVariants")?!0:!1;a.fi="0"===nc("Sound")?!1:!0;var b=nc("NavigatorLabels");a.ki=b&&""!==b?parseInt(b):1;var b=1,c=nc("ColorScheme");"BookStyle"===c?b=2:"SimpleColor"===c?b=3:"Dark"===c&&(b=4);oc(a,b);a.bi="0"===nc("LoadUnfinishedFilesOnLastNode")?!1:!0;b=nc("ShowVariants");a.ji=b&&""!==b?parseInt(b):3;a.ib="1"===nc("Rulers")?!0:!1}q=lc.prototype;q.yd=function(a){this.fi=a;pc("Sound",!0===a?"1":"0")};q.de=function(){return this.fi};q.Jh=function(a){this.ib=a;pc("Rulers",!0===a?"1":"0")};q.Hh=function(a){this.bi=a;pc("LoadUnfinishedFilesOnLastNode",!0===a?"1":"0")};q.be=function(){return this.bi};q.Eh=function(a){this.ai=a;pc("CycleThroughVariants",!0===a?"1":"0")};q.Ic=function(){return this.ai};function oc(a,b){var c=!0,d=!0,f=null,e=!0,g=!0,h=new A(255,255,255,255),k=new A(0,0,0,255),l=new A(0,0,0,255),n=!1;switch(b){case 1:g=e=d=c=!0;f=new A(231,188,95,255);l=new A(0,0,0,255);pc("ColorScheme","TrueColor");break;case 2:g=e=d=c=!1;f=new A(255,255,255,255);l=new A(0,0,0,255);pc("ColorScheme","BookStyle");break;case 3:g=e=d=c=!1;f=new A(231,188,95,255);l=new A(0,0,0,255);pc("ColorScheme","SimpleColor");break;case 4:g=e=d=c=!1,n=!0,f=new A(30,30,30,255),h=new A(220,220,220,220),l=new A(255,255,255,255),pc("ColorScheme","Dark")}var m=!1,u=!1;if(a.Z.qc!==c||a.Z.Qc!==d||!0!==qc(a.Z.Dc,f)||a.Z.Df!==e||a.Z.Pc!==g||!0!==qc(a.Z.ed,h)||!0!==qc(a.Z.cd,k)||!0!==qc(a.Z.dd,l)||a.Z.Oc!==n)a.Z.qc=c,a.Z.Qc=d,a.Z.Dc=f,a.Z.Df=e,a.Z.Pc=g,a.Z.ed=h,a.Z.cd=k,a.Z.dd=l,a.Z.Oc=n,m=!0;if(a.ha.qc!==c||a.ha.Qc!==d||!0!==qc(a.ha.Dc,f)||a.ha.Pc!==g||!0!==qc(a.ha.ed,h)||!0!==qc(a.ha.cd,k)||!0!==qc(a.ha.dd,l)||a.ha.Oc!==n)a.ha.qc=c,a.ha.Qc=d,a.ha.Dc=f,a.ha.Pc=g,a.ha.ed=h,a.ha.cd=k,a.ha.dd=l,a.ha.Oc=n,u=!0;return{V:m,Navigator:u}}q.nd=function(){return this.ki};q.Ih=function(a){this.ki=a;pc("NavigatorLabels",a)};q.Gc=function(){return this.ji};q.Gh=function(a){this.ji=a;pc("ShowVariants",a)};var y=new lc;function rc(a){if(this.c=a)a.i=this;this.Ha=this.Uf=this.Ke=this.Ia=null;this.$=[];this.B={wg:[],xg:[],cc:[],ec:[],Wg:[],Vg:[],ic:[],jc:[],wj:null,Ag:[],Cg:[],zg:[],Fg:[],Dg:[],yg:[],Gg:[],Eg:[],Bg:[]};this.ac=this.Xb=this.Ge=this.Fe=this.zi=this.Xf=this.fa=null;this.Zh=[];var b=this;this.ci=!0;this.gk=!1;this.oi=-1;this.ni=400;this.mi=200;this.Ik=function(){sc(b.Ik);var a;if(a=b.Xf)a=b.Xf,a=a.Nf||a.Of?!0:!1;if(a){a=b.Xf;if(a.Nf&&a.c){var d=a.b.M,f=a.b.F;if(!(0>=d||0>=f)){var e=a.c.j.Ra,g=10+a.R.f+24*e.f,e=10+a.R.g+24*e.g,h=a.a.Fc.e.a.getContext("2d");h.clearRect(0,0,d,f);-24<=g&&g<=d+24&&-24<=e&&e<=f+24&&h.putImageData(a.b.Fc,g,e);a.Nf=!1}}if(a.Of&&(d=a.b.M,f=a.b.F,0!==d&&0!==f)){if(!(a.bb.M===d&&a.bb.F===f&&1>Math.abs(a.R.f-a.bb.f)&&1>Math.abs(a.R.g-a.bb.g))){a.bb.M=d;a.bb.F=f;a.bb.f=a.R.f;a.bb.g=a.R.g;var g=a.a.S.e.a.getContext("2d"),e=a.a.Lh.e.a.getContext("2d"),h=a.a.yh.e.a.getContext("2d"),k=a.a.Selection.e.a.getContext("2d");h.clearRect(0,0,d,f);e.clearRect(0,0,d,f);g.clearRect(0,0,d,f);k.clearRect(0,0,d,f);for(var k=10+a.R.f,l=10+a.R.g,n=a.W.Xa(),m=a.mg(),u=0;u<=n-1;u++){var p=l+24*u;if(-24<=p&&p<=f+24)for(var t=a.W.W[u].length-1,v=0;v<=t;v++){var r=k+24*v;if(-24<=r&&r<=d+24){var x=a.W.D(v,u);if(!1===x.ce()){var J=x.vd();switch(x.H){case tc:J.pc?g.putImageData(a.b.Qh,r,p):g.putImageData(a.b.Wh,r,p);break;case uc:J.pc?1===J.Fj?g.putImageData(a.b.Rh,r,p):g.putImageData(a.b.Sh,r,p):g.putImageData(a.b.Th,r,p);break;case vc:J.pc?g.putImageData(a.b.Uh,r,p):g.putImageData(a.b.Vh,r,p)}}else{var J=x.vd(),M=x.Ib,B=M.H,E=x.Ka,Q="",z=0;switch(y.nd()){case 0:Q="";break;case 1:Q=""+x.Ra.qf;2>=Q.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",z=-1);break;case 2:Q=J?""+x.Ra.qf:"";2>=Q.length?h.font="bold 10px sans-serif":(h.font="bold 9px sans-serif",z=-1);break;case 3:Q=a.c.fa.Y().g,M=T(M.wa()),Q=hb(M.f,M.g,Q),h.font=2>=Q.length?"bold 10px sans-serif":"bold 8px sans-serif"}M=h.measureText(Q).width;F===B?(J&&!0===m&&e.putImageData(a.b.Ba,r+2+a.b.xb,p+2+a.b.xb),h.putImageData(J?a.b.hd:a.b.bf,r+2,p+2),""===E?""!==Q&&(h.fillStyle=J?"#CCC":"rgb(192, 192, 192)",h.fillText(Q,r+12-M/2+z,p+12+3)):h.putImageData(J?a.b.Pj:a.b.Qj,r+2,p+2)):G===B?(J&&!0===m&&e.putImageData(a.b.Ba,r+2+a.b.xb,p+2+a.b.xb),h.putImageData(J?a.b.Ad:a.b.Bf,r+2,p+2),""===E?""!==Q&&(h.fillStyle=J?"#000":"rgb(56, 56, 56)",h.fillText(Q,r+12-M/2+z,p+12+3)):h.putImageData(J?a.b.Sj:a.b.Tj,r+2,p+2)):h.putImageData(J?a.b.Oj:a.b.Rj,r+2,p+2);E=U(x);x=x.ea;0===v?0!==E&&(1===E?J?g.putImageData(a.b.ih,r,p):g.putImageData(a.b.mh,r,p):J?0==x?g.putImageData(a.b.jh,r,p):g.putImageData(a.b.kh,r,p):g.putImageData(a.b.lh,r,p)):0===E?J?g.putImageData(a.b.gh,r,p):g.putImageData(a.b.hh,r,p):1===E?J?g.putImageData(a.b.bh,r,p):g.putImageData(a.b.nh,r,p):J?0===x?g.putImageData(a.b.dh,r,p):g.putImageData(a.b.eh,r,p):g.putImageData(a.b.fh,r,p);F!==B&&G!==B||g.clearRect(r+3,p+3,18,18)}}}}}a.Of=!1}}b.ci&&wc(b,!1)};this.Ik()}q=rc.prototype;q.Lb=function(){return this.Ia?parseInt(this.Ia.clientWidth):0};q.Xa=function(){return this.Ia?parseInt(this.Ia.clientHeight):0};q.Rg=function(a){xc(this,a);var b=new aa(this);b.o(a,this.c);b.ta();this.$.push(b);this.v()};q.Pg=function(a){mc();xc(this,a);var b=this.c,c=D(a);this.J(c.a,a+"div");var d=a+"div",f=new kc;f.nf=d;f.a=document.getElementById(d);f.Set(25);var e=f.a;c.l(f);d=a+"_Board";a=a+"_Toolbar";this.J(e,d);this.J(e,a);e=D(d);I(e.h,0,0,1E3,25,!1,!1,!1,!0,-1,-1);e.m=K|L|P;f.l(e);e=new aa(this);e.o(d,b);e.ta();d=D(a);I(d.h,0,0,1E3,0,!1,!1,!1,!0,-1,25);d.m=L|N|P;f.l(d);f=new yc(this);f.o(a,b,{ja:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,25]});this.Ha=c;this.$.push(e);this.$.push(f);this.v()};q.Qg=function(a){var b=this.c,c=new aa(this);y.Z.Df=!1;var d=D(a),f=a+"GoBoard";this.J(d.a,f);var e=D(f);I(e.h,0,0,1,1,!1,!1,!0,!0,-1,-1);e.m=K|L|P|N;d.l(e);e.fb(1,c,{Nb:100});var g=a+"_Board",h=a+"_Panel";this.J(e.a,g);this.J(e.a,h);var k=D(g);a=D(h);e.l(k);e.l(a);c.o(g,b);c.ta();e=h+"_Toolbar";g=h+"_Comments";this.J(a.a,g);this.J(a.a,e);h=D(g);I(h.h,0,25,1E3,1E3,!1,!0,!1,!1,-1,-1);h.m=K|L|P|N;a.l(h);h=D(e);I(h.h,0,0,1E3,1E3,!0,!0,!1,!0,-1,25);h.m=L|P|K;a.l(h);a=new dc(this);a.o(g,b);g=new yc(this);g.o(e,b,{ja:[1]});this.$.push(c);this.$.push(a);this.$.push(g);this.Ha=d;this.v();zc(b);xc(this,f)};q.v=function(a){a?wc(this,!0):this.ci=!0};function xc(a,b,c){a.Ia=document.getElementById(b);a.Ke=c;a.Ia.style.background="url('"+Ac+"')"}function wc(a,b){if(!0===a.gk){var c=a.Ha.a.clientWidth,d=a.Ha.a.clientHeight,f=-1,f=d-(c-a.ni)>a.mi+100?1:0;if(a.oi!==f){for(a.oi=f;a.Ia.firstChild;)a.Ia.removeChild(a.Ia.firstChild);a.Ke&&a.Ke.sa();Bc={};if(0===a.oi){var c=a.c,e=a.Ke,f=a.Ia.id,d=new aa(a);e.fb(1,d,{Nb:a.ni});var g=f+"_Board",h=f+"_Panel";a.J(e.a,g);a.J(e.a,h);var k=D(g),f=D(h);e.l(k);e.l(f);d.o(g,c);d.ta();e=h+"_CaT";g=h+"_Navigator";a.J(f.a,e);a.J(f.a,g);h=D(e);I(h.h,0,0,1E3,500,!1,!1,!1,!1,-1,-1);h.m=K|L|P|N;f.l(h);k=D(g);I(k.h,0,500,1E3,1E3,!1,!1,!1,!1,-1,-1);k.m=K|L|P|N;f.l(k);f=new Cc(a);f.o(g,c);var l=e+"_Info",n=e+"_Comments",m=e+"_Toolbar",k=e+"_ToolbarSecond",u=e+"_ToolbarAutoPlay",p=e+"_ToolbarTimeLine";a.J(h.a,l);a.J(h.a,n);a.J(h.a,m);a.J(h.a,k);var t=a.J(h.a,u);a.J(h.a,p);e=u+"_Slider";g=u+"_Button";a.J(t,g);a.J(t,e);t=D(l);I(t.h,0,0,1E3,0,!1,!1,!1,!1,-1,50);t.m=K|L|P;h.l(t);var v=l+"_White",l=l+"_Black";a.J(t.a,v);a.J(t.a,l);var r=D(v);I(r.h,0,0,500,1E3,!1,!1,!1,!1,-1,-1);r.m=K|L|P|N;t.l(r);r=D(l);I(r.h,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1);r.m=K|L|P|N;t.l(r);t=new ec(a);t.o(v,c,G);v=new ec(a);v.o(l,c,F);l=D(n);I(l.h,0,50,1E3,100,!1,!0,!1,!0,-1,25);l.m=K|L|P|N;h.l(l);l=D(m);I(l.h,0,0,1E3,75,!1,!1,!1,!0,-1,25);l.m=L|P|N;h.l(l);l=D(k);I(l.h,0,0,1E3,50,!1,!1,!1,!0,-1,25);l.m=L|P|N;h.l(l);l=D(u);I(l.h,0,0,1E3,25,!1,!1,!1,!0,-1,25);l.m=L|P|N;h.l(l);u=D(g);I(u.h,0,0,1E3,1E3,!1,!1,!1,!1,25,-1);u.m=L|K|N;l.l(u);u=D(e);I(u.h,25,0,1E3,1E3,!0,!1,!1,!1,-1,25);u.m=K|P|N;l.l(u);l=D(p);I(l.h,0,0,1E3,0,!1,!1,!1,!0,-1,25);l.m=L|P|N;h.l(l);h=new dc(a);h.o(n,c);n=new yc(a);n.o(m,c,{ja:[1,2,3,4,5,6,24,7,8]});m=new yc(a);m.o(k,c,{ja:[9,10,11,12,13,14,15,16,17,20,23,25]});k=new Dc(a);k.o(p,c,Ec,0);p=new Ub(a);p.o(g,c,18);g=new Dc(a);g.o(e,c,Fc,0);a.$.push(d);a.$.push(f);a.$.push(h);a.$.push(n);a.$.push(m);a.$.push(k);a.$.push(p);a.$.push(g);a.$.push(v);a.$.push(t)}else c=a.c,h=a.Ke,d=a.Ia.id,g=d+"I",a.J(h.a,g),e=D(g),I(e.h,0,0,1E3,0,!1,!1,!1,!1,-1,50),e.m=K|L|P,h.l(e),f=d+"O",a.J(h.a,f),d=D(f),I(d.h,0,50,1E3,1E3,!1,!0,!1,!1,-1,-1),d.m=N|L|P,h.l(d),h=g+"W",a.J(e.a,h),k=D(h),I(k.h,0,0,500,1E3,!1,!1,!1,!1,-1,-1),k.m=K|L|P|N,e.l(k),k=new ec(a),k.o(h,c,G),a.$.push(k),g+="B",a.J(e.a,g),h=D(g),I(h.h,500,0,1E3,1E3,!1,!1,!1,!1,-1,-1),h.m=K|L|P|N,e.l(h),e=new ec(a),e.o(g,c,F),a.$.push(e),e=new aa(a),a.$.push(e),d.fb(3,e,{Nb:a.mi-50}),g=f+"B",a.J(d.a,g),h=D(g),d.l(h),e.o(g,c),e.ta(),f+="N",a.J(d.a,f),e=D(f),d.l(e),d=f+"T",a.J(e.a,d),g=D(d),I(g.h,0,0,1E3,0,!1,!1,!1,!1,-1,25),g.m=L|P|K,e.l(g),g=f+"U",a.J(e.a,g),f=D(g),I(f.h,0,25,1E3,1E3,!1,!0,!1,!1,-1,-1),f.m=L|P|N,e.l(f),e=new yc(a),e.o(d,c,{ja:[1,3,4,6,24,7,8,20,23,25]}),a.$.push(e),d=g+"L",a.J(f.a,d),e=D(d),I(e.h,0,0,0,1E3,!1,!1,!1,!1,30,-1),e.m=L|K|N,f.l(e),g+="R",a.J(f.a,g),e=D(g),I(e.h,30,0,1E3,1E3,!0,!1,!1,!1,-1,-1),e.m=P|K|N,f.l(e),f=g+"N",a.J(e.a,f),h=D(f),I(h.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1),h.m=L|P|K|N,e.l(h),g+="C",a.J(e.a,g),h=D(g),I(h.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1),h.m=L|P|K|N,e.l(h),e=new Cc(a),e.o(f,c),a.$.push(e),e=new dc(a),e.o(g,c),a.$.push(e),e=new Gc(a),e.o(d,c,f,g),a.$.push(e);a.v();zc(c)}}a.ci=!1;a.Ha&&(c=a.Ha.a.clientWidth,d=a.Ha.a.clientHeight,a.Ha.Ma(c,d));c=0;for(d=a.$.length;c<d;c++)a.$[c].v(b)}q.J=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.Bj=function(a){this.fa=a};q.vj=function(){this.Fe&&Yb(this.Fe,0)};q.zh=function(){this.Fe&&Yb(this.Fe,16)};q.Uj=function(a){if(this.Xb){var b=this.Xb;b.eg=a;fc(b)}};q.Vj=function(a){if(this.Xb){var b=this.Xb;b.fg=a;fc(b)}};q.Wj=function(a){if(this.ac){var b=this.ac;b.eg=a;fc(b)}};q.Xj=function(a){if(this.ac){var b=this.ac;b.fg=a;fc(b)}};q.le=function(a,b){this.Xb&&this.Xb.le(a);this.ac&&this.ac.le(b)};q.me=function(a,b){this.Xb&&this.Xb.me(a);this.ac&&this.ac.me(b)};q.Qb=function(a){for(var b=0,c=this.B.wg.length;b<c;b++)Xb(this.B.wg[b],a.cc);b=0;for(c=this.B.xg.length;b<c;b++)Xb(this.B.xg[b],a.cc);b=0;for(c=this.B.cc.length;b<c;b++)Xb(this.B.cc[b],a.cc);b=0;for(c=this.B.ec.length;b<c;b++)Xb(this.B.ec[b],a.ec);b=0;for(c=this.B.Wg.length;b<c;b++)Xb(this.B.Wg[b],a.ec);b=0;for(c=this.B.Vg.length;b<c;b++)Xb(this.B.Vg[b],a.ec);b=0;for(c=this.B.ic.length;b<c;b++)Xb(this.B.ic[b],a.ic);b=0;for(c=this.B.jc.length;b<c;b++)Xb(this.B.jc[b],a.jc);b=0;for(c=this.B.Ag.length;b<c;b++)Zb(this.B.Ag[b],0===a.qb);b=0;for(c=this.B.Cg.length;b<c;b++)Zb(this.B.Cg[b],1===a.qb);b=0;for(c=this.B.zg.length;b<c;b++)Zb(this.B.zg[b],2===a.qb);b=0;for(c=this.B.Fg.length;b<c;b++)Zb(this.B.Fg[b],3===a.qb);b=0;for(c=this.B.Dg.length;b<c;b++)Zb(this.B.Dg[b],4===a.qb);b=0;for(c=this.B.yg.length;b<c;b++)Zb(this.B.yg[b],5===a.qb);b=0;for(c=this.B.Gg.length;b<c;b++)Zb(this.B.Gg[b],6===a.qb);b=0;for(c=this.B.Eg.length;b<c;b++)Zb(this.B.Eg[b],7===a.qb);b=0;for(c=this.B.Bg.length;b<c;b++)Zb(this.B.Bg[b],8===a.qb);this.zi&&(b=this.zi,!0!==b.te&&Hc(b,a.Kj,!0))};q.mc=function(a){for(var b=0,c=this.Zh.length;b<c;b++)this.Zh[b].mc(a)};var Ic=0,Jc=1,eb=2,C=new function(){this.Ig=this.g=this.f=0;this.lc=Jc;this.s=this.q=this.$e=!1;this.Fa=null;this.ee=-1;this.sj=this.rj=this.Yd=0;this.oh=this.lf=!1},ia=new function(){this.s=this.q=this.$e=!1;this.Fa=null;this.C=this.Qk=0};function ha(a){ia.$e=a.altKey;ia.q=void 0!==a.metaKey?a.ctrlKey||a.metaKey:a.ctrlKey;ia.s=a.shiftKey;ia.Fa=a.srcElement?a.srcElement:a.target;ia.Qk=a.charCode;ia.C=a.keyCode;ia.lm=a.which}function ba(a){if(!a.lf||a.oh){if(a.pageX||a.pageY)C.f=a.pageX,C.g=a.pageY;else if(a.clientX||a.clientY)C.f=a.clientX,C.g=a.clientY;C.$e=a.altKey;C.s=a.shiftKey;C.q=a.ctrlKey||a.metaKey;C.lc=Jc;C.lf||(C.Fa=a.srcElement?a.srcElement:a.target);if(3<Math.abs(C.f-C.rj)||3<Math.abs(C.g-C.sj))C.ee=-1,C.Yd=0}}function ga(a){if(a.pageX||a.pageY)C.f=a.pageX,C.g=a.pageY;else if(a.clientX||a.clientY)C.f=a.clientX,C.g=a.clientY;C.rj=C.f;C.sj=C.g;C.$e=a.altKey;C.s=a.shiftKey;C.q=a.ctrlKey||a.metaKey;C.lc=Ic;C.Ig=a.button;C.Fa=a.srcElement?a.srcElement:a.target;a=(new Date).getTime();0==C.Yd?(C.Yd=1,C.ee=a):500>a-C.ee?(C.ee=a,C.Yd++):(C.Yd=1,C.ee=a);window.Xh=!1}window.onmousemove=function(a){C.lf&&void 0!=C.Fa&&null!=C.Fa&&void 0!=C.Fa.onmousemove&&null!=C.Fa.onmousemove&&(C.oh=!0,C.Fa.onmousemove(a),C.oh=!1)};window.onmouseup=function(a){if(!1===window.Xh){window.Xh=!0;if(C.lf&&C.Fa&&void 0!=C.Fa.onmouseup&&null!=C.Fa.onmouseup)C.Fa.onmouseup(a,!0);C.Fa=null}};function Kc(){this.jc=this.ic=this.ec=this.cc=!0;this.Kj=this.qb=0};var va=-1,$a=0,Za=1,Ya=2,Ta=3,ab=4,Ua=5,Va=6,Wa=7,Xa=8;function ua(a,b,c,d){this.vk={f:void 0===a?0:a,g:void 0==b?0:b};this.H=void 0===c?$a:c;this.Sd=void 0===d?"":d}ua.prototype.od=function(){return this.vk.f};ua.prototype.pd=function(){return this.vk.g};ua.prototype.fb=function(a){this.H=a};function Cc(a){function b(){if(d.sc)d.Eb=null;else{var a=parseFloat(d.a.pa.style.opacity),c=parseFloat(d.a.Aa.style.opacity),a=Math.max(a-.01,0),c=Math.max(c-.01,0);d.a.pa.style.opacity=a;d.a.Aa.style.opacity=c;.001<a?d.Eb=setTimeout(b,10):d.Eb=null}}function c(){if(d.sc)d.Eb=null;else{var a=parseFloat(d.a.la.style.opacity),b=parseFloat(d.a.xa.style.opacity),a=Math.max(a-.01,0),b=Math.max(b-.01,0);d.a.la.style.opacity=a;d.a.xa.style.opacity=b;.001<a?d.Wb=setTimeout(c,10):d.Wb=null}}this.i=a;this.c=null;this.W=new Lc;this.Of=this.Nf=!0;this.a={e:null,V:{e:null},Selection:{e:null},Fc:{e:null},S:{e:null},Lh:{e:null},yh:{e:null},Vk:{e:null},pa:null,la:null,Aa:null,xa:null,he:0,ge:0};this.ab=null;this.b={M:0,F:0,V:null,hd:null,Ad:null,bf:null,Bf:null,ih:null,oj:null,bh:null,nj:null,gh:null,Qh:null,Zj:null,Uh:null,mh:null,jh:null,kh:null,lh:null,nh:null,dh:null,eh:null,fh:null,hh:null,Wh:null,Rh:null,Sh:null,Th:null,Vh:null,Oj:null,Rj:null,Pj:null,Sj:null,Qj:null,Tj:null,Pb:null,Fc:null,Ba:null,xb:0};this.R={f:0,g:0};this.sc=!1;this.rl=!0;this.bb={M:0,F:0,f:0,g:0};this.Wb=this.Eb=this.Od=this.Ld=null;var d=this;this.Si=function(){return setTimeout(function(){d.Ki()},20)};this.Xe=function(a){d.sc||(d.c&&d.c.ta(),ga(a),a=d.Td(C.f,C.g),a=d.W.D(a.f,a.g),a.ce()&&d.c&&kb(d.c,a))};this.qg=function(a){d.sc||(ba(a),a=d.Td(C.f,C.g),d.ob(a.f,a.g))};this.Ye=function(){d.sc||d.ob(-1,-1)};this.Hk=function(a){if(d.sc)return!1;var b=0,b=void 0!=a.wheelDelta?0<a.wheelDelta?-45:45:0<a.detail?45:-45;a.preventDefault&&a.preventDefault();var g=20+24*(d.W.Xa()+1)-d.a.V.e.a.height;d.R.g-=b;d.R.g=Math.min(0,Math.max(d.R.g,-g));Mc(d);d.qg(a);Nc(d);d.Gi();d.a.xa.style.opacity=.3;d.a.la.style.opacity=.5;d.Wb=setTimeout(c,500);return!1};this.pg=function(){d.c&&d.c.ta()};this.lg=function(){null!==d.Ld&&(clearTimeout(d.Ld),d.Ld=null)};this.Ek=function(){null!==d.Eb&&(clearTimeout(d.Eb),d.Eb=null)};this.Ul=function(a){function c(a){var b=-d.R.f;b!==l?(b=b<l?Math.min(l,b+200):Math.max(l,b-200),d.R.f=-b,Mc(d),Nc(d),b!==l?d.Ld=setTimeout(c,!0===a?300:30):d.Ld=null):d.Ld=null}d.lg();ga(a);a=C.f-Ha(d.a.Aa).f;var b=d.W.Lb()+1,h=d.a.he,k=d.b.M-4;a=Math.max(0,Math.min(k-h,a-h/2));var l=a/(k-h)*(20+24*b-k);c(!0)};this.em=function(){d.lg()};this.bm=function(){d.Ek();d.a.Aa.style.opacity=.3;d.a.pa.style.opacity=.5};this.Xl=function(){d.lg();d.Eb=setTimeout(b,10)};this.Hi=function(){null!==d.Od&&(clearTimeout(d.Od),d.Od=null)};this.Gi=function(){null!==d.Wb&&(clearTimeout(d.Wb),d.Wb=null)};this.Vl=function(a){function c(a){var b=-d.R.g;b!==l?(b=b<l?Math.min(l,b+48):Math.max(l,b-48),d.R.g=-b,Mc(d),Nc(d),b!==l?d.Od=setTimeout(c,!0===a?300:30):d.Od=null):d.Od=null}d.Hi();ga(a);a=C.g-Ha(d.a.xa).g;var b=d.W.Xa()+1,h=d.a.ge,k=d.b.F-4;a=Math.max(0,Math.min(k-h,a-h/2));var l=a/(k-h)*(20+24*b-k);c(!0)};this.fm=function(){d.Hi()};this.dm=function(){d.Gi();d.a.xa.style.opacity=.3;d.a.la.style.opacity=.5};this.Zl=function(){d.Hi();d.Wb=setTimeout(c,10)};this.am=function(){d.Ek();d.a.pa.style.opacity=.7;d.a.Aa.style.opacity=.3};this.Wl=function(){d.lg();d.Eb=setTimeout(b,10)};this.cm=function(){d.Gi();d.a.la.style.opacity=.7;d.a.xa.style.opacity=.3};this.Yl=function(){d.a.la.style.opacity=.5;d.Wb=setTimeout(c,10)};this.Gk=function(){d.sc=!0};this.Fk=function(){d.sc=!1;var a=C.f,e=C.g,g=Ha(d.a.Aa),h=g.f,g=g.g,k=d.a.Aa.clientWidth,l=d.a.Aa.clientHeight;if(a<h||a>h+k||e<g||e>g+l)d.Eb=setTimeout(b,10);g=Ha(d.a.xa);h=g.f;g=g.g;k=d.a.xa.clientWidth;l=d.a.xa.clientHeight;if(a<h||a>h+k||e<g||e>g+l)d.Wb=setTimeout(c,10)};this.Gl=function(a){var c=d.b.M;d.R.f=-((a-2)/(c-4-d.a.he)*(20+24*(d.W.Lb()+1)-c));Mc(d)};this.Ol=function(a,c){var b=d.b.F;d.R.g=-((c-2)/(b-4-d.a.ge)*(20+24*(d.W.Xa()+1)-b));Mc(d)}}q=Cc.prototype;q.o=function(a,b){this.i&&(this.i.Xf=this);this.c=b;this.c.K=this;this.W.Fh(b);this.a.e=D(a);var c=this.a.e.a,d=this.a.e,f=a+"_Board",e=a+"_Selection",g=a+"_Current",h=a+"_Lines",k=a+"_Shadows",l=a+"_Nodes",n=a+"_Events";this.Ea(c,f);this.Ea(c,e);this.Ea(c,g);this.Ea(c,h);this.Ea(c,k);this.Ea(c,l);var m=this.na(c,n);this.a.Aa=this.na(c,a+"HorScroll_BG");this.a.pa=this.na(c,a+"HorScroll");this.a.xa=this.na(c,a+"VerScroll_BG");this.a.la=this.na(c,a+"VerScroll");this.a.Aa.style.background="rgb(0,0,0)";this.a.Aa.style.opacity="0";this.a.xa.style.background="rgb(0,0,0)";this.a.xa.style.opacity="0";this.a.Aa.onmousedown=this.Ul;this.a.Aa.onmouseup=this.em;this.a.Aa.onmouseover=this.bm;this.a.Aa.onmouseout=this.Xl;this.a.xa.onmousedown=this.Vl;this.a.xa.onmouseup=this.fm;this.a.xa.onmouseover=this.dm;this.a.xa.onmouseout=this.Zl;this.a.pa.onmouseover=this.am;this.a.pa.onmouseout=this.Wl;this.a.la.onmouseover=this.cm;this.a.la.onmouseout=this.Yl;c=D(a+"HorScroll_BG");I(c.h,2,0,2,4,!0,!1,!0,!0,-1,8);c.m=L|N|P;d.l(c);c=D(a+"VerScroll_BG");I(c.h,0,2,4,2,!1,!0,!0,!0,8,-1);c.m=K|N|P;d.l(c);this.ka(this.a.V,d,f);this.ka(this.a.Selection,d,e);this.ka(this.a.Fc,d,g);this.ka(this.a.S,d,h);this.ka(this.a.Lh,d,k);this.ka(this.a.yh,d,l);this.ka(this.a.Vk,d,n);m.onmousedown=this.Xe;m.onmousemove=this.qg;m.onmouseout=this.Ye;m.onmousewheel=this.Hk;m.addEventListener&&m.addEventListener("DOMMouseScroll",this.Hk,!1);m.onfocus=this.pg;m.tabIndex=-1;m.style.pl=!0;m.style.outline=0;this.Ve();this.Te();Oc(this);this.Ue()};q.v=function(a){var b=this.a.e.a.clientWidth,c=this.a.e.a.clientHeight;this.a.e.Ma(b,c);this.nb(b,c,a)};function Pc(a){if(!(0>=a.b.M||0>=a.b.F)){var b=a.b.M,c=a.b.F,d=20+24*(a.W.Lb()+1),f=20+24*(a.W.Xa()+1);d>b?(a.a.he=Math.max(50,b*b/d),a.a.pa.style.width=Math.max(50,b*b/d)+"px",a.a.pa.style.display="block",a.a.pa.style.position="absolute",a.a.pa.style.top=c-12+"px",a.a.pa.style.height="8px",a.a.pa.style.background=a.Jb()?"rgb(220, 220, 220)":"rgb(0,0,0)",a.a.pa.style.opacity=0,Qc(a.a.pa,2,b-a.a.he-2,c-12,c-12),a.a.pa.Wa=a.Gl,a.a.pa.kg=a.Gk,a.a.pa.jg=a.Fk,a.a.Aa.style.display="block"):(a.a.Aa.style.display="none",a.a.pa.style.display="none");f>c?(a.a.ge=Math.max(50,c*c/f),a.a.la.style.height=Math.max(50,c*c/f)+"px",a.a.la.style.display="block",a.a.la.style.position="absolute",a.a.la.style.left=b-12+"px",a.a.la.style.width="8px",a.a.la.style.background=a.Jb()?"rgb(220, 220, 220)":"rgb(0,0,0)",a.a.la.style.opacity=0,Qc(a.a.la,b-12,b-12,2,c-a.a.ge-2),a.a.la.Wa=a.Ol,a.a.la.kg=a.Gk,a.a.la.jg=a.Fk,a.a.xa.style.display="block"):(a.a.xa.style.display="none",a.a.la.style.display="none");a.bb.F=-1;a.bb.M=-1;Mc(a);Nc(a)}}q.tb=function(){this.W.tb();this.bb.F=-1;this.bb.M=-1};function Rc(a,b){a.Nf=!0;var c=a.b.M,d=a.b.F;if(!(0>=c||0>=d)){var f=a.c.j.Ra,e=f.f,f=f.g,g=10+a.R.f+24*e,h=10+a.R.g+24*f;if(0!=b&&!0===a.rl&&(10>=g||g>=c-10||10>=h||h>=d-10)){var k=20+24*(a.W.Xa()+1)-d,l=20+24*(a.W.Lb()+1)-c;10>=g?a.R.f=24*-e:g>=c-10&&(a.R.f=c-24-10-10-24*e);10>=h?a.R.g=24*-f:h>=d-10&&(a.R.g=d-24-10-10-24*f);a.R.f=Math.min(0,Math.max(a.R.f,-l));a.R.g=Math.min(0,Math.max(a.R.g,-k));Nc(a);Mc(a)}}}q.Ea=function(a,b){var c=document.createElement("canvas");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.na=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.ka=function(a,b,c){a.e=D(c);a=a.e;I(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.m=K|L|N|P;b.l(a)};q.nb=function(a,b,c){var d=this.a.V.e.a.getContext("2d");a!==this.b.M||b!==this.b.F||null===this.b.V||null!==this.ab||!0===c?(this.b.M=a,this.b.F=b,d.fillStyle=R(this.We()),d.fillRect(0,0,a,b),null!==this.ab&&clearTimeout(this.ab),this.ab=this.Si()):d.putImageData(this.b.V,0,0);Pc(this)};q.Ki=function(){this.ab=null;var a=this.b.M,b=this.b.F,c=this.a.V.e.a.getContext("2d");if(0!==a&&0!==b){for(var d=c.createImageData(a,b),f=this.We(),e=f.r,g=f.u,f=f.t,h=Array(a),k=0;k<a;k++)h[k]=(Math.tan(300*k/a)+1)/2+(Math.tan(100*k/a)+1)/10;for(var l=Array(b),n=0;n<b;n++)l[n]=.02*Math.tan(n/b);var m,u,p,k=this.fd();if(!0===this.ng())for(p=.9,n=0;n<b;n++)for(k=0;k<a;k++){p=40*(h[k]+l[n])+.5;p-=Math.floor(p);p=.2>p?1-p/2:.4>p?1-(.4-p)/2:1;if(n==b-1||n==b-2&&k<a-2||k>=a-1||k==a-2&&n<b-1)p/=2;0==n||1==n&&1<k||0==k||1==k&&1<n?(m=128+e*p/2,u=128+g*p/2,p=128+f*p/2):(m=e*p,u=g*p,p*=f);var t=4*(k+n*a);d.data[t+0]=m;d.data[t+1]=u;d.data[t+2]=p;d.data[t+3]=255}else for(h=0;h<b;h++)for(l=0;l<a;l++)0==h||0==l||h===b-1||l===a-1?(m=k.r,u=k.u,p=k.t):(m=e,u=g,p=f),t=4*(l+h*a),d.data[t+0]=m,d.data[t+1]=u,d.data[t+2]=p,d.data[t+3]=255;this.b.V=d;c.putImageData(this.b.V,0,0)}};q.Ve=function(){var a=this.a.yh.e.a.getContext("2d");this.b.hd=a.createImageData(20,20);this.b.Ad=a.createImageData(20,20);this.b.bf=a.createImageData(20,20);this.b.Bf=a.createImageData(20,20);var a=this.b.hd.data,b=this.b.Ad.data,c=this.b.bf.data,d=this.b.Bf.data,f=this.Ni(),e=this.Li(),g=this.Jb();if(!0===this.Mi())for(var h=9.5,k=h-.2,f=Math.sqrt(3),l=0;20>l;l++)for(var n=0;20>n;n++){var m=l-h,u=n-h,p=k-Math.sqrt(m*m+u*u),t=4*(20*l+20-n-1);if(0<=p){var v=k*k-m*m-u*u,v=0<v?Math.sqrt(v)*f:0,g=m,r=u,e=Math.sqrt(6*(g*g+r*r+v*v)),e=(2*v-g+r)/e,g=0;.9<e&&(g=10*(e-.9));v=255;.8>=p&&(p=(.8-p)/.8,v=.7,m-u<k/3&&(v=1),v=parseInt(255*(1-p*v)));m=parseInt(10+10*e+140*g);a[t+0]=m;a[t+1]=m;a[t+2]=m;a[t+3]=v;c[t+0]=m;c[t+1]=m;c[t+2]=m;c[t+3]=parseInt(.5*v);m=parseInt(200+10*e+45*g);b[t+0]=m;b[t+1]=m;b[t+2]=m;b[t+3]=v;d[t+0]=m;d[t+1]=m;d[t+2]=m;d[t+3]=parseInt(.7*v)}else a[t+0]=0,a[t+1]=0,a[t+2]=0,a[t+3]=0,d[t+0]=0,d[t+1]=0,d[t+2]=0,d[t+3]=0}else for(h=9.5,k=h-.2,l=0;20>l;l++)for(n=0;20>n;n++)if(m=l-h,u=n-h,p=k-Math.sqrt(m*m+u*u),t=4*(20*l+20-n-1),0<=p){v=255;if(.8>=p){var x=(.8-p)/.8,v=.7;m-u<k/3&&(v=1);v=parseInt(255*(1-x*v))}else 1.6>=p&&.8<=p&&!0===g&&(x=(1.6-p)/.8,v=.7,m-u<k/3&&(v=1),v=parseInt(x*v*255));r=!1;1.6>=p&&(r=!0);!1===r||!1===g?(a[t+0]=e.r,a[t+1]=e.u,a[t+2]=e.t,a[t+3]=v,c[t+0]=e.r,c[t+1]=e.u,c[t+2]=e.t):(a[t+0]=f.r,a[t+1]=f.u,a[t+2]=f.t,a[t+3]=v,c[t+0]=f.r,c[t+1]=f.u,c[t+2]=f.t);c[t+3]=parseInt(.5*v);v=255;.8>=p?(x=(.8-p)/.8,v=.7,m-u<k/3&&(v=1),v=parseInt(255*(1-x*v))):1.6>=p&&.8<=p&&!1===g&&(x=(1.6-p)/.8,v=.7,m-u<k/3&&(v=1),v=parseInt(x*v*255));!1===r||!0===g?(b[t+0]=f.r,b[t+1]=f.u,b[t+2]=f.t,b[t+3]=v,d[t+0]=f.r,d[t+1]=f.u,d[t+2]=f.t):(b[t+0]=e.r,b[t+1]=e.u,b[t+2]=e.t,b[t+3]=v,d[t+0]=e.r,d[t+1]=e.u,d[t+2]=e.t);d[t+3]=parseInt(v/2)}else a[t+0]=0,a[t+1]=0,a[t+2]=0,a[t+3]=0,c[t+0]=0,c[t+1]=0,c[t+2]=0,c[t+3]=0,b[t+0]=0,b[t+1]=0,b[t+2]=0,b[t+3]=0,d[t+0]=0,d[t+1]=0,d[t+2]=0,d[t+3]=0};q.Te=function(){var a=this.a.S.e.a.getContext("2d");this.b.ih=a.createImageData(24,24);this.b.oj=a.createImageData(24,24);this.b.bh=a.createImageData(24,24);this.b.nj=a.createImageData(24,24);this.b.gh=a.createImageData(24,24);this.b.Qh=a.createImageData(24,24);this.b.Zj=a.createImageData(24,24);this.b.Uh=a.createImageData(24,24);this.b.mh=a.createImageData(24,24);this.b.jh=a.createImageData(24,24);this.b.kh=a.createImageData(24,24);this.b.lh=a.createImageData(24,24);this.b.nh=a.createImageData(24,24);this.b.dh=a.createImageData(24,24);this.b.eh=a.createImageData(24,24);this.b.fh=a.createImageData(24,24);this.b.hh=a.createImageData(24,24);this.b.Wh=a.createImageData(24,24);this.b.Rh=a.createImageData(24,24);this.b.Sh=a.createImageData(24,24);this.b.Th=a.createImageData(24,24);this.b.Vh=a.createImageData(24,24);for(var a=this.b.ih.data,b=this.b.oj.data,c=this.b.bh.data,d=this.b.nj.data,f=this.b.gh.data,e=this.b.Qh.data,g=this.b.Zj.data,h=this.b.Uh.data,k=this.b.mh.data,l=this.b.jh.data,n=this.b.kh.data,m=this.b.lh.data,u=this.b.nh.data,p=this.b.dh.data,t=this.b.eh.data,v=this.b.fh.data,r=this.b.hh.data,x=this.b.Wh.data,J=this.b.Rh.data,M=this.b.Sh.data,B=this.b.Th.data,E=this.b.Vh.data,Q=!0===this.Jb()?200:28,z=new A(Q,Q,Q,255),O=0;24>O;O++)for(var S=0;24>S;S++){var w=4*(24*O+S);12<=S&&(11===O||12===O)?(a[w+0]=z.r,a[w+1]=z.t,a[w+2]=z.u,a[w+3]=255,k[w+0]=z.r,k[w+1]=z.t,k[w+2]=z.u,k[w+3]=96):(a[w+3]=0,k[w+3]=0);11<=S&&(11===O||12===O)||12<=O&&(11===S||12===S)?(b[w+0]=z.r,b[w+1]=z.t,b[w+2]=z.u,b[w+3]=255,m[w+0]=z.r,m[w+1]=z.t,m[w+2]=z.u,m[w+3]=96):(b[w+3]=0,m[w+3]=0);11<=S&&(11===O||12===O)?(l[w+0]=z.r,l[w+1]=z.t,l[w+2]=z.u,l[w+3]=255):12<=O&&(11===S||12===S)?(l[w+0]=z.r,l[w+1]=z.t,l[w+2]=z.u,l[w+3]=96):l[w+3]=0;12<=O&&(11===S||12===S)?(n[w+0]=z.r,n[w+1]=z.t,n[w+2]=z.u,n[w+3]=255):11<=S&&(11===O||12===O)?(n[w+0]=z.r,n[w+1]=z.t,n[w+2]=z.u,n[w+3]=96):n[w+3]=0;11===O||12===O?(c[w+0]=z.r,c[w+1]=z.t,c[w+2]=z.u,c[w+3]=255,u[w+0]=z.r,u[w+1]=z.t,u[w+2]=z.u,u[w+3]=96):(c[w+3]=0,u[w+3]=0);11===O||12===O||12<=O&&(11===S||12===S)?(d[w+0]=z.r,d[w+1]=z.t,d[w+2]=z.u,d[w+3]=255,v[w+0]=z.r,v[w+1]=z.t,v[w+2]=z.u,v[w+3]=96):(d[w+3]=0,v[w+3]=0);11===O||12===O?(p[w+0]=z.r,p[w+1]=z.t,p[w+2]=z.u,p[w+3]=255):12<=O&&(11===S||12===S)?(p[w+0]=z.r,p[w+1]=z.t,p[w+2]=z.u,p[w+3]=96):p[w+3]=0;(11===O||12===O)&&12>=S||12<=O&&(11===S||12===S)?(t[w+0]=z.r,t[w+1]=z.t,t[w+2]=z.u,t[w+3]=255):(11===O||12===O)&&12<S?(t[w+0]=z.r,t[w+1]=z.t,t[w+2]=z.u,t[w+3]=96):(d[w+3]=0,v[w+3]=0);11>=S&&(11===O||12===O)?(f[w+0]=z.r,f[w+1]=z.t,f[w+2]=z.u,f[w+3]=255,r[w+0]=z.r,r[w+1]=z.t,r[w+2]=z.u,r[w+3]=96):(f[w+3]=0,r[w+3]=0);11===S||12===S?(e[w+0]=z.r,e[w+1]=z.t,e[w+2]=z.u,e[w+3]=255,x[w+0]=z.r,x[w+1]=z.t,x[w+2]=z.u,x[w+3]=96):(e[w+3]=0,x[w+3]=0);11===S||12===S||12<=S&&(11===O||12===O)?(g[w+0]=z.r,g[w+1]=z.t,g[w+2]=z.u,g[w+3]=255,B[w+0]=z.r,B[w+1]=z.t,B[w+2]=z.u,B[w+3]=96):(g[w+3]=0,B[w+3]=0);(11===S||12===S)&&12>=O||12<=S&&(11===O||12===O)?(J[w+0]=z.r,J[w+1]=z.t,J[w+2]=z.u,J[w+3]=255):(11===S||12===S)&&12<O?(J[w+0]=z.r,J[w+1]=z.t,J[w+2]=z.u,J[w+3]=96):J[w+3]=0;11===S||12===S?(M[w+0]=z.r,M[w+1]=z.t,M[w+2]=z.u,M[w+3]=255):12<S&&(11===O||12===O)?(M[w+0]=z.r,M[w+1]=z.t,M[w+2]=z.u,M[w+3]=96):M[w+3]=0;11>=O&&(11===S||12===S)||11<=S&&(11===O||12===O)?(h[w+0]=z.r,h[w+1]=z.t,h[w+2]=z.u,h[w+3]=255,E[w+0]=z.r,E[w+1]=z.t,E[w+2]=z.u,E[w+3]=96):(h[w+3]=0,E[w+3]=0)}this.b.Oj=this.Da(20,20,20*.07,z,1,null);this.b.Rj=this.Da(20,20,20*.07,new A(Q,Q,Q,96),1,null);this.b.Pj=this.Da(20,20,1.2,new A(255,255,255,255),1,this.b.hd);this.b.Sj=this.Da(20,20,1.2,new A(0,0,0,255),1,this.b.Ad);this.b.Qj=this.Da(20,20,1.2,new A(255,255,255,96),1,this.b.bf);this.b.Tj=this.Da(20,20,1.2,new A(0,0,0,96),1,this.b.Bf)};function Oc(a){var b=a.a.Selection.e.a.getContext("2d");a.b.Pb=b.createImageData(24,24);a.b.Fc=b.createImageData(24,24);for(var c=a.b.Pb.data,d=a.b.Fc.data,f=0;24>f;f++)for(var e=0;24>e;e++){var g=4*(e+24*f);c[g+3]=255;d[g+3]=255;0===e&&23===f||23===e&&0===f?(c[g+0]=135,c[g+1]=125,c[g+2]=135,d[g+0]=216):23===e||23===f?(c[g+0]=89,c[g+1]=89,c[g+2]=89,d[g+0]=178):(0===f||0===e?(c[g+0]=182,c[g+1]=182,c[g+2]=182):(c[g+0]=128,c[g+1]=128,c[g+2]=128),d[g+0]=255);d[g+1]=0;d[g+2]=0}b.putImageData(a.b.Pb,0,0);b.putImageData(a.b.Fc,0,30)}q.Da=function(a,b,c,d,f,e){void 0===f&&(f=1);var g=this.a.S.e.a.getContext("2d");g.clearRect(0,0,a,b);null!==e&&g.putImageData(e,0,0);g.globalAlpha=f;g.strokeStyle=R(d);g.fillStyle=R(d);g.lineWidth=c;f=a/2;d=3*b/4;var h=.1*a;c=Math.sqrt(f*f-(d-f)*(d-f))+f-h;f=-Math.sqrt(f*f-(d-f)*(d-f))+f+h;null!==e&&(c=Math.floor(c-.5),f=Math.ceil(f+.5),h=Math.ceil(h+.5),d=Math.floor(d-.5));g.beginPath();g.moveTo(a/2,h);g.lineTo(c,d);g.lineTo(f,d);g.closePath();g.stroke();a=g.getImageData(0,0,a,b);g.putImageData(a,0,0);return a};q.Ue=function(){var a=this.a.Lh.e.a.getContext("2d");this.b.Ba=a.createImageData(20,20);a=this.b.Ba.data;this.b.xb=Math.max(3,3);for(var b=0;20>b;b++)for(var c=0;20>c;c++){var d=Math.abs(b-8.5),f=Math.abs(c-8.5),d=Math.sqrt(f*f+d*d)/8.5,d=1>d?.15+.75*(1-d):0,f=4*(20*b+c);a[f+0]=0;a[f+1]=0;a[f+2]=0;a[f+3]=parseInt(255*d)}};function Mc(a){a.Of=!0;Rc(a,!1)}q.Td=function(a,b){var c=Ha(this.a.V.e.a);return{f:(a-c.f-10-this.R.f)/24|0,g:(b-c.g-10-this.R.g)/24|0}};q.ob=function(a,b){var c=this.b.M,d=this.b.F;if(!(0>=c||0>=d)){var f=this.a.Selection.e.a.getContext("2d");f.clearRect(0,0,c,d);0<=a&&0<=b&&(c=10+this.R.f+24*a,d=10+this.R.g+24*b,this.W.D(a,b).ce()&&f.putImageData(this.b.Pb,c,d))}};function Nc(a){var b=a.b.M,c=a.b.F,c=-a.R.g/(20+24*(a.W.Xa()+1)-c)*(c-4-a.a.ge)+2;a.a.pa.style.left=-a.R.f/(20+24*(a.W.Lb()+1)-b)*(b-4-a.a.he)+2+"px";a.a.la.style.top=c+"px"}q.ng=function(){return y.ha.qc};q.Mi=function(){return y.ha.Qc};q.mg=function(){return y.ha.Pc};q.Ni=function(){return y.ha.ed};q.Li=function(){return y.ha.cd};q.We=function(){return y.ha.Dc};q.fd=function(){return y.ha.dd};q.Jb=function(){return y.ha.Oc};var tc=-9,uc=-8,vc=-7;function Sc(a,b,c){this.H=a;this.aa=b;this.Zf=c}Sc.prototype.ce=function(){return!1};Sc.prototype.Q=function(){return this.Zf};Sc.prototype.vd=function(){if(-10!==this.H)if(tc===this.H){if(this.aa.vd()&&0<U(this.aa)&&this.aa.Q().Ra.g>=this.Zf.Ra.g)return{pc:!0}}else if(uc===this.H){if(!this.aa.vd())return{pc:!1};var a=this.Zf.Ra.g,b=this.aa.Q().Ra.g;if(a<b)return{pc:!0,Fj:0};if(a===b)return{pc:!0,Fj:1}}else if(vc===this.H)return{pc:this.Zf.vd()};return{pc:!1}};function Lc(){this.W=[];this.c=null;this.Va=0}q=Lc.prototype;q.Fh=function(a){this.c=a};q.sa=function(){this.W=[];this.Va=0};q.tb=function(){this.c&&(this.sa(),Tc(this,this.c.ba,0,0))};function Tc(a,b,c,d){var f,e=1;for(f=b;0<U(f);)e++,f=f.Q(0);for(f=e;!Uc(a,c,d,f);)d++;var e=c,g=d,h=b;for(a.Set(e,g,b);0<U(h);)e++,h=h.Q(0),a.Set(e,g,h);e=Vc(b);c+=f-1;for(f={Yj:d};;){for(var g=d,h=a.Va,k=U(e),l=1;l<k;l++){a.Va=h;var n=d,m=Tc(a,e.Q(l),c+1,d+1);d=m.g;for(n+=1;n<=d;n++)if(n===m.Yj)if(k-1===l){a.Set(c,n,new Sc(vc,e,e.Q(l)));break}else a.Set(c,n,new Sc(uc,e,e.Q(l)));else n<m.Yj?a.Set(c,n,new Sc(tc,e,e.Q(l))):a.Set(c,n,new Sc(tc,e,e.Q(l+1)))}a.Va=h;if(e===b)break;e.td()&&a.Va--;e=e.aa;c--;d=g}f.g=d;return f}q.D=function(a,b){return void 0===this.W[b]||void 0===this.W[b][a]?new Sc(-10,null,null):this.W[b][a]};q.Set=function(a,b,c){void 0===this.W[b]&&(this.W[b]=[]);if(c.ce())if(c.td()){this.Va++;var d=this.Va;c.Ra.f=a;c.Ra.g=b;c.Ra.qf=d}else c.Ra.f=a,c.Ra.g=b,c.Ra.qf=-1;this.W[b][a]=c};function Uc(a,b,c,d){for(var f=0;f<d;f++){var e=b+f;if(!1===(void 0===a.W[c]||void 0===a.W[c][e]||-10===a.W[c][e].H?!0:!1))return!1}return!0}q.Xa=function(){return this.W.length};q.Lb=function(){for(var a=0,b=this.Xa(),c=0;c<b;c++){var d=this.W[c].length-1;d>a&&(a=d)}return a};function Wc(a){if(this.c=a)a.i=this;this.Ha=null;this.$=[];this.a={wh:null,Nc:null,zj:null,tj:null,pf:null,sf:null,df:null};this.Ub=this.Qf=this.kb=0}q=Wc.prototype;q.o=function(a,b){Xc(this,b);var c=this.c,d=D(a),f=a+"_Board",e=a+"_Message",g=a+"_Next";this.J(d.a,f);var h=this.J(d.a,g),k=this.J(d.a,e);k.style.backgroundColor="rgb(255,255,255)";k.style["border-radius"]="6px";k.style["-webkit-border-radius"]="6px";k.style["-moz-border-radius"]="5px";k.style["-khtml-border-radius"]="10px";k.style.borderColor="#e3e3e3";k.style.borderWidth="5px";k.style.borderStyle="ridge";k.style.display="block";var l=D(f);I(l.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);l.m=K|L|P|N;d.l(l);this.J(l.a,f+"_Centred");var n=D(f);l.fb(2);l.l(n);l=D(e);I(l.h,350,350,650,650,!1,!1,!1,!1,-1,-1);l.m=K|L|P|N;d.l(l);n=new aa(this);n.o(f,c);n.Wc=this;var m=D(g);I(m.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);m.m=K|L|P|N;d.l(m);c=g+"_Centred";this.J(m.a,c);f=D(c);m.fb(2);m.l(f);m=c+"_Next";g=Yc(f.a,m);g.value="\u0414\u0430\u043b\u0435\u0435";g.style.display="none";var u=c+"_Prev",c=Yc(f.a,u);c.value="\u041d\u0430\u0437\u0430\u0434";c.style.display="none";var p=this;g.addEventListener("click",function(){p.a.pf.style.display="none";p.a.sf.style.display="none";Zc(p)},!1);c.addEventListener("click",function(){p.a.pf.style.display="none";p.a.sf.style.display="none";$c(p)},!1);m=D(m);I(m.h,501,0,2,2,!1,!1,!0,!0,-1,25);m.m=L|P|N;f.l(m);m=D(u);I(m.h,2,0,499,2,!0,!1,!1,!0,-1,25);m.m=L|P|N;f.l(m);var t=e+"_Text",u=e+"_Next",v=e+"_Prev",e=this.J(k,t);e.style.fontFamily="verdana";e.style.textAlign="justify";e.style.mm="center";e.style.overflowY="scroll";f=Yc(k,u);m=Yc(k,v);m.addEventListener("click",function(){$c(p)},!1);f.addEventListener("click",function(){Zc(p)},!1);t=D(t);I(t.h,0,0,1E3,35,!1,!1,!1,!0,-1,-1);t.m=K|L|N|P;l.l(t);u=D(u);I(u.h,0,0,5,5,!1,!1,!0,!0,100,25);u.m=N|P;l.l(u);u=D(v);I(u.h,5,0,0,5,!0,!1,!1,!0,100,25);u.m=N|L;l.l(u);this.a.wh=k;this.a.Nc=e;this.a.zj=m;this.a.tj=f;this.a.pf=g;this.a.sf=c;this.a.df=h;this.$.push(n);this.Ha=d;this.v();ad(this,0,0)};q.v=function(a){this.Ha&&this.Ha.Ma(this.Ha.a.clientWidth,this.Ha.a.clientHeight);for(var b=0,c=this.$.length;b<c;b++)this.$[b].v(a)};function mb(a){return null===a.ca[a.kb].Na||void 0===a.ca[a.kb].Na.gj?0:a.ca[a.kb].Na.gj}function nb(a){null!==a.ca[a.kb].Na&&!0===a.ca[a.kb].Na.hl?(a.a.df.style.display="block",a.a.pf.style.display="block",a.a.sf.style.display="block"):a.qm(a.kb,2)}q.Bj=function(){};q.mc=function(){};q.Qb=function(){};q.Uj=function(){};q.Wj=function(){};q.Vj=function(){};q.Xj=function(){};q.me=function(){};q.le=function(){};q.zh=function(){};q.vj=function(){};function Xc(a,b){var c=b.length;a.Qf=c;a.ca=[];for(var d=0;d<c;d++)a.ca[d]={},a.ca[d].Kh=b[d].Sgf,a.ca[d].hm=b[d].Before,a.ca[d].gm=b[d].After,a.ca[d].vh=b[d].Message,null===b[d].SgfPr?a.ca[d].Na=null:(a.ca[d].Na={},a.ca[d].Na.gj=b[d].SgfPr.Count,a.ca[d].Na.hl=b[d].SgfPr.WaitOnEnd,a.ca[d].Na.$d={},b[d].SgfPr.Flags&&(a.ca[d].Na.$d.of=b[d].SgfPr.Flags.NewNode,a.ca[d].Na.$d.mf=b[d].SgfPr.Flags.Move,a.ca[d].Na.$d.Jg=b[d].SgfPr.Flags.ChangeBoardMode,a.ca[d].Na.$d.rh=b[d].SgfPr.Flags.LoadFile))}function Zc(a){var b=a.kb;0===a.Ub?null!==a.ca[b].Kh?ad(a,b,1):(a.Ub=1,Zc(a)):1!==a.Ub||b>=a.Qf-1||(null!==a.ca[b+1].vh?ad(a,b+1,0):(a.kb++,a.Ub=0,Zc(a)))}function $c(a){var b=a.kb;0===a.Ub?0>=b||(null!==a.ca[b-1].Kh?ad(a,b-1,1):(a.kb--,a.Ub=1,$c(a))):1===a.Ub&&(null!==a.ca[b].vh?ad(a,b,0):(a.Ub=0,$c(a)))}function ad(a,b,c){if(!(0>b||b>=a.Qf)){a.kb=b;a.Ub=c;var d=a.ca[b].Kh,f=a.ca[b].Na,e=a.ca[b].vh;if(0===c)if(a.a.df.style.display="block",null!==e){c=0===b?null:"\u041d\u0430\u0437\u0430\u0434";b=b===a.Qf-1&&null===d?null:"\u0414\u0430\u043b\u0435\u0435";d=a.a.zj;f=a.a.tj;for(a.a.wh.style.display="block";a.a.Nc.firstChild;)a.a.Nc.removeChild(a.a.Nc.firstChild);gc(a.a.Nc,"");"string"===typeof e?gc(a.a.Nc,e):a.a.Nc.appendChild(e);null===c?d.style.display="none":(d.style.display="block",d.value=c);null===b?f.style.display="none":(f.style.display="block",f.value=b)}else Zc(a);else 1===c&&(a.a.df.style.display="none",null!==d?(a.a.wh.style.display="none",a.c.G=4294967295,a.c.Kc(d),bd(a.c,f.$d),a.c.ta()):Zc(a))}}q.J=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function Yc(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("type","button");a.appendChild(c);return c};var cd=0,Fc=0,Ec=1;function Dc(a){this.i=a;this.c=null;this.H=cd;this.a={e:null,fe:null,Dh:null,Nh:null};this.ui=new A(217,217,217,255);this.yl=new A(54,101,179,255);this.Al=new A(140,140,140,255);this.Bl=new A(0,0,0,255);this.Pa=this.Id=this.A=0;this.vc=7;this.Gb=10;this.te=!1;var b=this;this.Dl=function(a){var d=b.A-b.Pa;0!==d&&(Hc(b,(a-b.Gb)/d,!1),dd(b,!1))};this.Pi=function(){b.te=!0;dd(b,!1)};this.Fl=function(a){b.te=!1;var d=b.A-b.Pa;0!==d&&(Hc(b,(a-b.Gb)/d,!1),dd(b,!0))}}Dc.prototype.o=function(a,b,c,d){this.c=b;this.H=c;switch(c){case Fc:this.i.Ge=this;break;case Ec:this.i.zi=this}this.a.e=D(a);c=this.a.e.a;c.style.backgroundColor=R(this.ui);c.style.rm=R(new A(255,255,255,255));var f=a+"_Left";b=a+"_Right";a=a+"_Slider";this.a.fe=this.na(c,f);this.a.Dh=this.na(c,b);this.a.Nh=this.na(c,a);a=D(f);I(a.h,this.Gb,this.vc,500,this.vc,!0,!0,!1,!0,-1,-1);a.m=K|L|N|P;this.a.e.l(a);a.a.style.background=R(this.yl);a=D(b);I(a.h,500,this.vc,this.Gb,this.vc,!1,!0,!0,!0,-1,-1);a.m=K|L|N|P;this.a.e.l(a);a.a.style.background=R(this.Al);this.v();Hc(this,d)};Dc.prototype.v=function(){var a=this.a.e.a.clientWidth,b=this.a.e.a.clientHeight;this.A=a-2*this.Gb;this.a.e.Ma(a,b);this.nb(a,b);Hc(this,this.Id,!0)};Dc.prototype.nb=function(a,b){var c=b-2*this.vc;this.Pa=c;var d=this.a.Nh;d.style.width=c+"px";d.style.height=c+"px";d.style.display="block";d.style.position="absolute";d.style.backgroundColor=R(this.Bl);d.style.top=this.vc+"px";d.style.left=this.Gb+"px";Qc(d,this.Gb,a-this.Gb-c,this.vc,this.vc);d.Wa=this.Dl;d.kg=this.Pi;d.jg=this.Fl;d=this.a.fe;d.style.fontSize=c+"px";d.style.color="rgb(255,255,255)";d.style.textOverflow="clip";d.style.overflow="hidden"};Dc.prototype.na=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};function Hc(a,b,c){a.Id=Math.min(1,Math.max(b,0));b=a.Id*a.A;a.a.fe.style.width=b+"px";a.a.Dh.style.left=b+a.Gb+"px";a.a.Dh.style.width=a.A-b+"px";!1!==c&&(a.a.Nh.style.left=a.Id*(a.A-a.Pa)+a.Gb+"px")}function dd(a,b){if(a.c)switch(a.H){case Fc:var c=a.c,d=a.Id;c.ue=d;if(c.i){var f=c.i;f.Ge&&(f=f.Ge,!0!==f.te&&Hc(f,d,!0))}null!==c.Tb&&c.ke();b?gc(a.a.fe,""):gc(a.a.fe,((100+6900*(1-a.c.ue))/1E3*1E3|0)/1E3+" seconds for move");break;case Ec:c=a.c;d=c.ba;for(f=1;0<U(d);)f++,d=d.Q();d=a.Id*(f-1);for(f=c.ba;0<U(f)&&0<d;)d--,f=f.Q();kb(c,f)}};function ed(){this.ej=this.dj=this.cj=this.bj=this.xj=null;this.fk=!1;this.Fd=!0}ed.prototype.o=function(a){var b=document.getElementsByTagName("body");if(!(0>=b.length)){this.Fd=!0;var c="",d=navigator.userAgent;-1!=d.indexOf("Opera")?c="Opera":-1!=d.indexOf("Chrome")?c="Chrome":-1!=d.indexOf("MSIE")?c="IE":-1!=d.indexOf("Safari")?c="Safari":-1!=d.indexOf("Mozilla")&&(c="Mozilla");"IE"===c&&(this.fk=!0);b=b[0];this.xj=fd(b,"GoBoardApiSoundPlaceStone",a+"/Stone.mp3");this.bj=fd(b,"GoBoardApiSoundCapture1",a+"/Capture1.mp3");this.cj=fd(b,"GoBoardApiSoundCapture3",a+"/Capture3.mp3");this.dj=fd(b,"GoBoardApiSoundCapture5",a+"/Capture5.mp3");this.ej=fd(b,"GoBoardApiSoundCaptureN",a+"/CaptureN.mp3")}};function gd(a,b){1>=b?hd(a,a.bj):3>=b?hd(a,a.cj):5>=b?hd(a,a.dj):hd(a,a.ej)}function fd(a,b,c){var d=document.getElementById(b);d||(d=document.createElement("audio"),d.id=b,d.Xh="preload",d.src=c,a.appendChild(d));return d}function hd(a,b){if(b&&a.Fd&&y.de())try{a.fk?(b.setActive(),b.click(),b.autoplay="",b.autoplay="autoplay"):b.play()}catch(c){}};function yc(a){this.i=a;this.c=null;this.a={e:null};this.ti=new A(217,217,217,255);this.If=[]}yc.prototype.o=function(a,b,c){this.c=b;this.a.e=D(a);var d=this.a.e.a,f=this.a.e;d.style.backgroundColor=R(this.ti);for(var e=0,g=c.ja.length;e<g;e++){var h=c.ja[e],k=null;switch(h){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 20:case 23:case 24:case 25:case 26:case 27:k=new Ub(this.i)}if(null!==k){var l=a+e;this.na(d,l);this.ka(f,l,e/g,(e+1)/g);k.o(l,b,h);this.If.push(k)}}this.v()};yc.prototype.v=function(){this.a.e.Ma(this.a.e.a.clientWidth,this.a.e.a.clientHeight);for(var a=0,b=this.If.length;a<b;a++)this.If[a].v()};yc.prototype.na=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};yc.prototype.ka=function(a,b,c,d){b=D(b);I(b.h,1E3*c,0,1E3*d,1E3,!1,!1,!1,!1,-1,-1);b.m=K|L|N|P;a.l(b)};function Gc(a){this.i=a;this.c=null;this.a={e:null,im:{e:null},km:{e:null}};this.ti=new A(217,217,217,255);this.Tf=this.Yf=this.xc=this.Vc=null;this.If=[]}q=Gc.prototype;q.o=function(a,b,c,d){this.c=b;this.a.e=D(a);var f=this.a.e.a,e=this.a.e;f.style.backgroundColor=R(this.ti);var g=new Ub(this.i),h=a+"C";this.na(f,h);this.ka(e,h,0,.5);g.o(h,b,26);this.xc=g;g=new Ub(this.i);a=a+"N";this.na(f,a);this.ka(e,a,1,1);g.o(a,b,27);this.Vc=g;this.Vc.uk=this;this.xc.uk=this;this.Yf=document.getElementById(c);this.Tf=document.getElementById(d);this.xd(this.xc);this.v()};q.v=function(){this.a.e.Ma(this.a.e.a.clientWidth,this.a.e.a.clientHeight);this.Vc.v();this.xc.v()};q.na=function(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c};q.ka=function(a,b,c){b=D(b);I(b.h,0,40*c,1E3,0,!1,!0,!1,!1,-1,40);b.m=K|L|P;a.l(b)};q.xd=function(a){a===this.Vc?(Zb(this.Vc,!0),Zb(this.xc,!1),this.Yf.style.visibility="visible",this.Tf.style.visibility="hidden"):a===this.xc?(Zb(this.Vc,!1),Zb(this.xc,!0),this.Yf.style.visibility="hidden",this.Tf.style.visibility="visible"):(Zb(this.Vc,!1),Zb(this.xc,!1),this.Yf.style.visibility="hidden",this.Tf.style.visibility="hidden")};function id(){this.Jf=[];this.Zb=null;this.Cb=[]}id.prototype.o=function(a,b,c,d){var f=d?d:200,e=document.getElementById(a);a=document.createElement("div");a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.bottom="0px";a.style.width=f-1+"px";a.style.borderRight="1px solid #cbcbcb";e.appendChild(a);d=document.createElement("div");d.style.position="absolute";d.style.left=f+"px";d.style.top="0px";d.style.bottom="0px";d.style.right="0px";e.appendChild(d);f=0;for(e=b.length;f<e;f++)jd(this,a,b[f],d);(b=this.Jf[c?c:0])&&kd(this,b)};function jd(a,b,c,d){var f=document.createElement("div");b.appendChild(f);f.style.color="rgb(68, 68, 68)";f.addEventListener("mouseenter",function(){a.Zb!==this&&(this.style.backgroundColor="rgb(241, 241, 241)")},!1);f.addEventListener("mouseleave",function(){a.Zb!==this&&(this.style.backgroundColor="")},!1);f.addEventListener("click",function(){kd(a,this)},!1);b=document.createElement("div");f.appendChild(b);b.style.padding="7px 2px 7px 20px";var e=document.createElement("div");b.appendChild(e);e.style["-webkit-user-select"]="none";e.style.borderCollapse="collapse";e.style.boxSizing="border-box";e.style.cursor="pointer";e.style.display="block";e.style.fontFamily="Helvetica Neue', Helvetica, Arial, sans-serif";e.style.fontSize="16px";e.style.height="17px";e.style.lineHeight="17.142858505249px";e.style.width="177px";gc(e,c);e=document.createElement("div");e.style.display="none";e.style.width="100%";e.style.height="100%";d.appendChild(e);a.Cb.push(e);a.Jf.push(f)}function kd(a,b){if(a.Zb!==b){if(null!==a.Zb){a.Zb.style.backgroundColor="";a.Zb.style.color="rgb(68, 68, 68)";var c=ld(a,a.Zb);a.Cb[c]&&(a.Cb[c].style.display="none")}a.Zb=b;b.style.backgroundColor="#7d858c";b.style.color="#fff";c=ld(a,a.Zb);a.Cb[c]&&(a.Cb[c].style.display="block")}}function ld(a,b){for(var c=0,d=a.Jf.length;c<d;c++)if(b===a.Jf[c])return c;return-1};function md(){this.a={e:null,Ya:null,ud:null,fj:null,Xd:null,aj:null,ae:null,rd:null,qd:null,sd:null,Hc:null,gc:null,fc:null,Mb:null};this.zl=new A(166,166,166,255);this.wl=new A(185,185,185,255);this.ui=new A(217,217,217,255);this.i=null;this.I=this.A=-1;var a=this;this.Il=function(){var b=parseInt(a.a.e.a.style.left),c=parseInt(a.a.e.a.style.width),d=parseInt(a.a.ae.style.left);60>c-d||(a.a.e.a.style.left=b+d+"px",a.a.e.a.style.width=c-d+"px");a.a.ae.style.left="0px";a.v()};this.Ll=function(){var b=parseInt(a.a.e.a.style.width),c=parseInt(a.a.rd.style.left)+6-b;60>b+c?a.a.rd.style.left=b-6+"px":(a.a.e.a.style.width=b+c+"px",a.a.rd.style.left=b+c-6+"px",a.v())};this.El=function(){var b=parseInt(a.a.e.a.style.height),c=parseInt(a.a.qd.style.top)+6-b;60>b+c?a.a.qd.style.top=b-6+"px":(a.a.e.a.style.height=b+c+"px",a.a.qd.style.top=b+c-6+"px",a.v())};this.Nl=function(){var b=parseInt(a.a.e.a.style.top),c=parseInt(a.a.e.a.style.height),d=parseInt(a.a.sd.style.top);60>c-d?a.a.sd.style.top="0px":(a.a.e.a.style.top=b+d+"px",a.a.e.a.style.height=c-d+"px",a.a.sd.style.top="0px",a.v())};this.Jl=function(){var b=parseInt(a.a.e.a.style.top),c=parseInt(a.a.e.a.style.height),d=parseInt(a.a.Hc.style.top);60>c-d||(a.a.e.a.style.top=b+d+"px",a.a.e.a.style.height=c-d+"px");a.a.Hc.style.top="0px";b=parseInt(a.a.e.a.style.left);c=parseInt(a.a.e.a.style.width);d=parseInt(a.a.Hc.style.left);60>c-d||(a.a.e.a.style.left=b+d+"px",a.a.e.a.style.width=c-d+"px");a.a.Hc.style.left="0px";a.v()};this.Ml=function(){var b=parseInt(a.a.e.a.style.top),c=parseInt(a.a.e.a.style.height),d=parseInt(a.a.gc.style.top);60>c-d||(a.a.e.a.style.top=b+d+"px",a.a.e.a.style.height=c-d+"px");a.a.gc.style.top="0px";b=parseInt(a.a.e.a.style.width);c=parseInt(a.a.gc.style.left)+6-b;60>b+c?a.a.gc.style.left=b-6+"px":(a.a.e.a.style.width=b+c+"px",a.a.gc.style.left=b+c-6+"px");a.v()};this.Hl=function(){var b=parseInt(a.a.e.a.style.left),c=parseInt(a.a.e.a.style.width),d=parseInt(a.a.fc.style.left);60>c-d||(a.a.e.a.style.left=b+d+"px",a.a.e.a.style.width=c-d+"px");a.a.fc.style.left="0px";b=parseInt(a.a.e.a.style.height);c=parseInt(a.a.fc.style.top)+6-b;60>b+c?a.a.fc.style.top=b-6+"px":(a.a.e.a.style.height=b+c+"px",a.a.fc.style.top=b+c-6+"px");a.v()};this.Kl=function(){var b=parseInt(a.a.e.a.style.width),c=parseInt(a.a.Mb.style.left)+6-b;60>b+c?a.a.Mb.style.left=b-6+"px":(a.a.e.a.style.width=b+c+"px",a.a.Mb.style.left=b+c-6+"px");b=parseInt(a.a.e.a.style.height);c=parseInt(a.a.Mb.style.top)+6-b;60>b+c?a.a.Mb.style.top=b-6+"px":(a.a.e.a.style.height=b+c+"px",a.a.Mb.style.top=b+c-6+"px");a.v()}}q=md.prototype;q.o=function(a,b){var c=this;this.a.e=D(a);var d=this.a.e.a,f=this.a.e;d.style.border="1px solid "+R(this.zl);d.style.backgroundColor=R(this.ui);var e=a+"_Inner",g=nd(d,e),e=D(e);I(e.h,6,29,8,8,!0,!0,!0,!0,-1,-1);e.m=K|L|N|P;f.l(e);g.style.border="1px solid "+R(this.wl);g.style.backgroundColor=R(new A(255,255,255,255));g.style.overflow="hidden";this.a.Ya=g;this.a.ud=e;e=a+"_Caption";nd(d,e);g=D(e);I(g.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);g.m=K|L|P;f.l(g);var h=e+"_Text",e=nd(d,h),h=D(h);I(h.h,15,0,55,1E3,!0,!1,!0,!1,-1,30);h.m=K|L|P|N;g.l(h);e.style.fontFamily="Tahoma, Sans serif";e.style.fontSize="13pt";e.style.textAlign="center";e.style.height="29px";e.style.lineHeight="29px";e.style.overflow="hidden";e.style.textOverflow="ellipsis";e.style["-o-text-overflow"]="ellipsis";e.style.cursor="default";gc(e,"Caption");this.a.aj=e;e=a+"_Caption2";g=nd(d,e);e=D(e);I(e.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,30);e.m=K|L|P;f.l(e);this.a.Xd=g;Qc(g);g.Wa=function(){var a=parseInt(c.a.e.a.style.top),b=parseInt(c.a.Xd.style.top);c.a.e.a.style.left=parseInt(c.a.e.a.style.left)+parseInt(c.a.Xd.style.left)+"px";c.a.e.a.style.top=a+b+"px";c.a.Xd.style.left="0px";c.a.Xd.style.top="0px";c.v()};!1!==b&&(e=a+"_LeftHandler",g=nd(d,e),e=D(e),I(e.h,0,6,1E3,6,!1,!0,!1,!0,6,-1),e.m=K|L|N,f.l(e),g.style.cursor="w-resize",this.a.ae=g,e=a+"_RightHandler",g=nd(d,e),e=D(e),I(e.h,0,6,0,6,!1,!0,!0,!0,6,-1),e.m=K|P|N,f.l(e),g.style.cursor="w-resize",this.a.rd=g,e=a+"_BottomHandler",g=nd(d,e),e=D(e),I(e.h,6,0,6,0,!0,!1,!0,!0,-1,6),e.m=N|P|L,f.l(e),g.style.cursor="s-resize",this.a.qd=g,e=a+"_TopHandler",g=nd(d,e),e=D(e),I(e.h,6,0,6,1E3,!0,!0,!0,!1,-1,6),e.m=K|P|L,f.l(e),g.style.cursor="s-resize",this.a.sd=g,e=a+"_LeftTopHandler",g=nd(d,e),e=D(e),I(e.h,0,0,1E3,1E3,!1,!1,!1,!1,6,6),e.m=K|L,f.l(e),g.style.cursor="se-resize",this.a.Hc=g,e=a+"_RightTopHandler",g=nd(d,e),e=D(e),I(e.h,0,0,0,1E3,!1,!1,!0,!1,6,6),e.m=K|P,f.l(e),g.style.cursor="ne-resize",this.a.gc=g,e=a+"_LeftBottomHandler",g=nd(d,e),e=D(e),I(e.h,0,0,0,1E3,!1,!1,!1,!1,6,6),e.m=N|L,f.l(e),g.style.cursor="ne-resize",this.a.fc=g,e=a+"_RightBottomHandler",g=nd(d,e),e=D(e),I(e.h,0,0,0,1E3,!1,!1,!0,!1,6,6),e.m=N|P,f.l(e),g.style.cursor="se-resize",this.a.Mb=g,Qc(this.a.ae,null,null,null,null),this.a.ae.Wa=this.Il,Qc(this.a.rd,null,null,null,null),this.a.rd.Wa=this.Ll,Qc(this.a.sd,null,null,null,null),this.a.sd.Wa=this.Nl,Qc(this.a.qd,null,null,null,null),this.a.qd.Wa=this.El,Qc(this.a.Hc,null,null,null,null),this.a.Hc.Wa=this.Jl,Qc(this.a.gc,null,null,null,null),this.a.gc.Wa=this.Ml,Qc(this.a.fc,null,null,null,null),this.a.fc.Wa=this.Hl,Qc(this.a.Mb,null,null,null,null),this.a.Mb.Wa=this.Kl);g=a+"_Close";d=nd(d,g);e=D(g);I(e.h,0,0,6,1E3,!1,!0,!0,!1,45,20);e.m=K|P;f.l(e);d.style.backgroundColor=R(new A(255,0,0,255));f=new Ub(this.i);f.o(g,this,19);f.$f=new A(199,80,80,255);f.Je=new A(224,67,67,255);f.Rf=new A(153,61,61,255);this.a.fj=f};q.v=function(a){var b=this.a.e.a.clientWidth,c=this.a.e.a.clientHeight;if(b!==this.A||c!==this.I||!0===a)this.A=b,this.I=c,this.a.e.Ma(b,c),this.a.fj.v()};q.rb=function(){this.a.e.a.style.display="none";this.c&&this.c.ta()};q.Ob=function(a){var b=this.a.e.a;b.style.display="block";var c=parseInt(b.style.left),d=parseInt(b.style.top);if(a.oa){var f=a.oa;a=f.Lb();f=f.Xa();d>f-100&&(b.style.top=f-100+"px");c>a-100&&(b.style.left=a-100+"px")}0>c&&(b.style.left="0px");0>d&&(b.style.top="0px")};q.ta=function(){};function za(a,b){gc(a.a.aj,b)}function nd(a,b){var c=document.createElement("div");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");a.appendChild(c);return c}function od(a,b){if(b){a.i=b;var c=a.a.e.a,d=a.jf();null!==d&&void 0!==d&&(c.style.width=d.M+"px",c.style.height=d.F+"px");d=parseInt(c.style.height);c.style.left=(a.i.Lb()-parseInt(c.style.width))/2+"px";c.style.top=(a.i.Xa()-d)/2+"px"}}q.jf=function(){return null};function pd(){pd.X.constructor.call(this);this.a.wd=null;this.a.Wd=null;this.a.sb=null;this.a.Lg=null}qd(pd,md);pd.prototype.o=function(a,b){pd.X.o.call(this,a,b);var c=this.a.Ya,d=this.a.ud,f=c.id,e=f+"Content",f=f+"Buttons",g=nd(c,e),c=nd(c,f),e=D(e);I(e.h,0,0,0,40,!0,!0,!0,!0,-1,-1);e.m=L|K|N|P;d.l(e);var h=D(f);I(h.h,0,0,0,0,!0,!1,!0,!0,-1,40);h.m=L|N|P;d.l(h);this.a.Lg=e;this.a.sb=g;c.style.borderTop="1px solid rgb(172,172,172)";c.style.backgroundColor="rgb(240,240,240)";g=f+"OK";nd(c,g);e=D(g);I(e.h,0,9,85,1E3,!1,!0,!0,!1,66,21);e.m=K|P;d.l(e);e=new Ub(this.i);e.o(g,this,21);this.a.wd=e;e.xi=new A(234,234,234,255);e.$f=new A(172,172,172,255);e.Vf=new A(227,240,252,255);e.Je=new A(126,180,234,255);e.si=new A(207,230,252,255);e.Rf=new A(86,157,229,255);e.vi=new A(239,239,239,255);e.wi=new A(217,217,217,255);f+="Cancel";nd(c,f);c=D(f);I(c.h,0,9,11,1E3,!1,!0,!0,!1,66,21);c.m=K|P;d.l(c);d=new Ub(this.i);d.o(f,this,22);this.a.Wd=d;d.xi=new A(234,234,234,255);d.$f=new A(172,172,172,255);d.Vf=new A(227,240,252,255);d.Je=new A(126,180,234,255);d.si=new A(207,230,252,255);d.Rf=new A(86,157,229,255);d.vi=new A(239,239,239,255);d.wi=new A(217,217,217,255)};pd.prototype.v=function(a){pd.X.v.call(this,a);this.a.wd&&this.a.wd.v();this.a.Wd&&this.a.Wd.v()};pd.prototype.mj=function(){this.rb()};pd.prototype.kf=function(){this.rb()};function rd(){rd.X.constructor.call(this);this.p={};this.c=null;this.jk=10;this.qi=20;this.ul=5}qd(rd,pd);q=rd.prototype;q.o=function(a,b){rd.X.o.call(this,a);od(this,b.oa);var c=b.va;this.c=c;!0!==(c.G&16?!0:!1)&&Xb(this.a.wd,!1);za(this,"Game info");var d=this.a.Lg,f=this.a.sb,e=this.a.sb.id;f.style.overflowX="hidden";f.style.overflowY="scroll";var g=this.qi,h=10,k=this.ul,l=this.jk,n=c.G&16?!0:!1;this.p.Xk=this.ia(f,d,e,"Game name",c.Ac,h,g,n);h+=g+k;this.p.al=this.ia(f,d,e,"Result",c.Sa,h,g,n);h+=g+k;this.p.cl=this.ia(f,d,e,"Rules",c.Se,h,g,n);h+=g+k;this.p.Zk=this.ia(f,d,e,"Komi",c.uc,h,g,n);h+=g+k;this.p.Yk=this.ia(f,d,e,"Handicap",c.lb,h,g,n);h+=g+k;this.p.fl=this.ia(f,d,e,"Time settings",c.Ee+(""===c.Re?"":" + "+c.Re),h,g,n);h+=g+k;this.p.Nk=this.ia(f,d,e,"Black",c.Yc,h,g,n);h+=g+k;this.p.Ok=this.ia(f,d,e,"Black rank",c.dg,h,g,n);h+=g+k;this.p.il=this.ia(f,d,e,"White",c.$c,h,g,n);h+=g+k;this.p.jl=this.ia(f,d,e,"White rank",c.gg,h,g,n);h+=g+k;this.p.Rk=this.ia(f,d,e,"Copyright",c.Le,h,g,n);h+=g+k;this.p.Date=this.ia(f,d,e,"Date",c.Zc,h,g,n);h+=g+k;this.p.Event=this.ia(f,d,e,"Event",c.Qd,h,g,n);h+=g+k;this.p.bl=this.ia(f,d,e,"Round",c.Oe,h,g,n);h+=g+k;this.p.$k=this.ia(f,d,e,"Place",c.Rd,h,g,n);h+=g+k;this.p.Mk=this.ia(f,d,e,"Annotator",c.Me,h,g,n);h+=g+k;this.p.Wk=this.ia(f,d,e,"Fuseki",c.Ne,h,g,n);h+=g+k;this.p.el=this.ia(f,d,e,"Source",c.Pe,h,g,n);h+=g+k;this.p.Nj=this.ia(f,d,e,"Transcriber",c.Qe,h,g,n);h+=g+k;this.p.Nj=this.Ii(f,d,e,"Game Info",c.zc,h,g,n);h+=3*g;nd(f,e+"Bottom");c=D(e+"Bottom");I(c.h,0,h,1E3,1E3,!0,!0,!1,!1,0,l);c.m=L|K|P;d.l(c)};q.v=function(a){rd.X.v.call(this,a);this.a.wd&&this.a.wd.v();this.a.Wd&&this.a.Wd.v();a=parseInt(this.p.md.style.top)|0;var b=(parseInt(this.a.sb.style.height)|0)-this.jk;this.p.md.style.height=b-a<3*this.qi?3*this.qi+"px":b-a+"px"};q.mj=function(){this.rb()};q.kf=function(){this.c&&(this.c.Ac=this.p.Xk.value,this.c.Sa=this.p.al.value,this.c.Se=this.p.cl.value,this.c.uc=parseFloat(this.p.Zk.value),this.c.lb=this.p.Yk.value,this.c.Ee=this.p.fl.value,sd(this.c,this.p.Nk.value),td(this.c,this.p.Ok.value),ud(this.c,this.p.il.value),vd(this.c,this.p.jl.value),this.c.Le=this.p.Rk.value,this.c.zc=this.p.md.value,this.c.Zc=this.p.Date.value,this.c.Qd=this.p.Event.value,this.c.Oe=this.p.bl.value,this.c.Rd=this.p.$k.value,this.c.Me=this.p.Mk.value,this.c.Ne=this.p.Wk.value,this.c.Pe=this.p.el.value,this.c.Qe=this.p.Nj.value);this.rb()};q.na=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};q.Ji=function(a,b,c){var d=document.createElement("input");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.setAttribute("type","text");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";!1===c&&(d.disabled="disabled");a.appendChild(d);return d};q.ia=function(a,b,c,d,f,e,g,h){var k;k=30;c+=d;var l=this.na(a,c,g),n=D(c);I(n.h,10,e,1E3,1E3,!0,!0,!1,!1,100,g);n.m=L|K;b.l(n);gc(l,d);d=c+"Value";a=this.Ji(a,d,h);h=D(d);I(h.h,110,e+1,k,1E3,!0,!0,!0,!1,-1,g-2);h.m=L|K|P;b.l(h);a.value=f;return a};q.Ii=function(a,b,c,d,f,e,g,h){var k;k=30;c+=d;var l=this.na(a,c,g),n=D(c);I(n.h,10,e,1E3,1E3,!0,!0,!1,!1,100,g);n.m=L|K;b.l(n);gc(l,d);c=c+"Value";d=document.createElement("textarea");d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height=3*g+"px";this.p.md=d;!1===h&&(d.disabled="disabled");a.appendChild(d);a=D(c);I(a.h,110,e+1,k,1E3,!0,!0,!0,!1,-1,3*g);a.m=L|K|P;b.l(a);d.value=f;return d};function wd(){wd.X.constructor.call(this)}qd(wd,md);wd.prototype.o=function(a,b){rd.X.o.call(this,a,!1);od(this,b.oa);var c=b.jm,d=this.a.Ya;d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize="16px";gc(d,c)};function xd(){xd.X.constructor.call(this);this.c=null;this.p={Za:{Ph:null,Mh:null,Hg:null,Tg:null},Oh:null,th:null,xh:null,Sg:null,sh:null}}qd(xd,pd);xd.prototype.o=function(a,b){xd.X.o.call(this,a,!1);od(this,b.oa);this.c=b.va;za(this,"Settings");var c=new id;c.o(this.a.sb.id,["Appearance","Color Scheme","Loading Settings"],0,150);var d=yd(c.Cb[0]),f=this.a.sb.id+"A";this.p.Sg=zd(d,f+"C",this.c.Ic(),"Cycle through variants");this.p.Oh=zd(d,f+"S",this.c.de(),"Sound");this.p.xh=Ad(d,this.c.nd(),["No labels","Move numbers","Move numbers current variant only","Move coordinates"],"Labels in navigator");d=yd(c.Cb[1]);f=this.a.sb.id+"CS";this.p.Za.Ph=Bd(d,f+"TC","TrueColor");this.p.Za.Mh=Bd(d,f+"SC","SimpleColor");this.p.Za.Hg=Bd(d,f+"BS","BookStyle");this.p.Za.Tg=Bd(d,f+"D","Dark");Cd(this);c=yd(c.Cb[2]);this.p.th=zd(c,this.a.sb.id+"LSU",this.c.be(),"Load unfinished files on the last node");this.p.sh=Ad(c,this.c.Gc(),["Don't show variants","Show variations of successor node (children)","Show variations of current node   (siblings)","Load option from file"],"Show variants")};xd.prototype.jf=function(){return{M:400,F:180}};xd.prototype.Ob=function(a){xd.X.Ob.call(this,a);this.p.Sg.checked=this.c.Ic();this.p.Oh.checked=this.c.de();this.p.xh.selectedIndex=this.c.nd();Cd(this);this.p.th.checked=this.c.be();this.p.sh.selectedIndex=this.c.Gc()};function yd(a){var b=document.createElement("div");a.appendChild(b);b.style.margin="0";b.style.padding="10px 20px";b.style.fontFamily="Tahoma, Arial, Verdana";b.style.fontSize="10px";b.style.color="#666";b.style.background="#fff";return b}xd.prototype.kf=function(){var a=1,a=this.p.Za.Mh.checked?3:this.p.Za.Hg.checked?2:this.p.Za.Tg.checked?4:1,a=oc(y,a);this.p.Oh.checked?y.yd(!0):y.yd(!1);this.c.Hh(this.p.th.checked?!0:!1);this.c.Ih(this.p.xh.selectedIndex);this.c.Eh(this.p.Sg.checked?!0:!1);this.c.Gh(this.p.sh.selectedIndex);var b=this.c.n,c=this.c.K;b&&!0===a.V&&b.v(!0);c&&!0===a.Navigator&&(c.Ve(),c.Te(),Oc(c),c.Ue(),c.v(!0));this.rb()};function Bd(a,b,c){var d=document.createElement("div");d.style.paddingLeft="10px";d.style.paddingBottom="5px";a.appendChild(d);var f=document.createElement("input");f.type="radio";f.name="ThemeId";f.value=c;f.setAttribute("id",b);d.appendChild(f);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";gc(a,c);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";d.appendChild(a);a.addEventListener("click",function(){f.checked=!0},!1);return f}function zd(a,b,c,d){var f=document.createElement("div");f.style.paddingLeft="10px";f.style.paddingBottom="5px";a.appendChild(f);var e=document.createElement("input");e.type="checkbox";e.checked=c;e.setAttribute("id",b);f.appendChild(e);a=document.createElement("span");a.setAttribute("oncontextmenu","return false;");a.style.fontFamily="Tahoma, Sans serif";gc(a,d);a.style.fontFamily="Tahoma, Sans serif";a.style.fontSize="12pt";a.style.height="15px";a.style.lineHeight="15px";a.style.cursor="default";f.appendChild(a);a.addEventListener("click",function(){e.checked=!e.checked},!1);return e}function Ad(a,b,c,d){var f=document.createElement("div");f.style.paddingLeft="10px";f.style.paddingBottom="5px";f.style.fontFamily="Tahoma, Sans serif";f.style.fontSize="9pt";f.style.height="12px";f.style.lineHeight="12px";a.appendChild(f);a=document.createElement("div");gc(a,d);a.style.paddingBottom="5px";f.appendChild(a);d=document.createElement("select");d.style.width="170px";a=0;for(var e=c.length;a<e;a++){var g=document.createElement("option");g.value=c[a];gc(g,c[a]);d.appendChild(g)}d.selectedIndex=b;f.appendChild(d);return d}function Cd(a){var b=y.Z.Dc.r;231===b?y.Z.qc?a.p.Za.Ph.checked=!0:a.p.Za.Mh.checked=!0:255===b?a.p.Za.Hg.checked=!0:30===b?a.p.Za.Tg.checked=!0:a.p.Za.Ph.checked=!0}function Dd(){Dd.X.constructor.call(this);this.n=null}qd(Dd,md);Dd.prototype.o=function(a,b){Dd.X.o.call(this,a,!0);od(this,b.oa);this.c=b.va;za(this,"Score estimate");var c=this.a.Ya,d=this.a.ud,f=this.a.Ya.id;c.style.background="url('"+Ac+"')";d.fb(2);var f=f+"B",c=nd(c,f),e=D(f);I(e.h,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);e.m=K|L|N|P;d.l(e);this.Yb=c;this.He=e;d=new aa;d.o(f,Ed(this.c));d.Pd=this;Aa(d,9);this.n=d};Dd.prototype.v=function(a){Dd.X.v.call(this,a);this.n&&this.n.v(a)};Dd.prototype.Ob=function(a){for(;this.Yb.firstChild;)this.Yb.removeChild(this.Yb.firstChild);this.He&&this.He.sa();var b=new aa;b.o(this.Yb.id,Ed(a.va));var c=b;c.Pd=this;Aa(c,9);this.n=b;Dd.X.Ob.apply(this,arguments);this.v(!0)};function Fd(){Fd.X.constructor.call(this)}qd(Fd,md);Fd.prototype.o=function(a,b){Fd.X.o.call(this,a,!0);od(this,b.oa);za(this,"Colors counter");var c=this.a.Ya,d=this.a.ud,f=this.a.Ya.id;c.style.overflowX="hidden";c.style.overflowY="scroll";var e=10,g=b.Uk.Qa,h=[0,0,0,0],k=[0,0,0,0],l=[0,0,0,0],n=[0,0,0,0],m=!1,u=!1,p=!1,t=!1,v;for(v in g){var r=g[v],x=-1;0!==r.r&&0!==r.u&&0!==r.t?(t=!0,x=3):0!==r.r?(m=!0,x=0):0!==r.u?(u=!0,x=1):0!==r.t&&(p=!0,x=2);var J=0,J=50>=r.Oa?0:100>=r.Oa?1:150>=r.Oa?2:3;switch(x){case 0:h[J]++;break;case 1:k[J]++;break;case 2:l[J]++;break;case 3:n[J]++}}m&&(this.ia(c,d,f,"Red","4 x "+h[3]+"+ 3 x "+h[2]+" + 2 x "+h[1]+" + 1 x "+h[0]+" ="+(4*h[3]+3*h[2]+2*h[1]+h[0]),e,20),e+=25);u&&(this.ia(c,d,f,"Green","4 x "+k[3]+"+ 3 x "+k[2]+" + 2 x "+k[1]+" + 1 x "+k[0]+" ="+(4*k[3]+3*k[2]+2*k[1]+k[0]),e,20),e+=25);p&&(this.ia(c,d,f,"Blue","4 x "+l[3]+"+ 3 x "+l[2]+" + 2 x "+l[1]+" + 1 x "+l[0]+" ="+(4*l[3]+3*l[2]+2*l[1]+l[0]),e,20),e+=25);t&&(this.ia(c,d,f,"Gray","4 x "+n[3]+"+ 3 x "+n[2]+" + 2 x "+n[1]+" + 1 x "+n[0]+" ="+(4*n[3]+3*n[2]+2*n[1]+n[0]),e,20),e+=25);nd(c,f+"Bottom");c=D(f+"Bottom");I(c.h,0,e,1E3,1E3,!0,!0,!1,!1,0,10);c.m=L|K|P;d.l(c)};Fd.prototype.na=function(a,b,c){var d=document.createElement("div");d.setAttribute("id",b);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Tahoma, Sans serif";d.style.fontSize=15*c/20+"px";d.style.lineHeight=c+"px";d.style.height=c+"px";a.appendChild(d);return d};Fd.prototype.Ji=function(a,b){var c=document.createElement("input");c.setAttribute("id",b);c.setAttribute("style","position:absolute;padding:0;margin:0;");c.setAttribute("oncontextmenu","return false;");c.setAttribute("type","text");c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="10pt";c.style.outline="none";c.disabled="disabled";a.appendChild(c);return c};Fd.prototype.ia=function(a,b,c,d,f,e,g,h){var k;k=30;c+=d;var l=this.na(a,c,g),n=D(c);I(n.h,10,e,1E3,1E3,!0,!0,!1,!1,100,g);n.m=L|K;b.l(n);gc(l,d);d=c+"Value";a=this.Ji(a,d,h);h=D(d);I(h.h,110,e+1,k,1E3,!0,!0,!0,!1,-1,g-2);h.m=L|K|P;b.l(h);a.value=f;return a};function Gd(){Gd.X.constructor.call(this);this.c=this.i=this.xk=this.wk=null}qd(Gd,md);Gd.prototype.o=function(a,b){Gd.X.o.call(this,a,!1);od(this,b.oa);za(this,"Creating Gif file...");b.va&&(this.c=b.va);var c=this.a.Ya,d=this.a.ud,f=this.a.Ya.id,e=f+"PB",g=nd(c,e),e=D(e);I(e.h,6,30,8,8,!0,!0,!0,!0,-1,-1);e.m=K|L|N|P;d.l(e);g.style.border="1px solid rgb(221,221,221)";g.style.backgroundColor="rgb(140, 140, 140)";e=f+"P";g=nd(c,e);e=D(e);I(e.h,7,31,0,7,!0,!0,!1,!0,10,-1);e.m=K|L|N;d.l(e);g.style.backgroundColor="rgb(54, 101, 179)";this.wk=g;f=f+"PV";c=nd(c,f);f=D(f);I(f.h,0,7,1E3,32,!1,!1,!1,!0,-1,-1);f.m=K|L|N;d.l(f);c.style.fontFamily="Tahoma, Sans serif";c.style.fontSize="15px";c.style.lineHeight="20px";c.style.height="20px";c.style.color="rgb(0, 0, 0)";c.style.textAlign="center";this.xk=c};Gd.prototype.jf=function(){return{M:240,F:100}};function Hd(a,b){a.wk.style.width=b/100*214+"px";gc(a.xk,(100*b|0)/100+"%")}function Id(a){Hd(a,0);if(a.i&&(a=a.i,a.Ia)){var b=document.createElement("div");b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.backgroundColor="rgb(0, 0, 0)";b.style.opacity=.4;a.Ia.appendChild(b);a.Uf=b}}function Jd(a){Hd(a,100);setTimeout(function(){a.rb(!0)},300)}Gd.prototype.rb=function(a){!0!==a&&this.c&&(this.c.Kd=null);this.i&&(a=this.i,a.Uf&&(a.Ia.removeChild(a.Uf),a.Uf=null));Gd.X.rb.apply(this)};function Kd(){Kd.X.constructor.call(this);this.n=null}qd(Kd,md);Kd.prototype.o=function(a,b){Gd.X.o.call(this,a,!0);od(this,b.oa);za(this,"About");var c=new id;c.o(this.a.Ya.id,["About Web Go Board","Keyboard Shortcuts"],1);var d=document.createElement("div");c.Cb[0].appendChild(d);d.style.margin="0";d.style.padding="10px 20px";d.style.fontFamily="Tahoma, Arial, Verdana";d.style.fontSize="12px";d.style.color="#666";d.style.background="#fff";var f=document.createElement("img");f.src=Ld;f.width=100;f.height=100;f.style["float"]="left";d.appendChild(f);f=document.createElement("div");f.style.width="10px";f.style.height="100px";f.style["float"]="left";d.appendChild(f);f=document.createElement("h1");d.appendChild(f);gc(f,"Web Go/Baduk Board");f=document.createElement("div");d.appendChild(f);gc(f,"Version "+GoBoardApi.$g());f=document.createElement("div");f.style.paddingTop="40px";d.appendChild(f);gc(f,"Visit our Github project for feedback and issue reports:");f=document.createElement("a");f.href="https://github.com/IlyaKirillov/GoProject";d.appendChild(f);gc(f,"https://github.com/IlyaKirillov/GoProject");f=document.createElement("div");f.style.paddingTop="30px";d.appendChild(f);gc(f,"\u00a9 Ilya Kirillov, 2014-2015. All rights reserved.");d=c.Cb[1];d.style.overflowX="hidden";d.style.overflowY="scroll";c=document.createElement("div");d.appendChild(c);c.style.margin="0";c.style.padding="10px 20px";c.style.fontFamily="Tahoma, Arial, Verdana";c.style.fontSize="12px";c.style.color="#666";c.style.background="#fff";d=document.createElement("h1");c.appendChild(d);gc(d,"Keyboard Shortcuts");d.style.fontSize="16px";d.style.fontWeight="bold";d=document.createElement("table");c.appendChild(d);d.style.margin="20px 0";d.style.width="100%";c=document.createElement("tbody");d.appendChild(c);this.n=null;b.va&&(this.n=b.va.n);Md(c,"Working with Files");V(this,c,{q:!0,C:79,s:!1},"Open Sgf/Gib/Ngf","Ctrl+O","Open the Sgf/Gib/Ngf file from disk. (Not in color mode, see below)");V(this,c,{q:!0,C:79,s:!0},"Open Sgf","Ctrl+Shift+O","Open the Sgf file from source. (Not in color mode, see below)");V(this,c,{q:!0,C:83,s:!1},"Save Sgf","Ctrl+S","Save Sgf file.");V(this,c,{q:!0,C:72,s:!1},"Save png shot","Ctrl+H","Save board shot in png format.");V(this,c,{q:!0,C:72,s:!0},"Save gif shot","Ctrl+Shift+H","Save board shot in gif format.");V(this,c,{q:!0,C:73,s:!1},"Save multipage gif file.","Ctrl+I","Save gif file for current variant.");V(this,c,{q:!0,C:73,s:!0},"Save multipage gif file.","Ctrl+Shift+I","Save gif file for all branches with comment RIGHT (for problem mode).");Md(c,"Navigation");V(this,c,{q:!1,C:39,s:!1},"Next node","Right arrow","Jump to next node.");V(this,c,{q:!0,C:39,s:!1},"Next 5 node","Ctrl+Right arrow","Jump over 5 nodes.");V(this,c,{q:!0,C:39,s:!0},"End of the variant","Ctrl+Shift+Right arrow","Jump to the end of the current variant.");V(this,c,{q:!1,C:37,s:!1},"Previous node","Left arrow","Jump to previous node.");V(this,c,{q:!0,C:37,s:!1},"Previous 5 node","Shift+Left arrow","Jump back over 5 nodes.");V(this,c,{q:!0,C:37,s:!0},"Start of the file","Ctrl+Shift+Right arrow","Jump to the start of the file.");V(this,c,{q:!1,C:38,s:!1},"Previous variant","Up arrow","Jump to previous variant.");V(this,c,{q:!1,C:40,s:!1},"Next variant","Down arrow","Jump to next variant.");V(this,c,{q:!0,C:36,s:!0},"Start node","Ctrl+Shift+Home",'Jump to the start node of the file. This node can be different from the first node. See "load unfinished files" checkbox in settings.');Nd(this,c,{q:!1,C:112,s:!1},"Play mode","F1");V(this,c,{},"Add move","Left mouse click","Set sequentially stones.");V(this,c,{},"Add alternative move","Right mouse click","Create new brunch and add alternative move.");V(this,c,{},"Go to the point","Shift+Left mouse click onto a board position","Teleports you to the moment of the game forth or back, when the stone on this position has been played.");V(this,c,{},"Change move order","Ctrl+Shift+Left mouse click","When sequentially stones are entered: changes the colour of the next stone to be set. What stone will appear on the board is shown by the tools field (useful e.g. after a problem has been set up).");V(this,c,{},"Add comment with coordinates","Ctrl+Left mouse click","Add comment with coordinates.");Nd(this,c,{q:!1,C:113,s:!1},"Count scores","F2");V(this,c,{},"Mark dead groups","Left mouse click","Mark dead groups.");V(this,c,{},"End count scores","Ctrl+Left mouse click onto board","Return to play mode.");Nd(this,c,{q:!1,C:114,s:!1},"Set up a board position","F3");V(this,c,{},"Add black stone or remove stone","Left mouse click","Add black stone or remove stone.");V(this,c,{},"Add white stone or remove stone","Shift+Left mouse click","Add white stone or remove stone.");Od(this,c,{q:!1,C:115,s:!1},"Triangles","F4","Add triangles.");Od(this,c,{q:!1,C:116,s:!1},"Squares","F5","Add squares.");Od(this,c,{q:!1,C:117,s:!1},"Circles","F6","Add circles.");Od(this,c,{q:!1,C:118,s:!1},"X mark","F7",'Add "X" mark.');Nd(this,c,{q:!1,C:119,s:!1},"Text label","F8");V(this,c,{},"Letter","Left mouse click","Add letter.");V(this,c,{},"Text","Shift+Left mouse click","Add text entered by the user.");Nd(this,c,{q:!1,C:120,s:!1},"Numeric label","F9");V(this,c,{},"Number","Left mouse click","Add the smallest positive number.");V(this,c,{},"Move number","Shift+Left mouse click","Add number of the first move which was played here.");Nd(this,c,{q:!1,C:121,s:!1},"Color mode","F10");V(this,c,{},"Blue region","Left mouse click","Add blue region.");V(this,c,{},"Green region","Shift+Left mouse click","Add green region.");V(this,c,{},"Red region","Ctrl+Left mouse click","Add red region.");V(this,c,{},"Gray region","Ctrl+Shift+Left mouse click","Add gray region.");V(this,c,{},"Clear region","Right mouse click","Clear region.");V(this,c,{q:!0,C:67,s:!1},"Continue","Ctrl+C","Copy all colors from previous node.");V(this,c,{q:!0,C:79,s:!1},"Count colors","Ctrl+O","Count all colors with depth.");V(this,c,{q:!0,C:82,s:!1},"Clear colors","Ctrl+R","Clear all colors in the current node.");Md(c,"Miscellaneous");V(this,c,{q:!1,C:8,s:!1},"Remove node","Backspace/Delete","Deletes the current node and all of the following brunches.");V(this,c,{q:!0,C:69,s:!1},"Score estimator","Ctrl+E","Show window with score estimator (you can mark dead groups by click on them).");V(this,c,{q:!0,C:86,s:!1},"View mode change of the next move","Ctrl+V","There are 3 mods: Show all next move variants, show all alternative variants of the current move, show nothing.");V(this,c,{q:!0,C:82,s:!1},"Show/Hide coordinates","Ctrl+R","Show/Hide coordinates. (Not in color mode, see above)");V(this,c,{q:!0,C:77,s:!0},"Make the current variant mainly","Ctrl+Shift+M","Make the current variant mainly by uplifting it to the root of the game tree.");V(this,c,{q:!0,C:86,s:!0},"Setting up view port","Ctrl+Shift+V","Setting up visible part of the board.");V(this,c,{q:!0,C:68,s:!1},"Ascii Diagram","Ctrl+V","Make ascii diagram by current position.")};Kd.prototype.jf=function(){if(this.i){var a=this.i.Xa(),b=Math.max(100,Math.min(700,.9*this.i.Lb())),a=Math.max(100,Math.min(600,.9*a));return{M:b,F:a}}return null};function Pd(a){var b=document.createElement("tr");a.appendChild(b);b.style.borderLeft="0";b.style.borderRight="0";b.style.borderBottom="solid 1px #E4E4E4";b.style.borderCollapse="collapse";b.style.padding="8px";b.style.fontSize="12px";b.style.textAlign="left";b.style.cursor="default";return b}function Qd(a,b){var c=document.createElement("td");a.appendChild(c);gc(c,b);c.style.borderLeft="0";c.style.borderRight="0";c.style.borderBottom="solid 1px #E4E4E4";c.style.borderCollapse="collapse";c.style.padding="8px";c.style.fontSize="12px";c.style.textAlign="left";c.style.cursor="default";return c}function Rd(a,b,c){var d=a.n;d&&c.C&&(b.title="Click to do it",b.style.cursor="pointer",b.style.textDecoration="underline",b.addEventListener("click",function(){ja(d,c)},!1))}function Md(a,b){var c=Pd(a),c=Qd(c,b);c.colSpan="3";c.style.fontSize="14px";c.style.fontWeight="bold";c.style.paddingTop="20px"}function Nd(a,b,c,d,f){b=Pd(b);Qd(b,d).style.fontWeight="bold";d=Qd(b,f);Rd(a,d,c);d.colSpan="2"}function Od(a,b,c,d,f,e){b=Pd(b);Qd(b,d).style.fontWeight="bold";d=Qd(b,f);Rd(a,d,c);Qd(b,e)}function V(a,b,c,d,f,e){b=Pd(b);Qd(b,d).style.width="35%";d=Qd(b,f);d.style.width="15%";Rd(a,d,c);Qd(b,e).style.width="50%"}function Sd(){Sd.X.constructor.call(this);this.yi=null}qd(Sd,md);Sd.prototype.o=function(a,b){Sd.X.o.call(this,a,!0);za(this,"Ascii Diagram");this.Ii(this.a.Ya,this.a.ud,this.a.Ya.id);Td(this,b.va)};Sd.prototype.Ob=function(a){Sd.X.Ob.call(this,a);Td(this,a.va)};Sd.prototype.Ii=function(a,b,c){var d=document.createElement("textarea");c=c+"TA";d.setAttribute("id",c);d.setAttribute("style","position:absolute;padding:0;margin:0;");d.setAttribute("oncontextmenu","return false;");d.style.fontFamily="Courier New, monospacef";d.style.fontSize="10pt";d.style.resize="none";d.style.outline="none";d.style.border="1px solid rgb(169,169,169)";d.style.height="100%";d.style.width="100%";this.yi=d;a.appendChild(d);a=D(c);I(a.h,0,0,1E3,1E3,!1,!1,!1,!1,-1,-1);a.m=L|K|P|N;b.l(a);return d};function Td(a,b){a.yi.value="";if(void 0!==b){var c=b.n,d=b.fa;if(c&&d){for(var f="",e=c.k,g=e.N,h=e.O,k=e.T,e=e.U,l=0==g?!0:!1,n=d.Y().f-1==k?!0:!1,m=0==h?!0:!1,u=d.Y().g-1==e?!0:!1,p=[],t=h;t<e;t++)for(var v=g;v<k;v++){var r=wa(c,v+1,t+1),x=null!=r?r.H:va,r=null!=r?r.Sd:"";x==Ta&&Ja(r)&&(x=parseInt(r),r={Number:x,zb:d.D(v+1,t+1)},H!=r.zb&&p.push(r))}var t=!0,x=c.ib,J=-1;if(0<p.length){for(var v=-1,M=H,B=-1,E=0,Q=p.length;E<Q;E++){r=p[E];if(-1==v||r.Number<v)v=r.Number,M=r.zb;if(-1==B||r.Number>B)B=r.Number}if(10>B-v){B=!0;E=0;for(Q=p.length;E<Q;E++){var r=p[E],z=(r.Number-v)%2;if(0==z&&M!=r.zb||1==z&&M==r.zb){B=!1;break}}!0===B&&(J=v,t=F===M?!0:!1)}}p=l?"$$  --":"$$ -";for(v=g+1;v<=k;v++)p+="--";p+=n?"- \n":"\n";l=l?"$$ |":"$$";n=n?" |\n":"\n";f=t?f+"$$B":f+"$$W";x&&(f+="c");-1!=J&&(f+="m"+J);f+="\n";m&&(f+=p);for(t=h;t<=e;t++){f+=l;for(v=g;v<=k;v++)if(r=wa(c,v+1,t+1),x=null!=r?r.H:va,r=null!=r?r.Sd:"",h=d.D(v+1,t+1),H==h)if($a===x)f=f+" T";else if(Ya===x)f=f+" C";else if(Za===x)f=f+" S";else if(ab===x)f=f+" M";else if(Ta===x&&1===r.length&&97<=r.charCodeAt(0)&&122>=r.charCodeAt(0))f=f+String.fromCharCode(32,r.charCodeAt(0));else if(Ta===x&&1===r.length&&65<=r.charCodeAt(0)&&90>=r.charCodeAt(0))f=f+String.fromCharCode(32,r.charCodeAt(0)+32);else{a:{h=v+1;m=t+1;if(d.A===d.I)if(19===d.A){if(4===h&&4===m||10===h&&4===m||16===h&&4==m||4===h&&10===m||10===h&&10===m||16===h&&10==m||4===h&&16===m||10===h&&16===m||16===h&&16==m){h=!0;break a}}else if(13===d.A){if(4===h&&4===m||7===h&&4===m||10===h&&4==m||4===h&&7===m||7===h&&7===m||10===h&&7==m||4===h&&10===m||7===h&&10===m||10===h&&10==m){h=!0;break a}}else if(9===d.A&&(3===h&&3===m||7===h&&3===m||3===h&&7===m||7===h&&7===m||5===h&&5===m)){h=!0;break a}h=!1}f=h?f+" ,":f+" ."}else-1!==J&&x==Ta&&Ja(r)?(x=parseInt(r)-J+1,f=10==x?f+" 0":f+(" "+x)):F==h?f=$a===x?f+" Y":Ya===x?f+" B":Za===x?f+" #":ab===x?f+" Z":f+" X":G==h&&(f=$a===x?f+" Q":Ya===x?f+" W":Za===x?f+" @":ab===x?f+" P":f+" O");f+=n}u&&(f+=p);a.yi.value=f}}}function Ud(){Ud.X.constructor.call(this)}qd(Ud,pd);Ud.prototype.o=function(a,b){Ud.X.o.call(this,a,!0);od(this,b.oa);this.c=b.va;this.i=b.oa;za(this,"Setting up view port...");var c=this.a.sb,d=this.a.Lg,f=this.a.sb.id;c.style.background="url('"+Ac+"')";d.fb(2);var f=f+"B",c=nd(c,f),e=D(f);I(e.h,0,0,1E3,1E3,!0,!0,!1,!1,-1,-1);e.m=K|L|N|P;d.l(e);this.Yb=c;this.He=e;d=new aa;d.o(f,Ed(this.c));Aa(d,11);this.n=d};Ud.prototype.v=function(a){Ud.X.v.call(this,a);this.n&&this.n.v(a)};Ud.prototype.Ob=function(a){for(;this.Yb.firstChild;)this.Yb.removeChild(this.Yb.firstChild);this.He&&this.He.sa();var b=new aa;b.o(this.Yb.id,Ed(a.va));Aa(b,11);this.n=b;Ud.X.Ob.apply(this,arguments);this.v(!0)};Ud.prototype.kf=function(){if(this.c){var a=this.c.n;if(a){var b=this.n,c=Math.min(b.ga.xf,b.ga.kd),d=Math.max(b.ga.xf,b.ga.kd),f=Math.min(b.ga.yf,b.ga.ld),b=Math.max(b.ga.yf,b.ga.ld);if(3>d-c||3>b-f){alert("Sorry, viewport can't be so small");return}ra(a,c-1,f-1,d-1,b-1);this.i.v(!0)}}this.rb()};var Vd=2,ac=3,bc=4,Ib=5,Nb=6,Wd=7,cc=8,Hb=9,Qb=10,Bc={};function Gb(a,b,c){if(Bc[b]){var d=Bc[b];d.Ob(c);return d}d="unknownwindow";switch(b){case ac:d="Info";break;case bc:d="Settings";break;case Vd:d="Error";break;case Ib:d="ScoreEstimate";break;case Nb:d="CountColors";break;case Wd:d="GifWriter";break;case cc:d="About";break;case Hb:d="DiagramSL";break;case Qb:d="ViewPort"}a=a+d+GoBoardApi.$g();d=document.createElement("div");d.setAttribute("id",a);d.setAttribute("style","position:absolute;padding:0;margin:0;width:500px;height:500px;left:300px;top:300px;");d.setAttribute("oncontextmenu","return false;");if(c.oa){c.oa.Ia.appendChild(d);d=null;switch(b){case ac:d=new rd;break;case bc:d=new xd;break;case Vd:d=new wd;break;case Ib:d=new Dd;break;case Nb:d=new Fd;break;case Wd:d=new Gd;break;case cc:d=new Kd;break;case Hb:d=new Sd;break;case Qb:d=new Ud}null!==d&&(d.o(a,c),d.v(!0));return Bc[b]=d}return null};function W(){}q=W.prototype;q.Sk=function(){return new Xd};q.Rg=function(a,b){(new rc(a)).Rg(b)};q.Pg=function(a,b){(new rc(a)).Pg(b)};q.Pk=function(a,b){var c=new rc(a);c.gk=!0;c.ni=400;c.mi=200;mc();var d=D(b);c.Ha=d;var f=b+"GB";c.J(d.a,f);var e=D(f);I(e.h,0,0,1,1,!1,!1,!0,!0,-1,-1);e.m=K|L|P|N;d.l(e);xc(c,f,e);wc(c,!0)};q.Tk=function(a,b,c){(new Wc(a)).o(b,c)};q.Qg=function(a,b,c){(new rc(a)).Qg(b);b=.3;c.TutorTime&&(b=parseFloat(c.TutorTime));c.TutorColor&&"Black"===c.TutorColor?Yd(a,!1,F,b):c.TutorColor&&"White"===c.TutorColor?Yd(a,!1,G,b):Yd(a,!0,H,b);a.G=0;void 0!==c.NewNode&&(bd(a,{of:!0}),(b=c.NewNode)&&""!==b||(b="Wrong.\nOut of variants."),a.Di=b);b=void 0!==c.WrongCallback?c.WrongCallback:null;var d=void 0!==c.ResetCallback?c.ResetCallback:null;a.Bi=void 0!==c.RightCallback?c.RightCallback:null;a.Ci=b;a.Ai=d};q.Ug=function(a){return a.Ug()};q.ke=function(a){a.ke(!0)};q.zd=function(a){a.zd()};q.dl=function(a,b){var c={};c.of=b.NewNode;c.mf=b.Move;c.Jg=b.ChangeBoardMode;c.rh=b.LoadFile;c.md=b.GameInfo;bd(a,c)};q.Kc=function(a,b,c,d,f){var e={};c&&!0===c.Auto?e.Xi=!0:c&&void 0!==c.X0&&void 0!==c.X1&&void 0!==c.Y0&&void 0!==c.Y1?(e.Xi=!1,e.N=c.X0,e.T=c.X1,e.O=c.Y0,e.U=c.Y1):e=null;c=a.G;a.G=4294967295;a.Kc(b,e,d,f);a.G=c};q.tf=function(a){return a.tf()};q.Yg=function(a){return a.Yg()};q.v=function(a){a.v()};q.Xg=function(a){return a?a.Xg():"White vs. Black"};q.yd=function(a,b){a.yd(b)};q.ta=function(a){a&&a.ta()};q.$g=function(){return this.gl};window.GoBoardApi=new W;W.prototype.Create_GameTree=W.prototype.Sk;W.prototype.Create_SimpleBoard=W.prototype.Rg;W.prototype.Create_BoardWithNavigateButtons=W.prototype.Pg;W.prototype.Create_BoardCommentsButtonsNavigator=W.prototype.Pk;W.prototype.Create_Presentation=W.prototype.Tk;W.prototype.Create_Problems=W.prototype.Qg;W.prototype.Set_Permissions=W.prototype.dl;W.prototype.Load_Sgf=W.prototype.Kc;W.prototype.Save_Sgf=W.prototype.tf;W.prototype.Get_MoveReference=W.prototype.Yg;W.prototype.Update_Size=W.prototype.v;W.prototype.Set_Sound=W.prototype.yd;W.prototype.Find_ProblemRightVariant=W.prototype.Ug;W.prototype.Start_AutoPlay=W.prototype.ke;W.prototype.Stop_AutoPlay=W.prototype.zd;W.prototype.Focus=W.prototype.ta;W.prototype.Get_MatchName=W.prototype.Xg;W.prototype.Get_Version=W.prototype.$g;function Zd(a,b,c){this.H=void 0===a?0:a;this.zk=void 0===b?null:b;this.Ta=void 0===c?0:c}Zd.prototype.wa=function(){return this.zk};Zd.prototype.fb=function(a){this.H=a};Zd.prototype.wf=function(a){this.zk=a};function $d(){Y=X=0}function A(a,b,c,d){this.r=a;this.u=b;this.t=c;this.Oa="undefined"===typeof d?255:d}A.prototype={jd:function(){return new A(this.r,this.u,this.t,this.Oa)}};function ae(a){return a.r<<24&4278190080|a.u<<16&16711680|a.t<<8&65280|a.Oa&255}function qc(a,b){return a.r!==b.r||a.u!==b.u||a.t!==b.t||a.Oa!==b.Oa?!1:!0}function R(a){return"rgba("+a.r+","+a.u+","+a.t+","+a.Oa/255+")"}function T(a){var b=new $d;b.f=a&255;b.g=a>>8&255;return b}function be(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function Ha(a){if("undefined"!=typeof a.offsetParent){for(var b=0,c=0;a;a=a.offsetParent)b+=a.offsetLeft,c+=a.offsetTop;return{f:b,g:c}}return{f:a.x,g:a.y}}function hb(a,b,c){var d=new String;switch(a){case 1:d="A";break;case 2:d="B";break;case 3:d="C";break;case 4:d="D";break;case 5:d="E";break;case 6:d="F";break;case 7:d="G";break;case 8:d="H";break;case 9:d="J";break;case 10:d="K";break;case 11:d="L";break;case 12:d="M";break;case 13:d="N";break;case 14:d="O";break;case 15:d="P";break;case 16:d="Q";break;case 17:d="R";break;case 18:d="S";break;case 19:d="T"}return d+(c+1-b)}function Ja(a){if("string"!=typeof a)return!1;for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(48>c||57<c)return!1}return!0}function ub(a,b){return a>b?1:b>a?-1:0}var ce=null;function Qc(a,b,c,d,f){a.onmousedown=de;a.Ab=!0;a.Kb=!0;a.root=a;a.Ab&&isNaN(parseInt(a.root.style.left))&&(a.root.style.left="0px");a.Kb&&isNaN(parseInt(a.root.style.top))&&(a.root.style.top="350px");!a.Ab&&isNaN(parseInt(a.root.style.right))&&(a.root.style.right="0px");!a.Kb&&isNaN(parseInt(a.root.style.bottom))&&(a.root.style.bottom="0px");a.Bc="undefined"!=typeof b?b:null;a.Cc="undefined"!=typeof d?d:null;a.ad="undefined"!=typeof c?c:null;a.bd="undefined"!=typeof f?f:null;a.Kk=null;a.Lk=null;a.root.kg=function(){};a.root.jg=function(){};a.root.Wa=function(){}}function de(a){var b=ce=this;a=ee(a);var c=parseInt(b.Kb?b.root.style.top:b.root.style.bottom),d=parseInt(b.Ab?b.root.style.left:b.root.style.right);b.root.kg(d,c);b.dk=a.clientX;b.ek=a.clientY;b.Ab?(null!=b.Bc&&(b.hg=a.clientX-d+b.Bc),null!=b.ad&&(b.Ei=b.hg+b.ad-b.Bc)):(null!=b.Bc&&(b.Ei=-b.Bc+a.clientX+d),null!=b.ad&&(b.hg=-b.ad+a.clientX+d));b.Kb?(null!=b.Cc&&(b.ig=a.clientY-c+b.Cc),null!=b.bd&&(b.Fi=b.ig+b.bd-b.Cc)):(null!=b.Cc&&(b.Fi=-b.Cc+a.clientY+c),null!=b.bd&&(b.ig=-b.bd+a.clientY+c));document.onmousemove=fe;document.onmouseup=ge;return!1}function fe(a){ba(a);a=ee(a);var b=ce,c=a.clientY;a=a.clientX;var d=parseInt(b.Kb?b.root.style.top:b.root.style.bottom),f=parseInt(b.Ab?b.root.style.left:b.root.style.right),e,g;null!=b.Bc&&(a=b.Ab?Math.max(a,b.hg):Math.min(a,b.Ei));null!=b.ad&&(a=b.Ab?Math.min(a,b.Ei):Math.max(a,b.hg));null!=b.Cc&&(c=b.Kb?Math.max(c,b.ig):Math.min(c,b.Fi));null!=b.bd&&(c=b.Kb?Math.min(c,b.Fi):Math.max(c,b.ig));e=f+(a-b.dk)*(b.Ab?1:-1);g=d+(c-b.ek)*(b.Kb?1:-1);b.Kk?e=b.Kk(d):b.Lk&&(g=b.Lk(f));null!=b.Bc&&(e=Math.max(e,b.Bc));null!=b.ad&&(e=Math.min(e,b.ad));null!=b.Cc&&(g=Math.max(g,b.Cc));null!=b.bd&&(g=Math.min(g,b.bd));ce.root.style[b.Ab?"left":"right"]=e+"px";ce.root.style[b.Kb?"top":"bottom"]=g+"px";ce.dk=a;ce.ek=c;ce.root.Wa(e,g);return!1}function ge(){document.onmousemove=null;document.onmouseup=null;ce.root.jg(parseInt(ce.root.style[ce.Ab?"left":"right"]),parseInt(ce.root.style[ce.Kb?"top":"bottom"]));ce=null}function ee(a){"undefined"==typeof a&&(a=window.event);"undefined"==typeof a.layerX&&(a.layerX=a.offsetX);"undefined"==typeof a.layerY&&(a.layerY=a.offsetY);return a}function qd(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.X=b.prototype}var sc=window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};function Pb(a,b,c){if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,b);else{var d=document.createElementNS("http://www.w3.org/1999/xhtml","a");a=(window.URL||window.webkitURL||window).createObjectURL(a);d.href=a;d.download=b;c&&(d.type=c);Ob(d)}}function Ob(a){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}function nc(a){return void 0!==window.localStorage?localStorage.getItem("HTMLGoBoard"+a):""}function pc(a,b){void 0!==window.localStorage&&localStorage.setItem("HTMLGoBoard"+a,b)}function he(a){var b="",c,d,f=0,e,g,h=0,k=0;do c=a[k++],d=a[k++],f=a[k++],e=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|f>>6,h=f&63,isNaN(d)?g=h=64:isNaN(f)&&(h=64),b=b+ie.charAt(e)+ie.charAt(c)+ie.charAt(g)+ie.charAt(h);while(k<a.length);return b}function je(a){var b,c,d=0,f="",e=0,g=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),h=[];do b=ie.indexOf(g.charAt(e++)),d=ie.indexOf(g.charAt(e++)),a=ie.indexOf(g.charAt(e++)),f=ie.indexOf(g.charAt(e++)),b=b<<2|d>>4,c=(d&15)<<4|a>>2,d=(a&3)<<6|f,h.push(b),64!=a&&h.push(c),64!=f&&h.push(d);while(e<g.length);return h}function gc(a,b){a.innerText?a.innerText=b:a.textContent=b}var ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var H=0,F=1,G=2,ke=2,Sb=0,Rb=2,Ea=23.61,Fa=17.51,Ga=Ea/2,Ac="data:image/png;base64,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",Ld="data:image/png;base64,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";var Ba=4,le=4294967295^Ba;function Xd(a){this.Ja=new ed;this.i=a;this.xl=new Kc;this.fa=new me;this.K=this.n=null;this.yk=this.j=this.ba=new ne;this.Uc=this.Tc=0;this.Fb=F;this.ye=this.Md=this.tk=this.ik=this.lb=this.uc=0;this.Re=this.Ne=this.zc=this.Ac=this.Qd=this.Zc=this.Le=this.Bk=this.dg=this.Me="";this.Yc="Black";this.Rd="";this.$c="White";this.Pe=this.Se=this.Oe=this.Sa="";this.Ee=0;this.Dk=this.gg=this.Qe="";this.Sc=ke;this.G=4294967295;this.Tb=null;this.ue=.75;this.hk=-1;this.gi=!1;this.wc=H;this.sk=300;this.Di="";this.Kd=this.Ai=this.Ci=this.Bi=this.ri=null}function Ed(a){var b=new Xd;b.fa=a.fa.jd();b.ba=oe(a.ba,a.j);b.j=b.ba;Db(b);return b}function Yd(a,b,c,d){!0===b?(a.gi=!0,a.wc=H):(a.gi=!1,a.wc=c);void 0!==d&&(a.sk=1E3*d)}q=Xd.prototype;q.Ug=function(){var a=[];pe(this.ba,a);if(0<a.length){var b=Math.max(0,Math.min(a.length-1,Math.floor(Math.random()*a.length)));qe(a[b]);return!0}return!1};q.ke=function(a){if(2&this.G||!0===a){this.zd();this.i&&this.i.vj();var b=this,c=function(){0<U(b.j)&&(b.Tb=0,jb(b,1,a));0<U(b.j)?(b.hk=(new Date).getTime(),b.Tb=setTimeout(c,100+6900*(1-b.ue))):(b.Tb=null,b.i&&b.i.zh())},d=100+6900*(1-this.ue)-((new Date).getTime()-this.hk);0>=d?c():this.Tb=setTimeout(c,d)}};q.zd=function(){this.i&&this.i.zh();null!==this.Tb&&(clearTimeout(this.Tb),this.Tb=null)};function zc(a){a.K&&a.K.tb();if(a.i){a.Qb();var b=a.i;b.Ge&&(b=b.Ge,!0!==b.te&&Hc(b,a.ue,!0))}}q.v=function(){this.i&&this.i.v()};q.ta=function(){this.n&&this.n.ta()};q.Kc=function(a,b,c,d){if(this.G&8){re.kc();var f=this.G;this.G=4294967295;var e=null,e="gib"===d?new se(this):"ngf"===d?new te(this):new ue(this);e.qh(a);this.gi&&(this.wc=this.Fb===F?G:F);a=this.fa.Y().f;this.n&&b?!0===b.Xi?ra(this.n,4>=e.k.N?0:e.k.N-2,4>=e.k.O?0:e.k.O-2,3>=a-e.k.T?a-1:e.k.T,3>=a-e.k.U?a-1:e.k.U):void 0!==b.N&&void 0!==b.T&&void 0!==b.O&&void 0!==b.U&&ra(this.n,b.N,b.O,b.T,b.U):this.n&&ra(this.n,0,0,a-1,a-1);this.K&&(this.K.tb(),Pc(this.K));if(c)if(b=this.ba,c=c.replace(RegExp("~","g"),"+"),c=c.replace(RegExp("-","g"),"/"),c=c.replace(RegExp("_","g"),"="),c=je(c),c=new ve(c,c.length),"GBMR"!==we(c,4))kb(this,b);else if(xe(c),e=ye(c),e=we(c,e),a=ze(b,e),null!==a){b=c.d>=c.Pa?0:c.da[c.d++];this.j=a;if(1===b)for(b=ye(c),e=0;e<b&&1===xe(c);e++){rb(this,!1,!1);a=ye(c);for(d=0;d<a;d++){var g=xe(c),h=ye(c);switch(g){case 16:h=T(ye(c));this.cb(h.f,h.g,F);break;case 17:h=T(ye(c));this.cb(h.f,h.g,G);break;case 32:case 33:case 34:h=F;switch(g){case 32:h=F;break;case 33:h=G;break;case 34:h=H}for(var g=ye(c),k=[],l=0;l<g;l++)k.push(ye(c));this.gd(h,k);break;default:c.d+=h}}xe(c);a=this.j;this.K&&(this.K.tb(),Pc(this.K))}kb(this,a,!0)}else kb(this,b,!0);else this.yk=c=!this.be()||""!==this.Sa&&null!==this.Sa&&void 0!==this.Sa?this.ba:Vc(this.ba),kb(this,c);c=this.Gc();3!==this.Gc()&&(this.Sc=c);this.G=f;this.n&&(f=this.n,null!==f.Wc&&lb(f.c.j)>=mb(f.Wc)&&nb(f.Wc));this.i&&this.i.v(!0)}};q.tf=function(){var a=new Ae;a.c=this;a.yc="";a.$a=null;Be(a,this.ba);return a.yc};q.kc=function(){this.ba=new ne;this.Se=this.Sa=this.Ac="";this.uc=0;this.lb="0";this.Re=this.Ee="";sd(this,"Black");td(this,"");ud(this,"White");vd(this,"");this.Qe=this.Pe=this.Ne=this.Me=this.Rd=this.Oe=this.Qd=this.Zc=this.zc=this.Le="";this.Sc=0;Ce(this)};function Bb(a){kb(a,a.yk)}function ib(a){var b=a.G;H!==a.wc&&bd(a,{mf:!0});kb(a,a.ba);a.G=b;H!==a.wc&&a.Ai&&De(a,a.Ai)}function fb(a,b){for(var c=a.j;null!=c.aa&&0<b&&!(c=c.aa,b--,1<U(c)););kb(a,c)}function jb(a,b,c){if(1===b)Ee(a,c)&&sb(a);else{for(c=0;c<b&&!(Ee(a),1<U(a.j));c++);kb(a,a.j)}}function Db(a){for(;Ee(a););kb(a,a.j)}q.wj=function(){!0===zb(this,0,0,this.Fb)&&sb(this)};function Cb(a){var b=a.j.aa;if(null!==b){var c=b.ea,d=U(b);1<d&&(a.Ic()?(b=0<c?b.Q(c-1):b.Q(d-1),kb(a,b)):0<c&&(b=b.Q(c-1),kb(a,b)))}}function Eb(a){var b=a.j.aa;if(null!==b){var c=b.ea,d=U(b);1<d&&(a.Ic()?(b=c<d-1?b.Q(c+1):b.Q(0),kb(a,b)):c<d-1&&(b=b.Q(c+1),kb(a,b)))}}q.ah=function(){for(var a=this.j;!Fe(a);){var b=a.aa;if(null===b&&a!==this.ba)return;a=b}a.ah();kb(this,a)};q.ie=function(a){this.Fb=a;this.j.ie(a)};q.cb=function(a,b,c){this.j.cb(a,b,c)};function rb(a,b,c){if(!(a.G&1))return!1;var d=new ne,f=d.aa=a.j;f.ua.push(d);if(!0===c||-1===f.ea)f.ea=f.ua.length-1;a.j=d;a.ye++;!0===b&&a.K&&(a.K.tb(),Pc(a.K));return!0}function zb(a,b,c,d){for(var f=(c<<8)+b,e=0,g=U(a.j);e<g;e++){var h=a.j.Q(e),k=h.Ib,l=k.H;if(f===k.wa()&&d===l&&(F===d||G===d))return b=a.j.ea,Ge(a.j,e),a.j=h,a.ye++,a.K&&b!==e&&Pc(a.K),!0}if(!(a.G&1))return!1;rb(a,!1,!0);a.j.cb(b,c,d);a.K&&(a.K.tb(),Pc(a.K));H!==a.wc&&""!==a.Di&&a.j.vf(a.Di);return!0}q.gd=function(a,b){this.j.gd(a,b)};q.Ze=function(a){var b=this.j.Ka;this.j.Ze(a);this.i&&this.i.mc(this.j.Ka);this.K&&""===b&&""!==a&&Pc(this.K)};q.vf=function(a){var b=this.j.Ka;this.j.vf(a);this.K&&(""===b&&""!==a||""!==b&&""===a)&&Pc(this.K)};q.La=function(a,b){this.j.La(a,b)};q.wb=function(a){this.j.La(513,a)};q.Vd=function(a,b){this.j.Vd(a,b)};q.ug=function(a,b){this.j.mb.Rc||(this.j.mb.Rc=!0);for(var c=0,d=b.length;c<d;c++)this.j.ug(b[c],a)};q.sg=function(a){this.j.sg(a)};q.vg=function(a){this.j.vg(a)};q.Kg=function(){!0===this.j.mb.Rc&&(this.j.mb.Rc=!1,this.j.Kg());this.n&&(this.n.Ca={},Na(this.n))};function Ab(a){var b=a.j.aa;if(null===b)a.j.sa(),a.K&&(a.K.tb(),Pc(a.K)),kb(a,a.j);else for(var c=0,d=U(b);c<d;c++)if(a.j===b.Q(c)){d=b;d.ua.splice(c,1);d.ea>=c&&d.ea--; -1===d.ea&&0<d.ua.length&&(d.ea=0);a.j=b;a.K&&(a.K.tb(),Pc(a.K));kb(a,b);break}}q.td=function(){return this.j.td()};function sb(a){a.n&&(1===a.n.ma&&Aa(a.n,0),a.n.Ca={},a.je());for(var b=0,c=a.j.qa.length;b<c;b++){var d=a.j.qa[b],f=d.wa(),e=d.Ta;switch(d.H){case 1:d=T(f);He(a,d.f,d.g,F,!1);break;case 2:d=T(f);He(a,d.f,d.g,G,!1);break;case 257:for(var g=0;g<e;g++)d=T(f[g]),Ie(a,d.f,d.g,F,-1);break;case 258:for(g=0;g<e;g++)d=T(f[g]),Ie(a,d.f,d.g,G,-1);break;case 259:for(g=0;g<e;g++)d=T(f[g]),Ie(a,d.f,d.g,H,-1);break;case 260:a.Fb=f;break;case 529:if(a.n)for(g=0;g<e;g++)d=T(f[g]),a.n.La(new ua(d.f,d.g,Ya,""));break;case 530:if(a.n)for(g=0;g<e;g++)d=T(f[g]),a.n.La(new ua(d.f,d.g,ab,""));break;case 531:if(a.n)for(g=0;g<e;g++)d=T(f[g]),a.n.La(new ua(d.f,d.g,Za,""));break;case 532:if(a.n)for(g=0;g<e;g++)d=T(f[g]),a.n.La(new ua(d.f,d.g,$a,""));break;case 533:a.n&&(d=T(f.yj),a.n.La(new ua(d.f,d.g,Ta,f.Text)));break;case 513:if(a.n)for(g=0;g<e;g++)d=T(f[g]),a.n.wb(d.f,d.g)}}a.n&&(a.j.td()?(c=a.j.Ib,b=c.od(),c=c.pd(),Ra(a.n,b,c)):Ra(a.n,-1,-1),a.j.mb.Rc&&Aa(a.n,1),Na(a.n),Je(a.j,a.n));a.i&&(b=a.j.Ka,c=!0,H!==a.wc?(-1!==b.indexOf("CHOICE")&&(b=b.replace("CHOICE","")),0>=U(a.j)&&(-1!==b.indexOf("RIGHT")&&null!==a.Bi?(a.i.mc(b.replace("RIGHT","")),De(a,a.Bi),c=!1):-1===b.indexOf("RIGHT")&&null!==a.Ci&&(a.i.mc(b),De(a,a.Ci),c=!1)),c&&a.i.mc(b)):a.i.mc(b));a.K&&Rc(a.K,!0);a.Qb();if(a.Fb===a.wc&&null===a.ri&&null===a.Tb&&null===a.Kd&&0<=U(a.j)){var h=a.G;a.ri=setTimeout(function(){a.G=4294967295;for(var b=a.j,c=[],d=0,e=U(b);d<e;d++)-1!==b.Q(d).Ka.indexOf("CHOICE")&&c.push(d);0<c.length?(d=Math.max(0,Math.min(c.length-1,Math.floor(Math.random()*c.length))),Ge(b,c[d])):0<U(b)&&Ge(b,0);jb(a,1);a.G=h;a.ri=null},a.sk);a.G=0}}function He(a,b,c,d,f){if(0!=b||0!=c){if(a.Ja&&!0!==f){var e=a.Ja;hd(e,e.xj)}Ie(a,b,c,d,a.Md+1,f);e=null;if(null!==(e=xb(a.fa,b,c,d,!1))&&0<e.Y()){b=e.Y();for(c=0;c<b;c++){var g=T(e.wa(c));Ie(a,g.f,g.g,H,-1)}a.Ja&&!0!==f&&gd(a.Ja,e.Y());F===d?a.Tc+=b:a.Uc+=b}else if(null!==(e=yb(a.fa,b,c,d))&&0<e.Y()){b=e.Y();for(c=0;c<b;c++)g=T(e.wa(c)),Ie(a,g.f,g.g,H,-1);a.Ja&&!0!==f&&gd(a.Ja,e.Y());F===d?a.Uc+=b:a.Tc+=b}else a.fa.$b.kc()}a.Fb=F===d?G:F;a.Md++}function Ee(a,b){if(!(a.G&2)&&!0!==b||0===U(a.j)||-1===a.j.ea)return!1;a.j=a.j.Q(a.j.ea);a.ye++;return!0}q.je=function(){this.n&&this.j.je(this.Sc,this.n)};q.gf=function(){if(this.n){var a=this.fa.gf(this.n);Na(this.n);this.j.mb.Rc||(this.j.mb.Rc=!0);var b=this.fa,c=this.j.mb;c.hb={};for(var d=b.Y(),f=1;f<=d.g;f++)for(var e=1;e<=d.f;e++){var g=b.Rb[Ca(b,e,f)],h=(f<<8)+e;if(F===g||G===g)c.hb[""+h]=g}this.ik=a.hd+this.Tc;this.tk=a.Ad+this.Uc+this.uc;this.Qb()}};q.yd=function(a){this.Ja.o(a)};function kb(a,b,c){if(a.G&2||!0===c){a.zd();Ce(a);a.fa.sa();a.Ja&&(a.Ja.Fd=!1);var d=qe(b);for(a.j=a.ba;a.j!=b&&0<U(a.j);){for(var f=a.j.qa.length,e=0;e<f;e++){var g=a.j.qa[e],h=g.wa(),k=g.Ta;switch(g.H){case 1:g=T(h);He(a,g.f,g.g,F,!0);break;case 2:g=T(h);He(a,g.f,g.g,G,!0);break;case 257:for(var l=0;l<k;l++)g=T(h[l]),a.fa.Set(g.f,g.g,F,-1);break;case 258:for(l=0;l<k;l++)g=T(h[l]),a.fa.Set(g.f,g.g,G,-1);break;case 259:for(l=0;l<k;l++)g=T(h[l]),a.fa.Set(g.f,g.g,H,-1)}}if(!Ee(a,c))break}a.n&&La(a.n);sb(a);a.K&&!0===d&&Pc(a.K);a.Ja&&(a.Ja.Fd=!0)}}function Tb(a,b){b!==a.Sc&&(a.Sc=b,a.je())}function td(a,b){a.dg=b;a.i&&a.i.Vj(a.dg)}q.Xg=function(){var a=this.Ac;""===a&&(a=this.$c+" vs. "+this.Yc);""===a&&(a="White vs. Black");return a};function sd(a,b){a.Yc=b;a.i&&a.i.Uj(a.Yc)}function ud(a,b){a.$c=b;a.i&&a.i.Wj(a.$c)}function vd(a,b){a.gg=b;a.i&&a.i.Xj(a.gg)}function Ke(a,b,c){c=b=Math.min(50,Math.max(b,c,2));var d=a.fa.Y();if(b!==d.f||c!==d.g)d=a.fa,d.A=b,d.I=c,Le(d),d.$b.kc(),a.n&&(a=a.n,pa(a),a.nb(!0))}function Ce(a){a.j=a.ba;a.Tc=0;a.Uc=0;a.Md=0;a.ye=0;a.Fb=F}function Ie(a,b,c,d,f,e){a.fa.Set(b,c,d,f);a.n&&!0!==e&&sa(a.n,b,c,d)}q.Qb=function(){if(this.i){var a=this.xl,b=this.j.aa;a.cc=null===this.j.aa?!1:!0;a.ec=0>=U(this.j)?!1:!0;if(null!==b){var c=b.ea,b=U(b);this.Ic()?(a.ic=1<b?!0:!1,a.jc=1<b?!0:!1):(a.ic=c<b-1?!0:!1,a.jc=0<c?!0:!1)}else a.ic=!1,a.jc=!1;this.n&&(a.qb=this.n.ma);for(var c=this.ba,d=b=1;0<U(c);)b++,c=c.Q(),c===this.j&&(d=b);a.Kj=0<b?(d-1)/(b-1):1;this.i.Qb(a);this.n&&1===this.n.ma?this.i.me(this.ik,this.tk):this.i.le(this.Tc,this.Uc)}};function bd(a,b){b&&(!0===b.of?a.G|=1:!1===b.of&&(a.G&=-2),!0===b.mf?a.G|=2:!1===b.mf&&(a.G&=-3),!0===b.Jg?a.G|=Ba:!1===b.Jg&&(a.G&=le),!0===b.rh?a.G|=8:!1===b.rh&&(a.G&=-9),!0===b.md?a.G|=16:!1===b.md&&(a.G&=-17))}function Kb(a){if(a=a.n){a=oa(a,!0).toDataURL("image/png");var b=document.createElement("a");b.download="BoardShot.png";b.href="data:image/png;base64"+a;Ob(b)}}function Mb(a){var b=[],c=a.ba;for(b.push(c);0<U(c);)c=c.Q(c.ea),b.push(c);Me(a,b)}function Lb(a){var b=[],c=[];pe(a.ba,c);for(var d=0,f=c.length;d<f;d++){var e=c[d];qe(e);var g=a.ba;for(b.push(g);g!==e&&0<U(g);)g=g.Q(g.ea),b.push(g)}Me(a,b)}function Jb(a){Me(a,[a.j])}function Me(a,b){var c=a.n;if(c){var d=a.j,f=c.b.M,e=c.b.F,g=b.length,h=Math.max(1,Math.ceil(2E6/f/e)),k=0,l=null,n=null,m=5<Math.ceil(g/h)?!0:!1,u=!0===m?Gb(c.a.e.a.id,Wd,{oa:a.i,va:a}):null;c.Kf=!0;var p=new Ne;p.mk=Math.floor(150);p.Lc();e=f=0;null!==u&&Id(u);a.Kd=!0;var t=function(){var v,r;if(null===a.Kd)c.Kf=!1,kb(a,d,!0);else{for(var x=Math.min(k+h,g);k<x;k++){kb(a,b[k],!0);oCanvas=oa(c,!1);oContext=oCanvas.getContext("2d");v=c;var J={};r={};var M=void 0;for(M in v.Ie)J[M]=v.Ie[M];var B=void 0;for(B in v.Ca){var M=parseInt(B),E=v.Ca[B];Ta===E.H&&H===v.P.D(E.od(),E.pd())?r[M]=!1:r[M]=!0}J=v=J;B=r;if(0===f||0===e)f=oCanvas.width,e=oCanvas.height;if(null===l||null===n)Oe(p,0,0,f,e,[{N:0,O:0,T:f,U:e}]);else{var M={},Q;for(Q in B)M[Q]=B[Q];for(Q in n)M[Q]=void 0===M[Q]||!1!==M[Q]&&!1!==n[Q]?n[Q]:!1;for(Q in l)l[Q]!==J[Q]&&!1!==M[Q]&&(M[Q]=!0);J=[];for(Q in M){B=T(Q);var z=B.f,E=B.g;if(!0!==ta(c,z-1,E-1))B=null;else if(B=c.b.S,!0===M[Q])var O=c.b.gb,S=(O-1)/2,w=c.mg()?c.b.xb:0,z=B[z-1].f-S,B=B[E-1].g-S,B={N:z,O:B,T:z+O+w,U:B+O+w};else O=B[z-1].nc,E=B[E-1].oc,B={N:O,O:E,T:O+(B[1].f-B[0].f+2),U:E+(B[1].g-B[0].g+2)};null!==B&&J.push(B)}if(0<J.length){M=f;E=e;z=w=O=0;for(S=J.length;z<S;z++)B=J[z],B.N<M&&(M=B.N),B.O<E&&(E=B.O),B.T>O&&(O=B.T),B.U>w&&(w=B.U);Oe(p,M,E,O-M,w-E,J)}else Oe(p,0,0,f,e,[])}l=v;n=r}null!==u&&Hd(u,Math.min(100,k/g*100));k<g?!0===m?setTimeout(t,10):t():(u&&Jd(u),Z(p.L,59),x=a.Ac,""===x&&(x=a.$c+" vs. "+a.Yc),""===x&&(x="download"),x+=".gif",Q=new Blob([Pe(p.L)],{type:"image/gif"}),Pb(Q,x),a.Kd=null,c.Kf=!1,kb(a,d,!0))}};!0===m?setTimeout(t,10):t()}}function De(a,b){null===a.Kd&&b&&b()}q.de=function(){return y.de()};q.Hh=function(a){y.Hh(a)};q.be=function(){return y.be()};q.Ic=function(){return y.Ic()};q.Eh=function(a){y.Eh(a);this.Qb()};q.nd=function(){return y.nd()};q.Ih=function(a){a!==this.nd()&&(y.Ih(a),this.K&&Pc(this.K))};q.Gc=function(){return y.Gc()};q.Gh=function(a){a!==this.Gc()&&y.Gh(a)};q.tg=function(a,b,c){this.j.tg(a,b,c)};q.Bh=function(a,b){this.j.Bh(a,b)};q.Ah=function(){this.j.Ah()};q.Mg=function(){this.j.Mg();this.n&&Je(this.j,this.n)};q.Yg=function(){for(var a=this.j,b=a;!a.Mf;){var c=a.aa;if(null===c)return"";a=c}c=new Qe;Re(c,"GBMR");Se(c,1);var d=a.Ck;Te(c,d.length);Re(c,d);if(a!==b){Z(c,1);for(d=[];b!==a;)d.splice(0,0,b),b=b.aa;Te(c,d.length);a=0;for(b=d.length;a<b;a++){var f=d[a];Se(c,1);var e=c.d;c.d+=4;for(var g=0,h=0,k=f.qa.length;h<k;h++){var l=f.qa[h],n=l.H,m=l.wa(),l=l.Ta;switch(n){case 1:Se(c,16);Te(c,4);Te(c,m);g++;break;case 2:Se(c,17);Te(c,4);Te(c,m);g++;break;case 257:case 258:case 259:switch(n){case 257:Se(c,32);break;case 258:Se(c,33);break;case 259:Se(c,34)}Te(c,4*(l+1));Te(c,l);for(n=0;n<l;n++)Te(c,m[n]);g++}}f=c.d;c.d=e;Te(c,g);c.d=f;Se(c,0)}}else Z(c,0);c=Pe(c);c=he(c);c=c.replace(RegExp("\\+","g"),"~");c=c.replace(RegExp("\\/","g"),"-");return c=c.replace(RegExp("=","g"),"_")};q.uh=function(){this.ba.uh();this.K&&(this.K.tb(),Pc(this.K),Rc(this.K,!0))};function Ne(){this.L=null;this.Lf=!0;this.Xc=this.Ak=null;this.Ga={};this.rk=0;this.Ka=String.fromCharCode(71,101,110,101,114,97,116,101,100,32,98,121,32,103,111,98,97,110,46,111,114,103);this.mk=0;this.cg=null;this.nk=this.vl=this.I=this.A=0}function Oe(a,b,c,d,f,e){var g=oContext;a.Lf&&(a.A=g.canvas.width,a.I=g.canvas.height);a.Ak=g.getImageData(0,0,g.canvas.width,g.canvas.height).data;if(a.Lf){a.Xc=Array(768);for(var h=g=0;768>g;g+=3,h+=6)a.Xc[g+0]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+0]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+1],16),a.Xc[g+1]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+2]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+3],16),a.Xc[g+2]=parseInt("ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+4]+"ff0000e0b65ce0b65ce0b65ce0b65ce0b75ce0b75ce1b75ce0b75ce0b75de1b75de1b75de1b85de2b85de2b85de2b85de2b85de3b85de3b85de3b95de3b95de3b95de3b95ee3b95ee3b95ee4b95ee4ba5ee4ba5ee4ba5ee4ba5ee5ba5ee5ba5ee5ba5ee5ba5ee5bb5ee5bb5ee5ba5ee5bb5ee5bb5ee5ba5ee5ba5fe1bc6dddbc75e1bb6ae4bb64e5bb5fe6bb5fe6bb5fe6bb5ee6bb5ee6bb5fe6bb5edeb65cdeb55cdfb55cdeb55cdeb55bdeb45bddb45bddb45bddb45bddb35bddb35bdcb35bdcb35bdbb35ddcb35adcb35adbb35adbb25adbb25adab25adab25adab15ad9b15ad9b15adab159d9b159d9b159d9b059d9b059d8b059d8b059d8af58d8b059d7b059d7af59d7af58d7af58d7ae58d6af58d6ae58d6ae58d5ae58d5ae58d5ae58d4ae5ad4ad58d5ad57d5ad57d4ad57d4ad57d4ac57d3ac57d4ac57d4ac57d3ac57d3ac57d3ac57d2ac57d2ac57d3ab56d2ab56d2ab56d2ab56d2ab56d2aa56d1aa56d1aa56d1aa56d1aa55d0aa55cfa956d0a955cfa855cfa855cba554c9a65bbea87ac5b38cd5c197cdc4b0e2d0aaead6abeed9adf1dcaef3ddaff3ddaffaf0dbfefefefdfdfdfafafaf8f8f8f5f5f5f1f1f1eeeeeeebebebe8e8e8e4e4e4e1e1e1dedededadadad6d6d6d3d3d3d0d0d0d0d0d0cfcfcfcecececececdcdcdcdcdcdcccfccc5cccbcbcacacacacac9c8c8c8cac8c3c7c7c7c6c6c5c4c4c4c3c3c2c2c1c1c0c0c0bfbebebdbdbdbbbbbab3b3b2bcb6a9b4ad9da7a49d9c9c9c9494948e8e8e8888888282827c7c7c7474746e6e6e6767677b756aa39370b99a59c29e50c09c4ebc994db9964bb6944ab29149af8e48ac8b47a88945a68744a28443a082429d7f40997c3f967a3d91753b876e387a6434735d2f6f5b2e6b572c64522a6359435e5e5e5757575050504a4a4a404040363636413c31524324423821352d1a2c2c2c2725212222221f1d191c171016161413131212121112111111111111111011101010101010100f0f0f0f0f0f0f0f0e0e0e0e0d0d0d0d0d0d0d0c0c0b0b0b0a0909090d0a07640909ef02023e0000000000000000000000000000"[h+5],16)}a.cg=[];for(var g=a.Ga,h=a.Ak,k=c;k<c+f;k++)for(var l=b;l<b+d;l++){var n=l-b+(k-c)*d,m;a:{m=0;for(var u=e.length;m<u;m++){var p=e[m];if(l>=p.N&&l<=p.T&&k>=p.O&&k<=p.U){m=!0;break a}}m=!1}if(!0===m){p=4*(l+k*a.A);m=h[p+0]&255;var u=h[p+1]&255,p=h[p+2]&255,t=m<<16|u<<8|p;if(void 0===g[t]){for(var v=a.Xc,r=0,x=16777216,J=1;256>J;J++){var M=3*J,B=m-(v[M+0]&255),E=u-(v[M+1]&255),M=p-(v[M+2]&255),B=B*B+E*E+M*M;B<x&&(x=B,r=J)}g[t]=r}a.cg[n]=g[t]}else a.cg[n]=a.rk}a.Lf&&(Se(a.L,a.A),Se(a.L,a.I),Z(a.L,247),Z(a.L,0),Z(a.L,0),a.Ti(),Z(a.L,33),Z(a.L,255),Z(a.L,11),Re(a.L,"NETSCAPE2.0"),Z(a.L,3),Z(a.L,1),Se(a.L,a.vl),Z(a.L,0),Z(a.L,33),Z(a.L,254),Z(a.L,a.Ka.length),Re(a.L,a.Ka),Z(a.L,0));Z(a.L,33);Z(a.L,249);Z(a.L,4);Z(a.L,5);Se(a.L,a.mk);Z(a.L,a.rk);Z(a.L,0);Z(a.L,44);Se(a.L,void 0!==b?b:0);Se(a.L,void 0!==c?c:0);Se(a.L,void 0!==d?d:a.A);Se(a.L,void 0!==f?f:a.I);Z(a.L,0);b=new Ue(a.A,a.I,a.cg);c=a.L;Z(c,b.pk);b.pi=b.A*b.I;b.lk=0;d=b.pk+1;b.ok=d;b.re=!1;b.tc=d;b.Ae=(1<<b.tc)-1;d=1<<d-1;b.li=d+1;b.ze=d+2;b.Ta=0;f=Ve(b);e=0;for(g=5003;65536>g;g*=2)++e;e=8-e;We(b);Xe(b,d,c);for(k=[];-1!==(h=Ve(b));)if(g=(h<<12)+f,l=h<<e^f,g===b.Dd[l])f=k[l];else{if(0<=b.Dd[l]){n=5003-l;m=!1;0===l&&(n=1);do if(0>(l-=n)&&(l+=5003),g===b.Dd[l]){f=k[l];m=!0;break}while(0<=b.Dd[l]);if(m)continue}Xe(b,f,c);f=h;4096>b.ze?(k[l]=b.ze++,b.Dd[l]=g):(We(b),b.ze=d+2,b.re=!0,Xe(b,d,c))}Xe(b,f,c);Xe(b,b.li,c);Z(c,0);a.Lf=!1;console.log("Frame "+a.nk);a.nk++}Ne.prototype.Lc=function(){this.L=new Qe;Re(this.L,"GIF89a")};Ne.prototype.Ti=function(){Ye(this.L,this.Xc);for(var a=768-this.Xc.length,b=0;b<a;b++)Z(this.L,0)};function Ue(a,b,c){this.A=a;this.I=b;this.da=c;this.pk=Math.max(2,8);this.lk=this.pi=0;this.Dd=[];this.ok=0;this.re=!1;this.jb=this.Db=this.ze=this.li=this.Ae=this.tc=0;this.ql=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];this.Ta=0;this.Yh=[]}function Ve(a){if(0===a.pi)return-1;--a.pi;return a.da[a.lk++]&255}function We(a){for(var b=0;5003>b;b++)a.Dd[b]=-1}function Xe(a,b,c){a.Db&=a.ql[a.jb];a.Db=0<a.jb?a.Db|b<<a.jb:b;for(a.jb+=a.tc;8<=a.jb;){var d=a,f=a.Db&255,e=c;d.Yh[d.Ta++]=f;254<=d.Ta&&Ze(d,e);a.Db>>=8;a.jb-=8}if(a.ze>a.Ae||a.re)a.re?(a.tc=a.ok,a.Ae=(1<<a.tc)-1,a.re=!1):(a.tc++,12==a.tc?a.Ae=4096:a.Ae=(1<<a.tc)-1);if(b===a.li){for(;0<a.jb;)b=a,d=a.Db&255,f=c,b.Yh[b.Ta++]=d,254<=b.Ta&&Ze(b,f),a.Db>>=8,a.jb-=8;Ze(a,c)}}function Ze(a,b){0<a.Ta&&(Z(b,a.Ta),Ye(b,a.Yh,0,a.Ta),a.Ta=0)};"use strict;";function $e(){this.xe=this.Va=0}$e.prototype.kc=function(){this.xe=this.Va=0};$e.prototype.jd=function(){var a=new $e;a.Zd(this);return a};$e.prototype.Zd=function(a){this.Va=a.Va;this.xe=a.xe};$e.prototype.Set=function(a,b){this.Va=a;this.xe=b};function af(a,b){this.we=void 0===a?H:a;this.Be=void 0===b?-1:b}q=af.prototype;q.Zd=function(a){this.we=a.we;this.Be=a.Be};q.sa=function(){this.we=H;this.Be=-1};q.wf=function(a){this.we=a};q.wa=function(){return this.we};q.Zg=function(){return this.Be};function bf(){this.qe=[];this.Ed=[]}bf.prototype.Y=function(){return this.Ed.length};bf.prototype.wa=function(a){return this.Ed[a]};function cf(a,b,c){b=(c<<8)+b;c=0;for(var d=a.Ed.length;c<d;c++)if(a.Ed[c]==b)return!0;return!1}function df(){this.hb={}}df.prototype.sa=function(){this.hb={}};df.prototype.Jc=function(a,b){var c=(b<<8)+a;if(void 0!==this.hb[c])return!0;this.hb[c]=1;return!1};function vb(){this.ag={};this.Vb=null}vb.prototype.Jc=function(a,b,c){if(H===c)return null;a=(b<<8)+a;if(null===this.Vb)return this.Vb=c,this.ag[a]=1,!1;if(c!==this.Vb)return null;if(void 0!==this.ag[a])return!0;this.ag[a]=1;return!1};vb.prototype.wa=function(){return this.Vb};function ef(){this.ra={};this.Ce=H}ef.prototype.sa=function(){this.ra={};this.Ce=H};ef.prototype.Jc=function(a,b){var c=(b<<8)+a;if(void 0!==this.ra[c])return!0;this.ra[c]=1;return!1};function qb(a,b,c){c=void 0===c?a.Ce:c;for(var d in a.ra)a=T(d|0),b.Rb[Ca(b,a.f,a.g)]=c}function me(a,b){this.A=void 0===a?19:a;this.I=void 0===b?19:b;this.Bb=null;Le(this);this.$b=new $e;this.Rb=null;this.ra=new ef;this.Sf=new df}q=me.prototype;q.jd=function(){for(var a=new me(this.A,this.I),b=0,c=this.Bb.length;b<c;b++)a.Bb[b].Zd(this.Bb[b]);a.$b.Zd(this.$b);return a};q.sa=function(){for(var a=this.A*this.I,b=0;b<a;b++)this.Bb[b].sa()};q.Y=function(){return{f:this.A,g:this.I}};q.Set=function(a,b,c,d){a=Ca(this,a,b);this.Bb[a].wf(c);void 0!==d&&null!==d&&-1!==d&&(this.Bb[a].Be=d)};q.D=function(a,b){return this.Bb[Ca(this,a,b)].wa()};q.Zg=function(a,b){return this.Bb[Ca(this,a,b)].Zg()};function yb(a,b,c,d){var f=new bf;ff(a,b,c,d,f);return 0<f.Y()?f:null}function xb(a,b,c,d,f){var e;switch(d){case F:e=G;break;case G:e=F;break;default:return null}d=new bf;!0!==cf(d,b+1,c)&&ff(a,b+1,c,e,d);!0!==cf(d,b-1,c)&&ff(a,b-1,c,e,d);!0!==cf(d,b,c+1)&&ff(a,b,c+1,e,d);!0!==cf(d,b,c-1)&&ff(a,b,c-1,e,d);e=d.Y();if(1==e){b=(c<<8)+b;c=d.wa(0);e=a.$b;if(c===e.Va&&b===e.xe&&1==f)return null;a.$b.Set(b,c)}else if(1<e)a.$b.kc();else if(0>=e)return null;return d}function Le(a){var b=a.A*a.I;a.Bb=Array(b);for(var c=0;c<b;c++)a.Bb[c]=new af}function Ca(a,b,c){return(c-1)*a.A+(b-1)}function gf(a,b,c,d,f){if(b>a.A||1>b||c>a.I||1>c)return!1;var e=a.D(b,c);return H===e?!0:d===e?hf(a,b,c,d,f):!1}function hf(a,b,c,d,f){var e;a:{e=(c<<8)+b;for(var g=0,h=f.qe.length;g<h;g++)if(f.qe[g]==e){e=!0;break a}f.qe.push(e);e=!1}return!0===e?!1:!0===gf(a,b+1,c,d,f)||!0===gf(a,b-1,c,d,f)||!0===gf(a,b,c+1,d,f)||!0===gf(a,b,c-1,d,f)?!0:!1}function ff(a,b,c,d,f){b>a.A||1>b||c>a.I||1>c||d!==a.D(b,c)||(!0!==hf(a,b,c,d,f)&&(f.Ed=f.Ed.concat(f.qe)),f.qe=[])}q.gf=function(a){for(var b=0,c=0,d=1;d<=this.I;d++)for(var f=1;f<=this.A;f++){var e=null,g=this.Rb[Ca(this,f,d)];F===g?(e=new ua(f,d,Ua,""),G===this.D(f,d)?b+=2:b++):G===g&&(e=new ua(f,d,Va,""),F===this.D(f,d)?c+=2:c++);null===e?a.wb(f,d):a.La(e)}return{hd:b,Ad:c}};function jf(a,b,c){if(!(b>a.A||1>b||c>a.I||1>c)){var d=a.D(b,c);if(H!==a.D(b,c))switch(b=a.ra.Ce,b){case H:a.ra.Ce=d;break;case F:case G:b!==d&&(a.ra.Ce=3)}else!1===a.ra.Jc(b,c)&&(jf(a,b+1,c),jf(a,b-1,c),jf(a,b,c+1),jf(a,b,c-1))}}function ob(a,b,c,d){b>a.A||1>b||c>a.I||1>c||(3-d===a.D(b,c)?d===a.Rb[Ca(a,b,c)]&&a.Sf.Jc(b,c):!0!==a.ra.Jc(b,c)&&(ob(a,b+1,c,d),ob(a,b-1,c,d),ob(a,b,c+1,d),ob(a,b,c-1,d)))}function pb(a,b,c,d){if(!(b>a.A||1>b||c>a.I||1>c)&&3-d!==a.D(b,c)){if(d===a.D(b,c)){var f=a.Sf,e=(c<<8)+b;void 0!==f.hb[e]&&delete f.hb[e]}!0!==a.ra.Jc(b,c)&&(pb(a,b+1,c,d),pb(a,b-1,c,d),pb(a,b,c+1,d),pb(a,b,c-1,d))}}function Da(a,b){for(var c=1;c<=a.I;c++)for(var d=1;d<=a.A;d++)H===a.D(d,c)&&(H===a.Rb[Ca(a,d,c)]||!0===b&&3===a.Rb[Ca(a,d,c)])&&(a.ra.sa(),jf(a,d,c),qb(a.ra,a))}q.hf=function(a){var b;this.ya=[];for(var c=0;c<=this.I+1;c++){this.ya[c]=[];for(var d=0;d<=this.A+1;d++)if(0===d||this.A+1===d||0===c||this.I+1===c){this.ya[c][d]=0;b=d;for(var f=c,e=100,g=[],h=b-4;h<=b+4;h++)for(var k=f-4;k<=f+4;k++)if(!(1>h||h>this.A||1>k||k>this.I||4<Math.abs(b-h)+Math.abs(f-k))){var l=Pa(this,h,k);if(H!==l){var n=Math.abs(b-h)+Math.abs(f-k);n<e?(e=n,g=[],g.push({f:h,g:k,zb:l})):n===e&&g.push({f:h,g:k,zb:l})}}b=g;f=b.length;if(0<f){g=e=!1;for(h=0;h<f;h++)F===b[h].zb&&(g=!0),G===b[h].zb&&(e=!0);if(!0!==e||!0!==g)this.ya[c][d]=e?-128:128}}else b=Pa(this,d,c),this.ya[c][d]=F===b?128:G===b?-128:0}for(c=0;5>c;c++){d=[];for(b=0;b<=this.I+1;b++)for(d[b]=[],f=0;f<=this.A+1;f++){k=[];k[0]=0<f?this.ya[b][f-1]:0;k[1]=f<this.A+1?this.ya[b][f+1]:0;k[2]=0<b?this.ya[b-1][f]:0;k[3]=b<this.I+1?this.ya[b+1][f]:0;e=0;h=g=!1;for(l=0;4>l;l++)0<k[l]?(g=!0,e++):0>k[l]&&(h=!0,e--);k=this.ya[b][f];d[b][f]=0<=k&&!1===h||0>=k&&!1===g?k+e:k}this.ya=d}for(c=0;3>c;c++)kf(this);b=d=0;for(c=1;c<=this.I;c++)for(f=1;f<=this.A;f++)e=null,g=this.ya[c][f],0<g&&F!==this.D(f,c)?(e=new ua(f,c,Ua,""),G===this.D(f,c)?d+=2:d++):0>g&&G!==this.D(f,c)&&(e=new ua(f,c,Va,""),F===this.D(f,c)?b+=2:b++),null===e?a.wb(f,c):a.La(e);for(c=0;23>c;c++)kf(this);k=h=0;for(c=1;c<=this.I;c++)for(f=1;f<=this.A;f++)e=null,g=this.ya[c][f],0<g&&F!==this.D(f,c)?(e=new ua(f,c,Wa,""),G===this.D(f,c)?h+=2:h++):0>g&&G!==this.D(f,c)&&(e=new ua(f,c,Xa,""),F===this.D(f,c)?k+=2:k++),null!==e&&a.La(e);return{$i:h,Zi:d,bk:k,ak:b}};function wb(a,b,c,d){1>b||b>a.A||1>c||c>a.I||!1!==d.Jc(b,c,a.D(b,c))||(wb(a,b+1,c,d),wb(a,b-1,c,d),wb(a,b,c+1,d),wb(a,b,c-1,d),1<b&&1<c&&H===a.D(b-1,c)&&H===a.D(b,c-1)&&wb(a,b-1,c-1,d),b<a.A&&1<c&&H===a.D(b+1,c)&&H===a.D(b,c-1)&&wb(a,b+1,c-1,d),b<a.A&&c<a.I&&H===a.D(b+1,c)&&H===a.D(b,c+1)&&wb(a,b+1,c+1,d),1<b&&c<a.I&&H===a.D(b-1,c)&&H===a.D(b,c+1)&&wb(a,b-1,c+1,d))}function Pa(a,b,c){return void 0===a.rc||void 0===a.rc[c]||void 0===a.rc[c][b]?H:a.rc[c][b]}function ya(a,b,c,d){void 0===a.rc&&(a.rc=[]);void 0===a.rc[c]&&(a.rc[c]=[]);a.rc[c][b]=d}function kf(a){for(var b=[],c=0;c<=a.I+1;c++){b[c]=[];for(var d=0;d<=a.A+1;d++){var f=[];f[0]=0<d?a.ya[c][d-1]:null;f[1]=d<a.A+1?a.ya[c][d+1]:null;f[2]=0<c?a.ya[c-1][d]:null;f[3]=c<a.I+1?a.ya[c+1][d]:null;for(var e=0,g=0,h=0;4>h;h++)null!==f[h]&&(0<=f[h]&&e++,0>=f[h]&&g--);f=a.ya[c][d];b[c][d]=0<f&&0!==g?Math.max(f+g,0):0>f&&0!==e?Math.min(f+e,0):f}}a.ya=b};function Qe(){this.bg=this.da=null;this.d=this.Ua=0;this.o()}Qe.prototype.o=function(){var a=document.createElement("canvas").getContext("2d");this.Ua=5242880;this.bg=a.createImageData(this.Ua/4,1);this.da=this.bg.data;this.d=0};function lf(a,b){if(a.d+b>=a.Ua){var c=document.createElement("canvas").getContext("2d"),d=a.da;a.Ua*=2;a.bg=c.createImageData(a.Ua/4,1);a.da=a.bg.data;for(var c=a.da,f=0;f<a.om;f++)c[f]=d[f]}}function Pe(a){for(var b=new Uint8Array(a.d),c=0;c<a.d;c++)b[c]=a.da[c];return b}function Z(a,b){lf(a,1);a.da[a.d++]=b}function Re(a,b){var c=b.length;lf(a,c);for(var d=0;d<c;d++)a.da[a.d++]=b.charCodeAt(d)}function Ye(a,b,c,d){c=c||0;d=d||b.length;for(lf(a,d-c);c<d;c++)a.da[a.d++]=b[c]}function Se(a,b){lf(a,2);a.da[a.d++]=b&255;a.da[a.d++]=b>>8&255}function Te(a,b){lf(a,4);a.da[a.d++]=b&255;a.da[a.d++]=b>>8&255;a.da[a.d++]=b>>16&255;a.da[a.d++]=b>>24&255}function ve(a,b){this.da=a;this.Pa=b;this.d=0}function xe(a){return a.d+1>=a.Pa?0:a.da[a.d++]|a.da[a.d++]<<8}function ye(a){return a.d+3>=a.Pa?0:a.da[a.d++]|a.da[a.d++]<<8|a.da[a.d++]<<16|a.da[a.d++]<<24}function we(a,b){if(a.d+b>a.Pa)return"";for(var c=[],d=0;d<b;d++)c.push(String.fromCharCode(a.da[a.d+d]));a.d+=b;return c.join("")};function mf(a,b){this.Vb=a;this.H=b}q=mf.prototype;q.od=function(){return T(this.Vb).f};q.pd=function(){return T(this.Vb).g};q.wa=function(){return this.Vb};q.wf=function(a){this.Vb=a};q.fb=function(a){this.H=a};function nf(){this.kk=0}nf.prototype.kc=function(){this.kk=0};var re=new nf;function ne(){this.Ck=++re.kk+"";this.ua=[];this.ea=-1;this.aa=null;this.qa=[];this.Ib=new mf(0,H);this.Ka="";this.mb=new of;this.Ra={f:-1,g:-1,qf:-1};this.Mf=!1;this.Ga={}}function ze(a,b){if(b===a.Ck)return a;for(var c=0,d=U(a);c<d;c++){var f=ze(a.ua[c],b);if(null!==f)return f}return null}function oe(a,b){var c=new ne;c.qa=a.qa;0<a.ua.length&&a!==b&&(c.ua[0]=oe(a.ua[a.ea],b),c.ea=0,c.ua[0].aa=c);return c}q=ne.prototype;q.ce=function(){return!0};q.sa=function(){this.ua=[];this.ea=-1;this.qa=[];this.Ib=new mf(0,H);this.Ka="";this.mb=new of};q.Q=function(a){return void 0!==this.ua[a]?this.ua[a]:this.ua[this.ea]};function Ge(a,b){a.ea=b>=a.ua.length?a.ua.length-1:b}function U(a){return a.ua.length}q.td=function(){return H===this.Ib.H?!1:!0};q.Ze=function(a){this.Ka+=a};q.vf=function(a){this.Ka=a};q.ug=function(a,b){this.mb.hb[""+a]=b};q.Kg=function(){this.mb.hb={}};q.ah=function(){for(var a=this;0<U(a);)Ge(a,0),a=a.Q(0)};function Vc(a){for(;0<U(a);)a=a.Q(0);return a}function qe(a){for(var b=!1,c=a.aa;null!=c;){for(var d=!1,f=0,e=U(c);f<e;f++)if(a===c.Q(f)){f!==c.ea&&(b=!0);Ge(c,f);d=!0;break}if(!d)return!1;a=c;c=c.aa}return b}function Fe(a){for(var b=null;null!==(b=a.aa);){if(0!=b.ea)return!1;a=b}return!0}q.vd=function(){for(var a=this,b=null;null!=(b=a.aa);){if(b.Q(b.ea)!=a)return!1;a=b}return!0};q.cb=function(a,b,c){a=(b<<8)+a;this.qa.push(new Zd(F===c?1:2,a));H===this.Ib.H&&(this.Ib.wf(a),this.Ib.fb(c))};q.gd=function(a,b){var c=new Zd(F===a?257:G===a?258:259,be(b),b.length);this.qa.push(c)};q.La=function(a,b){var c=0;switch(a){case Ya:c=529;break;case va:return;case Za:c=531;break;case $a:c=532;break;case Ta:c=533;break;case ab:c=530;break;case 513:c=513}c=new Zd(c,be(b),b.length);this.qa.push(c)};q.Vd=function(a,b){this.qa.push(new Zd(533,{Text:a,yj:b}))};q.ie=function(a){this.qa.push(new Zd(260,a))};q.sg=function(a){this.qa.push(new Zd(769,a))};q.vg=function(a){this.qa.push(new Zd(770,a))};q.je=function(a,b){b.a.Af.e.a.getContext("2d").clearRect(0,0,b.b.M,b.b.F);switch(a){case ke:pf(this,b,-1);break;case 1:var c=this.aa;null!==c&&pf(c,b,this.Ib.wa())}};function lb(a){for(var b=1,c=null;null!==(c=a.aa);)b++,a=c;return b}function pf(a,b,c){if(b)for(var d=0,f=U(a);d<f;d++){var e=a.Q(d).Ib;if(H!==e.H&&c!==e.wa()){var g=T(e.wa()),e=b,h=g.f,k=g.g;if(e.b.S){var g=(e.b.gb/2-1)/2,l=e.b.S;!0===ta(e,h-1,k-1)&&(h=l[h-1].f,k=l[k-1].g,l=e.a.Af.e.a.getContext("2d"),l.fillStyle=R(e.Cl),l.beginPath(),l.arc(h,k,g,0,2*Math.PI,!1),l.fill())}}}}function pe(a,b){-1!==a.Ka.indexOf("RIGHT")&&b.push(a);for(var c=0,d=U(a);c<d;c++)pe(a.Q(c),b)}q.tg=function(a,b,c){this.Ga[(b<<8)+a]=c};q.Bh=function(a,b){delete this.Ga[(b<<8)+a]};q.Ah=function(){this.Ga={}};function Je(a,b){cb(b);for(var c in a.Ga)b.Qa[c]=a.Ga[c];Ma(b)}q.Mg=function(){this.Ga={};if(null!==this.aa){var a=this.aa.Ga,b;for(b in a)this.Ga[b]=a[b].jd()}};function qf(a,b){for(var c in a.Ga)b[ae(a.Ga[c])]=!0;c=0;for(var d=U(a);c<d;c++)qf(a.ua[c],b)}q.uh=function(){for(var a=this,b=this.ea,c=this.Q(b);null!==c&&void 0!==c;)0!==b&&(a.ua.splice(b,1),a.ua.splice(0,0,c),Ge(a,0)),a=c,b=a.ea,c=a.Q(b)};var rf=0;function ue(a){this.c=a;this.w=[];this.Nd=this.d=0;this.$h=[];this.Sb=!0;this.Ua=0;this.k={N:100,O:100,T:-1,U:-1};this.tl=rf;this.$a=null}ue.prototype.qh=function(a){void 0!==a&&""!==a&&(this.w=[],this.Nd=this.d=0,this.$h=[],this.Sb=!0,this.Ua=0,this.og(a),sf(this)||alert("Error occurs, while read SGF"))};ue.prototype.og=function(a){for(var b=0,c=a.length,d=[],f=!1;b<c;){(f||32<a.charCodeAt(b))&&d.push(a.charAt(b));if(3<=d.length&&"["==d[d.length-1]){var e=d[d.length-3]+d[d.length-2];if("C"==d[d.length-2]&&"UC"!=e||"AN"==e||"BR"==e||"BT"==e||"CP"==e||"DT"==e||"EV"==e||"GN"==e||"GC"==e||"ON"==e||"OT"==e||"PB"==e||"PC"==e||"PW"==e||"RE"==e||"RO"==e||"RU"==e||"SO"==e||"TM"==e||"US"==e||"WR"==e||"WT"==e)f=!0}else f&&1<=d.length&&"]"==d[d.length-1]&&(2>d.length||"\\"!=d[d.length-2])&&(f=!1);b++}this.w=d;this.Ua=this.w.length};function sf(a){a.c.kc();if("("===a.w[0]&&";"===a.w[1])for(a.d++;a.d<a.Ua&&(")"!==a.w[a.d]||0!==a.Nd);){var b=a.w[a.d];if(";"===b){1!=a.d?rb(a.c,!1,!1):a.c.j=a.c.ba;a.c.j.Mf=!0;a:{b=a;b.d++;for(var c=b.w[b.d],d=b.w[b.d+1];void 0!==c&&")"!==c&&";"!==c&&"("!==c;){switch(c){case "A":switch(d){case "B":tf(b,F);break;case "E":tf(b,H);break;case "W":tf(b,G);break;case "N":c=b;c.d+=3;d=uf(c);c.c.Me=d;break;case "P":c=b;c.d+=3;uf(c);break;default:vf(b)}break;case "B":switch(d){case "[":wf(b,F);break;case "R":c=b;c.d+=3;td(c.c,uf(c));break;case "T":c=b;c.d+=3;d=uf(c);c.c.Bk=d;break;case "L":c=b;c.d+=3;c.c.sg(xf(c));break;default:vf(b)}break;case "C":switch(d){case "[":c=b;c.d+=2;for(d="";"]"!==c.w[c.d]||"\\"===c.w[c.d-1];)"]"===c.w[c.d+1]&&"\\"===c.w[c.d]?(d+="]",c.d++):d+=c.w[c.d],c.d++;c.d++;switch(c.tl){case 1:for(var f="",e=0,g=0,h=0,k=0,l=d.length;e<l;)g=d.charCodeAt(e),128>g?(f+=String.fromCharCode(g),e++):191<g&&224>g?(h=d.charCodeAt(e+1),f+=String.fromCharCode((g&31)<<6|h&63),e+=2):(h=d.charCodeAt(e+1),k=d.charCodeAt(e+2),f+=String.fromCharCode((g&15)<<12|(h&63)<<6|k&63),e+=3);d=f}c.c.Ze(d);break;case "A":c=b;c.d+=3;uf(c);break;case "P":c=b;c.d+=3;d=uf(c);c.c.Le=d;break;case "R":yf(b,Ya);break;case "T":c=b;c.d+=3;d=uf(c);if(""!==d&&(d=je(d),d=new ve(d,d.length),"SGFCT"===we(d,5)))for(xe(d),f=ye(d),c.$a=[],e=0;e<f;e++)h=ye(d),c.$a[e]=new A(0,0,0,0),g=c.$a[e],g.r=h>>24&255,g.u=h>>16&255,g.t=h>>8&255,g.Oa=h&255;break;case "M":c=b;c.d+=3;d=uf(c);if(""!==d&&(d=je(d),d=new ve(d,d.length),"SGFCM"===we(d,5)))for(xe(d),f=xe(d),e=xe(d),g=c.c.j,g.Ga={},h=0;h<e;h++)for(k=0;k<f;k++)l=d.d>=d.Pa?0:d.da[d.d++],void 0!==c.$a[l]&&0!==c.$a[l].Oa&&(g.Ga[(h+1<<8)+(k+1)]=c.$a[l].jd());break;default:vf(b)}break;case "D":switch(d){case "T":c=b;c.d+=3;d=uf(c);c.c.Zc=d;break;default:vf(b)}break;case "E":switch(d){case "V":c=b;c.d+=3;d=uf(c);c.c.Qd=d;break;default:vf(b)}break;case "F":switch(d){case "F":vf(b);break;default:vf(b)}break;case "G":switch(d){case "N":c=b;c.d+=3;d=uf(c);c.c.Ac=d;break;case "C":c=b;c.d+=3;d=uf(c);c.c.zc=d;break;case "M":c=b;c.d+=3;1!==zf(c)&&(c.Sb=!1);break;default:vf(b)}break;case "H":switch(d){case "A":c=b;c.d+=3;d=zf(c);c.c.lb=d;break;default:vf(b)}break;case "K":switch(d){case "M":c=b;c.d+=3;d=xf(c);c.c.uc=d;break;default:vf(b)}break;case "L":switch(d){case "B":c=b;for(c.d+=3;;){d=c.w[c.d];c.d++;f=c.w[c.d];c.d++;d=d.charCodeAt(0)-96;f=f.charCodeAt(0)-96;c.d++;for(e="";"]"!==c.w[c.d]&&c.d<c.Ua;)e+=c.w[c.d],c.d++;Af(c,d,f);c.c.Vd(e,(f<<8)+d);if("]"!==c.w[c.d]){c.Sb=!1;break}c.d++;if("["!==c.w[c.d])break;c.d++}break;default:vf(b)}break;case "M":switch(d){case "A":yf(b,ab);break;default:vf(b)}break;case "O":switch(d){case "N":c=b;c.d+=3;d=uf(c);c.c.Ne=d;break;case "T":c=b;c.d+=3;d=uf(c);c.c.Re=d;break;default:vf(b)}break;case "P":switch(d){case "B":c=b;c.d+=3;sd(c.c,uf(c));break;case "C":c=b;c.d+=3;d=uf(c);c.c.Rd=d;break;case "W":c=b;c.d+=3;ud(c.c,uf(c));break;case "L":c=b;c.d+=3;"W"===uf(c)?c.c.ie(G):c.c.ie(F);break;default:vf(b)}break;case "R":switch(d){case "E":c=b;c.d+=3;d=uf(c);c.c.Sa=d;break;case "O":c=b;c.d+=3;d=uf(c);c.c.Oe=d;break;case "U":c=b;c.d+=3;d=uf(c);c.c.Se=d;break;default:vf(b)}break;case "S":switch(d){case "Q":yf(b,Za);break;case "T":c=b;c.d+=3;switch(zf(c)){case 0:Tb(c.c,ke);break;case 1:Tb(c.c,1);break;default:Tb(c.c,0)}break;case "Z":c=b;c.d+=3;d=zf(c);0>=d&&(d=19);Ke(c.c,d,d);break;case "O":c=b;c.d+=3;d=uf(c);c.c.Pe=d;break;default:vf(b)}break;case "T":switch(d){case "R":yf(b,$a);break;case "M":c=b;c.d+=3;d=uf(c);c.c.Ee=d;break;case "B":Bf(b,F);break;case "W":Bf(b,G);break;default:vf(b)}break;case "U":switch(d){case "S":c=b;c.d+=3;d=uf(c);c.c.Qe=d;break;default:vf(b)}break;case "W":switch(d){case "[":wf(b,G);break;case "R":c=b;c.d+=3;vd(c.c,uf(c));break;case "T":c=b;c.d+=3;d=uf(c);c.c.Dk=d;break;case "L":c=b;c.d+=3;c.c.vg(xf(c));break;default:vf(b)}break;default:vf(b)}if(!b.Sb){b=!1;break a}c=b.w[b.d];d=b.w[b.d+1]}b=!0}if(!b)return!1}else if("("===b)a.$h[a.Nd]=a.c.j,a.Nd++,a.d++;else if(")"===b)a.Nd--,a.c.j=a.$h[a.Nd],a.d++;else return!1}else return!1;return!0}function uf(a,b){void 0===b&&(b="]");for(var c="";void 0!==a.w[a.d]&&b!==a.w[a.d];)c+=a.w[a.d],a.d++;void 0===a.w[a.d]&&(a.Sb=!1);a.d++;return c}function xf(a){a=parseFloat(uf(a,void 0));return isNaN(a)?0:a}function zf(a){a=parseInt(uf(a,void 0));return isNaN(a)?0:a}function vf(a){for(;;){for(;void 0!==a.w[a.d]&&"]"!==a.w[a.d]&&a.d<a.Ua;)for(a.d++;"]"===a.w[a.d]&&"\\"===a.w[a.d-1];)a.d++;a.d++;if("["!==a.w[a.d])break}}function tf(a,b){a.d+=3;var c=[];if("]"!==a.w[a.d]){for(;;){var d=a.w[a.d];a.d++;var f=a.w[a.d];a.d++;var e=d.charCodeAt(0)-96,g=f.charCodeAt(0)-96;if(":"===a.w[a.d])for(a.d++,d=a.w[a.d],a.d++,f=a.w[a.d],a.d++,d=d.charCodeAt(0)-96,f=f.charCodeAt(0)-96;g<=f;g++)for(var h=e;h<=d;h++)Af(a,h,g),c.push((g<<8)+h);else Af(a,e,g),c.push((g<<8)+e);if("]"!==a.w[a.d]){a.Sb=!1;return}a.d++;if("["!==a.w[a.d])break;a.d++}a.c.gd(b,c)}}function wf(a,b){a.d+=2;if("]"==a.w[a.d])a.c.cb(0,0,b);else{var c=a.w[a.d];a.d++;var d=a.w[a.d];a.d++;var f=a.c.fa.Y();if("t"===c&&"t"===d&&19>=f.f&&19>=f.g)a.c.cb(0,0,b);else for(c=c.charCodeAt(0)-96,d=d.charCodeAt(0)-96,Af(a,c,d),a.c.cb(c,d,b);"]"!==a.w[a.d];)if(a.d++,a.d>=a.Ua){a.Sb=!1;break}}a.d++}function yf(a,b){a.d+=3;var c=[];if("]"!==a.w[a.d]){for(;;){var d=a.w[a.d];a.d++;var f=a.w[a.d];a.d++;var e=d.charCodeAt(0)-96,g=f.charCodeAt(0)-96;if(":"===a.w[a.d])for(a.d++,d=a.w[a.d],a.d++,f=a.w[a.d],a.d++,d=d.charCodeAt(0)-96,f=f.charCodeAt(0)-96;g<=f;g++)for(var h=e;h<=d;h++)Af(a,h,g),c.push((g<<8)+h);else Af(a,e,g),c.push((g<<8)+e);if("]"!==a.w[a.d]){a.Sb=!1;return}a.d++;if("["!==a.w[a.d])break;a.d++}a.c.La(b,c)}}function Bf(a,b){a.d+=3;var c=[];if("]"!==a.w[a.d]){for(;;){var d=a.w[a.d];a.d++;var f=a.w[a.d];a.d++;var e=d.charCodeAt(0)-96,g=f.charCodeAt(0)-96;if(":"===a.w[a.d])for(a.d++,d=a.w[a.d],a.d++,f=a.w[a.d],a.d++,d=d.charCodeAt(0)-96,f=f.charCodeAt(0)-96;g<=f;g++)for(var h=e;h<=d;h++)c.push((g<<8)+h);else c.push((g<<8)+e);if("]"!==a.w[a.d]){a.Sb=!1;return}a.d++;if("["!==a.w[a.d])break;a.d++}a.c.ug(b,c)}}function Af(a,b,c){b<a.k.N&&(a.k.N=b);b>a.k.T&&(a.k.T=b);c<a.k.O&&(a.k.O=c);c>a.k.U&&(a.k.U=c)}function Cf(a){this.c=a;this.yc=[];this.Pa=this.d=0}Cf.prototype.og=function(a){for(var b=a.length,c=[],d=0;d<b;)c.push(a.charAt(d++));this.d=0;this.yc=c;this.Pa=this.yc.length};function Df(a){a.c.kc();a.c.j=a.c.ba;a.c.j.Mf=!0}function Ef(a){return a.d>=a.Pa?-1:a.yc[a.d++]}function Ff(a){for(var b="",c=null;-1!==c&&"\n"!==c;)c=Ef(a),b+=c;return b}function Gf(a){return a.d>=a.Pa?!0:!1}function te(a){te.X.constructor.call(this,a);this.Md=this.lb=0;this.Jd=19}qd(te,Cf);te.prototype.qh=function(a){this.og(a);Df(this);this.Ri();if(!(1>=this.lb)){a=[];var b=[];19===this.Jd?b=[4,10,16]:13===this.Jd?b=[4,7,10]:9===this.Jd&&(b=[3,5,7]);if(3===b.length)switch(this.lb){case 2:a=[[b[2],b[0]],[b[0],b[2]]];break;case 3:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]]];break;case 4:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]]];break;case 5:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[1],b[1]]];break;case 6:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]]];break;case 7:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[1]]];break;case 8:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]]];break;case 9:a=[[b[2],b[0]],[b[0],b[2]],[b[2],b[2]],[b[0],b[0]],[b[0],b[1]],[b[2],b[1]],[b[1],b[0]],[b[1],b[2]],[b[1],b[1]]]}if(0<a.length){for(var b=[],c=0,d=a.length;c<d;c++)b.push((a[c][1]<<8)+a[c][0]);this.c.gd(F,b)}}this.Qi()};te.prototype.Ri=function(){var a=Ff(this);this.c.zc=a;this.Jd=Ff(this)|0;Ke(this.c,this.Jd,this.Jd);Hf(this,!1);Hf(this,!0);Ff(this);a=Ff(this);this.lb=Math.min(9,Math.max(a|0,0));this.c.lb=this.lb;Ff(this);a=Ff(this);this.c.uc=parseFloat(a);a=Ff(this);this.c.Zc=a;Ff(this);a=Ff(this);this.c.Sa=a;this.Md=Ff(this)|0};te.prototype.Qi=function(){if(!Gf(this))for(var a=0;a<this.Md;a++){rb(this.c,!1,!1);this.c.j.Mf=!0;if("PM"===Ef(this)+Ef(this)){Ef(this);Ef(this);var b="B"===Ef(this)?F:G,c=Ef(this),d=Ef(this),c=c.charCodeAt(0)-65,d=d.charCodeAt(0)-65;0>c||0>d?this.c.cb(0,0,b):this.c.cb(c,d,b)}Ff(this);if(Gf(this))break}};function Hf(a,b){var c=Ff(a),d=c.indexOf(" "),f="",e="";-1!==d?(f=c.substr(0,d).replace(/\s+/g,""),e=c.substr(d).replace(/\s+/g,"")):f=c.replace(/\s+/g,"");!0===b?(sd(a.c,f),td(a.c,e)):(ud(a.c,f),vd(a.c,e))}function se(a){se.X.constructor.call(this,a)}qd(se,Cf);se.prototype.qh=function(a){this.og(a);Df(this);!1!==this.Ri()&&this.Qi()};se.prototype.Ri=function(){for(var a=-1;"\\"!==a;){if(Gf(this))return!1;a=Ef(this)}a=Ef(this)+Ef(this);if("GS"===a)return this.d-=3,!0;if("HS"!==a)return!1;for(;;){for(a=-1;"\\"!==a;){if(Gf(this))return!1;a=Ef(this)}a=Ef(this);if("H"===a){if("E"!==Ef(this))break;return!0}if("["!==a)break;for(var b="";;){if(Gf(this))return!1;a=Ef(this);if("="===a)break;b+=a}for(var c="";;){if(Gf(this))return!1;a=Ef(this);if("\\"===a){if("]"===Ef(this))break;return!1}c+=a}switch(b){case "WUSERINFO":case "BUSERINFO":case "GAMEINFOMAIN":case "GAMEINFOSUB":for(var b=a=null,d=[],f=-1;-1!==(f=c.indexOf(","));){var e=c.substr(0,f),g=e,h="",k=-1;-1!==(k=e.indexOf(":"))&&(g=e.substr(0,k),h=e.substr(k+1));d.push({nf:g,zb:h});c=c.substr(f+1)}f=0;for(c=d.length;f<c;f++)switch(e=d[f].zb,d[f].nf){case "WNICK":ud(this.c,e);break;case "BNICK":sd(this.c,e);break;case "WLV":vd(this.c,If(e));break;case "BLV":td(this.c,If(e));break;case "GNAME":this.c.Qd=e;break;case "GDATE":this.c.Zc=e;break;case "GPLC":this.c.Rd=e;break;case "GCMT":this.c.zc=e;break;case "GONGJE":this.c.uc=(e|0)/10;break;case "GRLT":a=e;break;case "ZIPSU":b=e}if(null!==a)switch(a){case "0":this.c.Sa="Black "+(b|0)/10+" win";break;case "1":this.c.Sa="White "+(b|0)/10+" win";break;case "3":this.c.Sa="Black wins by resignation";break;case "4":this.c.Sa="White wins by resignation";break;case "255":this.c.Sa="Unfinished"}}}return!1};se.prototype.Qi=function(){for(var a=-1;"\\"!==a;){if(Gf(this))return!1;a=Ef(this)}a=Ef(this)+Ef(this);if("GS"!==a)return!1;Ff(this);Ff(this);for(Ff(this);!Gf(this);){var b=Ff(this);if(-1!==b.indexOf("\\GE"))return!0;var c,a=[];for(c=-1;-1!==(c=b.indexOf(" "));)a.push(b.substr(0,c)),b=b.substr(c+1);c=a;if(0>=c.length)return!1;a=c[0];if("INI"===a)5<=c.length&&(this.c.zc=c[4]);else if("STO"===a){if(6!==c.length)return!1;rb(this.c,!1,!1);this.c.j.nm=!0;this.c.cb((c[4]|0)+1,(c[5]|0)+1,"1"===c[3]?F:G)}}};function If(a){a=a|0;return 18>a?18-a+"k":26<a?a-26+"p":a-17+"d"};function Ae(){this.$a=this.c=this.yc=null}function Jf(a,b){a.yc+=b}function Kf(a,b){var c=T(b);Jf(a,String.fromCharCode(91,c.f+96,c.g+96,93))}function Lf(a,b){for(var c=0,d=b.length;c<d;c++)Kf(a,b[c])}function Mf(a,b,c){Jf(a,b);Jf(a,"["+c+"]")}function Nf(a,b,c){c&&""!==c&&Mf(a,b,c)}function Be(a,b){var c=b.aa,d=!1;if(null===c||1<U(c))d=!0;d&&Jf(a,"(");Jf(a,";");if(b===a.c.ba){c=a.c;Mf(a,"GM",1);Mf(a,"FF",4);Mf(a,"CA","UTF-8");Mf(a,"AP","goban.org");Mf(a,"ST",c.Sc);Nf(a,"RU",c.Se);Mf(a,"SZ",c.fa.Y().f);Mf(a,"KM",c.uc);Mf(a,"HA",c.lb);Nf(a,"TM",c.Ee);Nf(a,"OT",c.Re);Nf(a,"RE",c.Sa);Nf(a,"GN",c.Ac);Nf(a,"DT",c.Zc);Nf(a,"CP",c.Le);Nf(a,"GC",c.zc);Nf(a,"PB",c.Yc);Nf(a,"BR",c.dg);Nf(a,"BT",c.Bk);Nf(a,"PW",c.$c);Nf(a,"WR",c.gg);Nf(a,"WT",c.Dk);Nf(a,"EV",c.Qd);Nf(a,"RO",c.Oe);Nf(a,"PC",c.Rd);Nf(a,"AN",c.Me);Nf(a,"ON",c.Ne);Nf(a,"SO",c.Pe);Nf(a,"US",c.Qe);c={};qf(a.c.ba,c);var f=1,e=[],g;for(g in c)c[g]=f,e[f++]=g|0;1<f&&(c[0]=0,e[0]=0,a.$a=c,a.Ti(e))}g=[];for(var c=[],f=[],e=0,h=b.qa.length;e<h;e++){var k=b.qa[e],l=k.H,k=k.wa();switch(l){case 257:case 258:case 259:for(var n=0,m=k.length;n<m;n++){for(var u=k[n],p=0,t=g.length;p<t;p++)u===g[p]&&(g.splice(p,1),t--,p--);p=0;for(t=c.length;p<t;p++)u===c[p]&&(c.splice(p,1),t--,p--);p=0;for(t=f.length;p<t;p++)u===f[p]&&(f.splice(p,1),t--,p--);257===l?g.push(u):258===l?c.push(u):259===l&&f.push(u)}}}0<g.length&&(Jf(a,"AB"),Lf(a,g));0<c.length&&(Jf(a,"AW"),Lf(a,c));0<f.length&&(Jf(a,"AE"),Lf(a,f));g=0;for(c=b.qa.length;g<c;g++)switch(e=b.qa[g],f=e.wa(),e.H){case 1:Jf(a,"B");Kf(a,f);break;case 2:Jf(a,"W");Kf(a,f);break;case 769:Jf(a,"BL");Jf(a,"["+f+"]");break;case 770:Jf(a,"WL");Jf(a,"["+f+"]");break;case 513:Jf(a,"RM");Lf(a,f);break;case 529:Jf(a,"CR");Lf(a,f);break;case 530:Jf(a,"MA");Lf(a,f);break;case 531:Jf(a,"SQ");Lf(a,f);break;case 532:Jf(a,"TR");Lf(a,f);break;case 533:Jf(a,"LB");Jf(a,"[");e=a;h=T(f.yj);Jf(e,String.fromCharCode(h.f+96,h.g+96));Jf(a,":"+f.Text+"]");break;case 260:Jf(a,"PL"),Jf(a,"["+(f===G?"W":"B")+"]")}g=b.Ka;""!==g&&(g=g.replace(RegExp("]","g"),"\\]"),Jf(a,"C"),Jf(a,"["),Jf(a,g),Jf(a,"]"));if(null!==a.$a){g=new Qe;Re(g,"SGFCM");Se(g,1);f=a.c.fa.Y();c=f.f;f=f.g;Se(g,c);Se(g,f);e=!1;for(h=0;h<f;h++)for(l=0;l<c;l++)(k=b.Ga[(h+1<<8)+(l+1)])?(k=ae(k),void 0!==a.$a[k]?(Z(g,a.$a[k]),e=!0):Z(g,0)):Z(g,0);!0===e&&(g=he(Pe(g)),Mf(a,"CM",g))}g=0;for(c=U(b);g<c;g++)Be(a,b.Q(g));d&&Jf(a,")")}Ae.prototype.Ti=function(a){var b=new Qe;Re(b,"SGFCT");Se(b,1);Te(b,a.length);for(var c=0,d=a.length;c<d;c++)Te(b,a[c]);a=he(Pe(b));Mf(this,"CT",a)};function of(){this.Rc=!1;this.hb={}};W.prototype.gl="0.9.57";}());